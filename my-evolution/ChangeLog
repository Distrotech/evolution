2001-08-09  Anna Marie Dirks <anna@ximian.com> 
	* my-evolution-html.h : added more padding between the vertical
	spacer and the icons for the mail/appointments/tasks summaries.


2001-08-09  Anna Marie Dirks <anna@ximian.com>
        * my-evolution.glade : added accelerators to all useful widgets
	in this file such that this dialog can now be fully navigated from
	the keyboard. 

	* e-summary-preferences.c : changed the construct_pixmap_button
	function to take glade xml, an hbox and pixmap, making it possible
	to use glade to define and change the keyboard accelerators, instead
	of trying to do this in the c code. 


2001-08-06  Damon Chaplin  <damon@ximian.com>

	* e-summary-tasks.c (sort_uids): 
	(get_todays_uids): 
	(generate_html): 
	* e-summary-calendar.c (sort_uids): free the CalComponentDateTime
	and icaltimetype values after finishing with them.

2001-08-03  Jason Leach  <jleach@ximian.com>

	* e-summary-mail.c (update_folder_cb): Callback for the
	EvolutionStorageListener::update_folder signal, so we can update
	mail summaries when they change.  Bug #4686.

2001-08-02  Jason Leach  <jleach@ximian.com>

	* e-summary-calendar.c (generate_html): Use the new and beautiful
	icon from Jakub.

	* e-summary-mail.c (e_summary_mail_generate_html): Ditto.

	* e-summary-tasks.c (generate_html): Ditto.	

2001-07-23  Zbigniew Chyla  <cyba@gnome.pl>

       * e-summary-rdf.c (display_doc): Convert translated string to UTF8.

2001-07-30  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c: Remove the Wipe Trackers references.
	
	* e-summary-rdf.c: Remove the wip trackers as I'm not 100% sure what it
	does, and it didn't work.

	* e-summary.h: Remove the wipe_trackers boolean

	* my-evolution.glade: Remove the wipe trackers and shrink the New Feed
	button

2001-07-30  Iain Holmes  <iain@ximian.com>

	* e-sumary-calendar.c (generate_html): Correct the URL for the links.

2001-07-27  Iain Holmes  <iain@ximian.com>

	* Locations: Add some more German cities from s.kost@webmacher.de.

2001-07-23  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (add_dialog_clicked_cb): Add the new RDF to
	the shown clist as well.

2001-07-23  Iain Holmes  <iain@ximian.com>

	* e-summary-mail.c (e_summary_mail_init): Move the storage register out
	of here into a seperate function.
	(e_summary_mail_register_storages): Register the local storage.
	(e_summary_mail_register_storage): Register a single storage.

2001-07-23  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c: Fix the KDE and Newsforge things. Change the
	KDE rdf to the one that the KDE person told me :)

2001-07-23  Jason Leach  <jleach@ximian.com>

	* e-summary-preferences.c: Update the url (and site name) for the
	KDE rdf.  Bug #5145.

2001-07-21  Ettore Perazzoli  <ettore@ximian.com>

	* component-factory.c: Make the "My Evolution" folder
	non-creatable by setting the `user_creatable' member of
	`EvolutionShellComponentFolderType' to %FALSE.

2001-07-20  Jason Leach  <jleach@ximian.com>

	* e-summary-tasks.c: Revert last changes, URIs are now back to
	original in shell.

2001-07-19  Jason Leach  <jleach@ximian.com>

	* e-summary-tasks.c: Update the evolution:/local/ URI's to
	evolution:/Local Folders/ to go along with todays shell changes.

	* e-summary-mail.c: Ditto.	

	* e-summary-calendar.c: Ditto.
	
2001-07-19  Iain Holmes  <iain@ximian.com>

	* e-summary-rdf.c (display_doc): Fix HTML

	* e-summary-mail.c (folder_gen_html): correct the folder name.

2001-07-19  Iain Holmes  <iain@ximian.com>

	* my-evolution-html.h: Set the text colour to black. Frank was claiming
	it picked the default colour from the GTK+ theme, and if it was white
	bad things happened.

2001-07-18  Iain Holmes  <iain@ximian.com>

	* e-summary-weather.c (weather_make_html): Remove the (more) link.

	* e-summary.c (e_summary_draw): Don't append NULL to the GString.

	* e-summary-tasks.c: Remove spewage.

2001-07-18  Iain Holmes  <iain@ximian.com>

	* e-summary-weather.c (weather_make_html): Remove spewage.

2001-07-18  Iain Holmes  <iain@ximian.com>

	* e-summary.c (e_summary_reconfigure): Reconfigure the tasks.

	* e-summary-tasks.c (generate_html): Obtain todays tasks.
	(get_todays_uids): Make a list of todays uids.

2001-07-18  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (make_property_dialog): Create the image 
	buttons.
	(construct_pixmap_button): Create a box with an image and text.

2001-07-18  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (e_summary_configure): Set the title on the
	window. Just do a g_return_if_fail if the XML file couldn't be loaded.

2001-07-16  Iain Holmes  <iain@ximian.com>

	* e-summary-rdf.c (display_doc): Nicer error reporting.

	* e-summary-weather.c: Nicer error reporting.

2001-07-13  Iain Holmes  <iain@ximian.com>

	* e-summary-tasks.c: Fix the name of the icon.

2001-07-13  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (mail_add_clicked_cb): Set the property box
	to changed.

2001-07-13  Zbigniew Chyla  <cyba@gnome.pl>

	* e-summary.c (e_summary_draw): Convert the date string to utf8 before
	appending it to HTML.

2001-07-12  Iain Holmes  <iain@ximian.com>

	* metar.c: #include <config.h>

2001-07-12  Iain Holmes  <iain@ximian.com>

	* e-summary.c (e_summary_draw): put _() around the date string.

	* metar.c: Put some _() around things.

2001-07-12  Iain Holmes  <iain@ximian.com>

	* my-evolution.glade: Made the weather a single selection clist.

2001-07-11  Iain Holmes  <iain@ximian.com>

	* e-summary-mail.c (e_summary_mail_generate_html): Protect with
	g_return_if_fail

2001-07-11  Iain Holmes  <iain@ximian.com>

	* e-summary.c (destroy): Destroy the alarm.
	(e_summary_init): Init the alarm.
	
	* e-summary-mail.c (free_folder): Don't free the value.

2001-07-11  Iain Holmes  <iain@ximian.com>

	* e-summary.c (destroy): Destroy all the subcomponents.

	* e-summary-rdf.c (e_summary_rdf_free): Free and stop all tranfsers

	* e-summary-weather.c (e_summary_weather_free): Same.

	* e-summary-mail.c (e_summary_mail_free): Same.

	* e-summary-calendar.c (e_summary_calendar_free): Same.

	* e-summary-tasks.c (e_summary_tasks_free): Guess what.

2001-07-10  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c: Correct the Register RDF url.

2001-07-09  Iain Holmes  <iain@ximian.com>

	* e-summary.c (e_summary_init): Connect a calendar alarm to be notified
	of when the day changes.

	* Makefile.am: Link with libalarm.a

2001-07-09  Iain Holmes  <iain@ximian.com>

	* e-summary-weather.c (weather_make_html): Get an icon for the weather.

	* metar.[ch] (icon_from_weather): Work out what icon for a specific
	weather type.

2001-07-09  Iain Holmes  <iain@ximian.com>

	* e-summary-rdf.c (tree_walk): Fix HTML so it doesn't give the big black
	line

2001-07-09  Iain Holmes  <iain@ximian.com>

	* e-summary-tasks.c (generate_html): Fix same HTML bug as in calendar.

2001-07-09  Iain Holmes  <iain@ximian.com>

	* e-summary-calendar.c (generate_html): Show varying times depending
	on how soon the appointment is. 

2001-07-09  Iain Holmes  <iain@ximian.com>

	* e-summary-calendar.c (generate_html): Fix up the HTML so having 
	appointments doesn't mess up the display. Set the correct length of
	time to show appointments.

2001-07-09  Iain Holmes  <iain@ximian.com>

	* e-summary-tasks.c (generate_html): Make the tasks switch to the
	tasks folder when you click on them.

2001-07-09  Kjartan Maraas  <kmaraas@gnome.org>

	* e-summary-preferences.c: Added #include <config.h> to get
	translations working.
	
2001-07-06  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (str_list_from_vector): Change the delimiter
	(vector_from_str_list): Change the delimiter.
	(fill_mail_all_clist): Fill the mail folder clist.
	(fill_mail_shown_clist): Use nicer names.
	(mail_add_clicked_cb): Add folders to the shown list.
	
	* e-summary-mail.c (e_summary_mail_fill_list): Flatten the hashtable
	into the CList.
	(e_summary_mail_uri_to_name): Get the pretty name for a uri.

2001-07-06  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (fill_rdf_shown_list): Attach data
	(rdf_add_clicked_cb): Allow multiple rows to be removed.
	(rdf_remove_clicked_cb): Use the data.

	* my-evolution.glade: Allow multiple selection in the RDF all clist.
	Only allow single selection in the shown rdf list.

2001-07-05  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (rdf_new_url_clicked_cb): Change RDF to
	news feed.

2001-07-05  Iain Holmes  <iain@ximian.com>

	* my-evolution.glade: Replace a table with a vbox so that the text
	of the radio buttons can be clicked. Change RDF to News Feed

2001-07-05  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (add_dialog_clicked_cb): Fix warning
	(fill_rdf_shown_clist): Fix warning.
	(calendar_one_toggled_cb): Set preferences to the right toggle button.
	(calendar_five_toggled_cb): Ditto
	(calendar_week_toggled_cb): Ditto ditto
	(calendar_month_toggled_cb): Ditto dotto
	(calendar_all_toggled_cb): Set the amount of Tasks to be shown
	(calendar_today_toggled_cb): Ditto
	(make_property_dialog): Hook up the calendar radio buttons.
	(e_summary_preferences_restore): Pass NULL as opt_default, not &ev.

2001-07-05  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (e_summary_preferences_restore): Add
	My-Evolution to the namespace.
	(e_summary_preferences_save): Ditto.

2001-07-05  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (e_summary_preferences_restore): Re-enabled.
	Bonobo-conf doesn't seem to like NULL for opt_ev.

2001-07-03  Iain Holmes  <iain@ximian.com>

	* e-summary-prefences.c (e_summary_preferences_restore): Disabled until
	memory corruption thing is found.

	* my-evolution.glade: Fix the radio button problem.

2001-07-03  Iain Holmes  <iain@ximian.com>

	* e-summary-factory.c: Fixed the Bonobo warning.

2001-07-03  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (e_summary_preferences_restore): Ditch
	gnome-config and replace it with bonobo-conf.
	(e_summary_preferences_save): Ditto.

	* e-summary-factory.c: Use the new print.png icon.

	* Makefile.am: Add bonobo conf CFLAGS and LIBS

2001-07-03  Iain Holmes  <iain@ximian.com>

	* e-summary.c (e_summary_set_online): Return if summary == NULL.
	(e_summary_add_connections): Return NULL if summary == NULL.
	(e_summary_count_connections): Return 0 if summary == NULL.

2001-07-02  Iain Holmes  <iain@ximian.com>

	* e-summary-tasks.[ch]: New files for tasks.

	* e-summary.c: USe the tasks.

2001-07-02  Iain Holmes  <iain@ximian.com>

	* Makefile.am: Add the glade files to the EXTRA_DIST

2001-07-02  Ettore Perazzoli  <ettore@ximian.com>

	* Makefile.am (evolution_executive_summary_SOURCES): Add
	`e-summary-preferences.h'.

2001-06-30  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (fill_rdf_all_clist): Load the URLs from a
	file.
	(save_known_urls): Save the known URLs.
	(add_dialog_clicked_cb): Close the dialog on Cancel. Save the URLs on
	Ok.
	(rdf_new_url_clicked_cb): Add some labels and an entry for the name.

2001-06-30  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (fill_rdf_all_clist): Fill with names
	instead of URLs.
	(find_name_for_url): Given a URL find a name for it if we know it.
	(rdf_add_clicked_cb): Add the name to the clist and the url to the
	list.

2001-06-30  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (add_dialog_clicked_cb): Add the new url to
	the list.
	(rdf_new_url_clicked_cb): Create a dialog and allow the user to add
	new urls.

2001-06-30  Iain Holmes  <iain@ximian.com>

	* e-summary-rdf.c (tree_walk): Remove spewage.
	(e_summary_rdf_count):
	(e_summary_rdf_add):
	(make_connection):
	(e_summary_rdf_set_online): Callbacks for the online_handler stuff.
	(e_summary_rdf_init): Setup the offline handler stuff.
	(close_callback): Update the number of onlines there are.

	* e-summary-weather.c (close_callback): Update the number of onlines.
	(e_summary_weather_count): Count the number of active downloads.
	(e_summary_weather_add): Make a list of active downloads.
	(make_connection): Make connection data.
	(e_summary_weather_set_online): Set if the component is online or not.
	(e_summary_weather_init): Setup the offline handler stuff.

	* e-summary.c (e_summary_count_connections): Call all the callbacks
	in the various modules that have online data and count the number of
	connections.
	(e_summary_add_connections): Make a list of them all.
	(e_summary_set_online): Set the online status for each registered
	module.
	(e_summary_add_online_connection): Register a new module.

	* e-summary-offline-handler.[ch]: BonoboXObject implementing the
	GNOME::Evolution::Offline interface.

	* e-summary-factory.c (factory_fn): Create an offline handler.

	* Makefile.am: Compile e-summary-offline-handler.[ch]

2001-06-30  Zbigniew Chyla  <cyba@gnome.pl>

	* e-summary-calendar.c (generate_html):
	Marked strings for translation + conversion to utf8.

	* e-summary-mail.c
	Added missing #include <config.h>
	(e_summary_mail_generate_html):
	Marked strings for translation + conversion to utf8.

	* e-summary-weather.c
	(e_summary_weather_get_html, open_callback):
	Marked strings for translation + conversion to utf8.
	(weather_make_html): Fixed leaks.

	* e-summary-rdf.c
	(tree_walk): Fixed leaks.
	(read_callback): Marked strings for translation.

2001-06-29  Iain Holmes  <iain@ximian.com>

	* e-summary.c (e_summary_draw): Resurrect the hack to stop GtkHTML from
	returning to the top when it's redrawn.

2001-06-29  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c (property_box_destroy_cb): Hook up the saving.
	(str_list_from_vector): Fix memory corruption.
	(e_summary_preferences_save): Write the preferences out to disk.
	I *always* forget that.

	* e-summary-mail.c (e_summary_mail_init): Init ->shown to NULL.
	
2001-06-29  Iain Holmes  <iain@ximian.com>

	* e-summary-preferences.c: Do everything preferences related.

	* my-evolution.glade: Glade file for the preferences box.

	* e-summary-calendar.c (e_summary_calendar_reconfigure): Stub for later

	* e-summary-calendar.h: Some enums for settings.
	
	* e-summary-mail.c (folder_gen_html): Change the prototype so it
	doesn't work as a hash table foreach function.
	(new_folder_cb): Fix typo in comment :)
	                 Create a list of folders we display.
	(remove_folder_cb): Remove the folder from the display folder list.
	(maybe_add_to_shown): Hash table foreach function to create a display
	                      folder list.
	(e_summary_mail_reconfigure): Recreate the mail HTML.

	* e-summary-rdf.c (tree_walk): Obey preferences.
	(e_summary_rdf_update): Separate the updating and downloading logic.
	(e_summary_rdf_init): Start an updating timeout.
	(e_summary_rdf_reconfigure): Recreate the RDF html.

	* e-summary-weather.c (e_summary_weather_update): Separate the updating
	and downloading logic.
	(e_summary_weather_init): Start timeout.
	(e_summary_weather_code_to_name): Convert code to location name.
	(e_summary_weather_ctree_fill): Fill a CTree with the location data.
	(e_summary_weather_reconfigure): Regenerate the HTML.

	* e-summary.c (e_summary_init): Create the preferences.
	(e_summary_reconfigure): Reconfigure the whole summary.
	
	* metar.c: Obey preferences.

2001-06-27  Iain Holmes  <iain@ximian.com>

	* e-summary-factory.c: Add the pixmaps to the menus.
	Add a new menu item for the configuration stuff.

2001-06-27  Ettore Perazzoli  <ettore@ximian.com>

	* component-factory.c (factory_fn): Pass NULL as the
	@external_uri_schemas argument to
	`evolution_shell_component_new()'.

2001-06-21  Rodrigo Moya <rodrigo@ximian.com>

	* Makefile.am: added libwombat to LDADD

2001-06-15  JP Rosevear  <jpr@ximian.com>

	* Makefile.am: Get weather.h disted
	
2001-06-15  JP Rosevear  <jpr@ximian.com>

	* Makefile.am: Fix includes so that libical need not be installed 

2001-06-14  JP Rosevear  <jpr@ximian.com>

	* Makefile.am: add my-evolution-html.h to the sources

2001-06-13  JP Rosevear  <jpr@ximian.com>

	* Makefile.am: Make e-summary-type.h a source so it gets disted

2001-06-08  Iain Holmes  <iain@ximian.com>

	* e-summary.c (e_summary_init): Allow horizontal scrollbars.
	
	* e-summary-weather.c (e_summary_weather_init): Change the name of the	
	protocol registered.
	(weather_make_html): Use the weather protocol instead of more.
