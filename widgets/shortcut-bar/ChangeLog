2000-09-28  Ettore Perazzoli  <ettore@helixcode.com>

	* e-shortcut-bar.c (e_shortcut_bar_destroy): Disconnect the model
	before freeing the group array.

2000-09-26  Ettore Perazzoli  <ettore@helixcode.com>

	* e-shortcut-bar.c (e_shortcut_bar_on_drag_data_delete): Emit the
	signal correctly.

2000-09-25  Ettore Perazzoli  <ettore@helixcode.com>

	* e-shortcut-bar.c (e_shortcut_bar_destroy): Call
	`e_shortcut_bar_disconnect_model()'.
	(e_shortcut_bar_on_drag_data_received): Don't add the item to the
	model here; the view is only supposed to act as a view.  Rather,
	emit the "dropped_shortcut" signal appropriately.
	(e_shortcut_bar_on_drag_data_delete): Likewise, don't remove the
	item from the model and emit "shortcut_dragged".
	(e_shortcut_bar_class_init): Install the "shortcut_dropped" and
	"shortcut_dragged" signals.

	* e-shortcut-bar.h: New signals "shortcut_dropped",
	"shortcut_dragged".  "selected_item" changed to "item_selected".

2000-09-18  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Added $(EXTRA_GNOME_CFLAGS) and
	$(EXTRA_GNOME_LIBS).  Removed unneeded libraries.

	* e-icon-bar.c, e-icon-bar.h, e-shortcut-bar.c,
	e-shortcut-model.c, test-shortcut-bar.c: Fixed the #include lines
	to deal properly with gal.

2000-08-16  Larry Ewing  <lewing@helixcode.com>

	* e-icon-bar.c (e_icon_bar_init): remove COLOR_TEXT references.

2000-08-16  Larry Ewing  <lewing@helixcode.com>

	* e-icon-bar.h (enum): get rid of COLOR_TEXT.
	(struct _EIconBarItem): add pixbuf member to hold unmodified
	pixbuf.

	* e-icon-bar.c (e_icon_bar_style_set): update the image and the
	colors based on the new style.
	(e_icon_bar_add_item): store the full alpha pixbuf so that we can
	update the background color if the style changes.  Use the style
	colors where appropriate.
	(e_icon_bar_on_editing_stopped): revert to style colors.
	(e_icon_bar_on_editing_started): use style fg instead of
	COLOR_TEXT.
	
	* e-shortcut-bar.c (e_shortcut_bar_add_group): add an #ifndef
	E_USE_STYLES around the call to e_shortcut_bar_set_canvas_style to
	allow people to test out the style stuff that is in progress.
	
2000-07-16  Damon Chaplin  <damon@helixcode.com>

	* e-shortcut-model.[hc]: new files implementing a simple model for
	the shortcuts, so we can have multiple views.

	* Makefile.am (libshortcut_bar_a_SOURCES): added e-shortcut-model.[hc]

	* e-shortcut-bar.h: updated to use the model.

	* e-icon-bar.c (e_icon_bar_item_pressed): set mouse_over_item_num as
	well as pressed_item_num to fix bug.

2000-07-10  Ettore Perazzoli  <ettore@helixcode.com>

	* e-group-bar.c (e_group_bar_add): Set `group_bar'.

2000-06-19  Damon Chaplin  <damon@helixcode.com>

	* e-icon-bar-bg-item.c:
	* e-icon-bar.c:
	* e-icon-bar.h:
	* e-vscrolled-bar.c: added support for scroll-wheels.

2000-06-02  Christopher James Lahey  <clahey@helixcode.com>

	* e-icon-bar.c: Free all the item data.

2000-06-01  Ettore Perazzoli  <ettore@helixcode.com>

	* e-shortcut-bar.c (e_shortcut_bar_get_view_type): New function.

2000-05-25  Ettore Perazzoli  <ettore@helixcode.com>

	* e-shortcut-bar.c (e_shortcut_bar_load_image): Leak plug: free
	pathname returned from `gnome_pixmap_file()'.

	* Makefile.am: Add `-I$(top_srcdir)'.

2000-05-24  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Added libepaned.a.

	* test-shortcut-bar.c: Switched from GtkPaned to EPaned.

2000-05-18  Damon Chaplin  <damon@helixcode.com>

	* e-shortcut-bar.[hc]: new signals "added_item", "removed_item",
	"added_group", "removed_group". Note that the removed signals are
	emitted just before the item/group is actually removed.

	* test-shortcut-bar.c: updated to test the new signals, and ref'ed
	the pixbufs in the icon callback.

2000-05-16  Ettore Perazzoli  <ettore@helixcode.com>

	* e-clipped-label.c: Moved to $(top_srcdir)/widgets/misc.
	* e-clipped-label.h: Likewise.
	* Makefile.am: Updated accordingly.

2000-05-07  Larry Ewing  <lewing@helixcode.com>

	* e-icon-bar.h (struct _EIconBarItem): remove the no longer needed
	flatened_alpha member.

	* e-icon-bar.c (flatten_alpha): using ~rgb can cause visual
	artifacts.
	(e_icon_bar_add_item): fixup refcounting of the flattend pixbuf,
	the canvas item should hold the reference not us. Stop using
	item.flattened_alpha since it no longer exists.
	(e_icon_bar_remove_item): remove the unref since destroying the
	item will take care of that for us.

	* e-shortcut-bar.c (e_shortcut_bar_add_item): make sure to unref
	the image we get back, the icon bar will hold any references it
	needs.
	(e_shortcut_bar_get_image_from_url): ref the default image each
	time we return it so that references are counted correctly.

2000-05-04  Ettore Perazzoli  <ettore@helixcode.com>

	* e-shortcut-bar.h (E_TYPE_SHORTCUT_BAR): New #define.

2000-05-04  Ettore Perazzoli  <ettore@helixcode.com>

	* e-icon-bar-bg-item.c (e_icon_bar_bg_item_draw): Initialize
	`shadow' to placate compiler.

	* e-icon-bar.c (e_icon_bar_add_item): @text made const-safe.

	* e-shortcut-bar.c (e_shortcut_bar_add_group): @group_name made
	const-safe.
	(e_shortcut_bar_add_item): @item_url and @item_name made
	const-safe.
	(e_shortcut_bar_get_image_from_url): @item_url made const-safe.
	(e_shortcut_bar_load_image): @filename made const-safe.

2000-05-04  Ettore Perazzoli  <ettore@helixcode.com>

	* test-shortcut-bar.c (icon_callback): Adapted to the new
	`EShortcutBarIconCallback' typedef: get a @data parameter and get
	a const-safe @url.

	* e-shortcut-bar.c (e_shortcut_bar_set_icon_callback): New param
	@data.  Set `icon_callback_data' to it.
	(e_shortcut_bar_get_image_from_url): Pass the callback data to the
	callback.

	* e-shortcut-bar.h: Changed `EShortcutBarIconCallback' to get a
	const-safe @url parameter and a new @data parameter as a closure.
	New member `data' in `EShortcutBar'.

2000-05-02  Matt Loper  <matt@helixcode.com>

	* Makefile.am: set G_LOG_DOMAIN.

2000-04-16  Damon Chaplin  <damon@helixcode.com>

	* test-shortcut-bar.c: added buttons to test moving/reordering groups.

	* e-shortcut-bar.c (e_shortcut_bar_on_drag_end): new function to free
	the dragged name & URL when the drag is finished.

	* e-group-bar.c (e_group_bar_get_increment): fixed bug when distance
	was 0. Should just return 0.
	(e_group_bar_set_current_group_num): added animate option and finished.
	(e_group_bar_unmap): called e_group_bar_stop_all_animation().
	(e_group_bar_reorder_group): finished.

	* e-icon-bar-text-item.[hc]: removed, since we now use EText.
	
2000-04-15  Miguel de Icaza  <miguel@gnu.org>

	* e-group-bar.c (e_group_bar_realize): Do not use the parent
	thingie, because it might be like anything.  And anything can be
	like any visual, and we dont like want any visual here.

	* e-shortcut-bar.c
	(e_shortcut_bar_add_group): Apply some loving action when it comes
	to visuals and colormaps.  Yes, we got one of those machines
	--again--.  Sigh.  This is what you get when you have been away
	from the Indy.  The whole thing is breaking left and right.

	Hopefully, Gtk 1.4 fixes all of this, by always running in the
	slowest visual it can find.

2000-04-11  Larry Ewing  <lewing@helixcode.com>
	
	* e-icon-bar.c (flatten_alpha): update for
	new gdk-pixbuf.

2000-03-31  Damon Chaplin  <damon@helixcode.com>

	* e-shortcut-bar.[hc]: added support for a
	callback function to set the icons.

	* test-shortcut-bar.c: updated to use the
	callback function.

2000-03-30  Dan Winship  <danw@helixcode.com>
	
	* e-shortcut-bar.c: Sort of use the new
	pixmaps. This code needs to be restructured, but Damon is
	rumored to already be doing it.

2000-03-27  Miguel de Icaza  <miguel@gnu.org>

	* e-icon-bar.c (flatten_alpha): New function,
	used to flatten the images we get and composite them with the
	background. 
	(e_icon_bar_add_item): One happy tigert comming.

2000-03-21  Christopher James Lahey  <clahey@helixcode.com>

	* e-icon-bar.c: Updated to fix a few bugs.

2000-02-28  NotZed  <NotZed@HelixCode.com>

	* Makefile.am (test_shortcut_bar_LDADD):
	Fixed references to eutil.

2000-02-20  Damon Chaplin  <damon@helixcode.com>

	* Makefile.am: added libetext.a and libeutil.a
	to test_shortcut_bar_LDADD, and got rid of e-icon-bar-text-item.[hc].
	I'll delete these soon.

	* e-icon-bar.c: changed to be a subclass of
	ECanvas and to use EText instead of EIconBarTextItem. Also set
	"width_set" & "height_set" of the GnomeCanvasPixbuf items so they
	work in the "Small Icon" view.

	* e-vscrolled-bar.c: use map/unmap instead of
	show/hide for the up & down buttons to avoid queueing resizes.
	Otherwise the scrolling starts off a bit jerky.

	* test-shortcut-bar.c: output a message when the
	main label is resized, just for info.

	* *.[hc]: updated my email address.

2000-02-07  Damon Chaplin  <damon@helixcode.com>

	* e-group-bar.c (e_group_bar_draw): finished.

	* e-icon-bar.c (e_icon_bar_item_released): 
	check that an item was pressed.

2000-01-26  bertrand  <bertrand@helixcode.com>

	* e-icon-bar.c (e_icon_bar_recalc_item_positions): 
	don't set the x_set and y_set 
	arguments as don't exist in gdk-pixbuf 
	anymore. 

2000-01-17  Chrsitopher James Lahey  <clahey@helixcode.com>
	
	* Makefile.am: Added gnomecanvaspixbuf to the
	list of libraries used.

2000-01-09  Miguel de Icaza  <miguel@gnu.org>

	* e-icon-bar.c (e_icon_bar_init): Turn on anti-aliasing.

2000-01-08  Miguel de Icaza  <miguel@gnu.org>

	* e-icon-bar.c (e_icon_bar_add_item): Use
	GdkPixbuf here. 
	(e_icon_bar_get_item_image): ditto and initialize image.

	* e-shortcut-bar.c (e_shortcut_bar_add_item):
	Use gdk-pixbuf.

2000-01-14  Christopher James Lahey  <clahey@helixcode.com>

	* e-shortcut-bar.c (e_shortcut_bar_add_item):
	Use e_bar_set_item_data.

	Drop item_url;  Require image argument;  Require user data
	argument. 

2000-01-09  Miguel de Icaza  <miguel@gnu.org>

	* e-icon-bar.c (e_icon_bar_init): Turn on anti-aliasing.

2000-01-08  Miguel de Icaza  <miguel@gnu.org>

	* e-icon-bar.c (e_icon_bar_add_item): Use
	GdkPixbuf here. 
	(e_icon_bar_get_item_image): ditto and initialize image.

	* e-shortcut-bar.c (e_shortcut_bar_add_item):
	Use gdk-pixbuf.

