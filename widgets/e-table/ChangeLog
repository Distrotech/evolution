2000-08-09  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c, e-table-selection-model.c,
	e-table-selection-model.h: Make right click select if the current
	row is not selected.

2000-08-08  Miguel de Icaza  <miguel@helixcode.com>

	* e-table-header-item.c: Tag some strings for translation.

2000-07-18  Miguel de Icaza  <miguel@helixcode.com>

	* e-tree-model.c (etree_destroy): Call our parent's destroy
	method. 

2000-08-09  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c: Changed e_popup_menu_run call to match
	the new arguments.

2000-08-05  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c, e-table.h: Added functions to convert from view row
	to model row or from model row to view row.  Also changed
	e_table_set_cursor_row and e_table_get_cursor_row to take a model
	row as this works better with the rest of the model.  Changed the
	name of e_table_get_next_row_sorted and
	e_table_get_prev_row_sorted.  (Dropped the _sorted.)

2000-08-05  Dan Winship  <danw@helixcode.com>

	* e-table.c (e_table_get_{next,prev}_row_sorted): fix

2000-08-05  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Added a function to get the next row with sorting
	taken into account.

2000-08-05  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-sorter.c: Made it so that selection ranges work even if
	the table is using grouping.

2000-08-05  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am, e-table-selection-model.c,
	e-table-selection-model.h, e-table.c, e-table.h: Made selection
	ranges work even if the table is sorted.

	* e-table-sorter.c, e-table-sorter.h: New files to help with
	making selection ranges work even if sorted.

2000-08-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c, e-table.h: Built code to have autodrags only work
	from within the table and to report the row dragged from
	automatically.

2000-08-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table-group-leaf.c,
	e-table-group.c, e-table-group.h, e-table-item.c, e-table-item.h:
	Made drag events calculate a row and column and signal that
	information.
	
	* e-table-selection-model.c, e-table-selection-model.h: Changed
	do_something to take a GdkModifierType.

2000-08-02  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c, e-table-item.h: Add a handler for
	"model_pre_change" and properly stop editing.

	* e-table-model.c, e-table-model.h: Added a "model_pre_change"
	signal that gets sent before any row numbers are changed.

	* e-table-sorted-variable.c, e-table-subset-variable.c: Emit
	"model_pre_change" signals as appropriate.

	* e-table-subset.c, e-table-subset.h: Proxy "model_pre_changed"
	signals.

2000-08-02  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-model.c, e-table-model.h: Changed the API for the
	append_row function.  Now accepts a model to copy data from
	instead of returning a row number and leaving it up to ETableOne
	to copy the data in.

	* e-table-one.c, e-table-one.h: Adapted to use new append_row API.

	* e-table-simple.c, e-table-simple.h, e-table-subset.c: Adapted to
	supply new append_row API.

2000-07-31  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-col.c, e-table-col.h: Added an argument to set a column
	so that you can't sort by that column.

	* e-table-header-item.c: Obey the sortable column of ETableCol.

2000-07-29  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-click-to-add.c: Made enter key destroy and recreate the
	ETableItem.

	* e-table-item.c: Grab focus when person clicks even if cursor
	isn't changing.

2000-07-28  Dan Winship  <danw@helixcode.com>

	* e-table-header.c (eth_destroy): Remove the idle handler before
	destroying the data it operates on.

2000-07-27  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Fixed up the table behavior so that it's not
	always in an edit mode.

2000-07-27  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-selection-model.c: Added a comment.

2000-07-27  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-selection-model.c: Fixed shift click selections.

2000-07-27  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-selection-model.c: Allocate correctly in the insert and
	delete methods.

	* e-table-click-to-add.c: Removed the line that was causing this
	to do bad things.

2000-07-27  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c (eti_cursor_change): Grab focus properly.

	* e-table-item.c, e-table-click-to-add.c: Fixed ETableClickToAdd
	to handle carriage return.  This still doesn't quite work right.

2000-07-27  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-click-to-add.c: Clear the selection model when
	activating.

	* e-table-item.c: Fixed a bunch of model column vs. view column
	issues.

	* e-table-selection-model.c: Set the cursor to -1, -1 and emi a
	"cursor_changed" signal.

2000-07-26  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-click-to-add.c: Fixed a reference.

	* e-table-selection-model.c, e-table-selection-model.h: Added a
	clear function.

	* e-table.c, e-table.h: Made going from click to add to the main
	table and back work better.

2000-07-26  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-click-to-add.c, e-table-click-to-add.h: Added an
	ETableSelectionModel so this won't crash.

2000-07-26  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Fixed the model/view row confusion.

	* e-table-selection-model.c: Changed one expression to use a
	#define properly.

2000-07-26  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table-group-container.h,
	e-table-group-leaf.c, e-table-group-leaf.h: Added "table_selection_model"
	argument.  Removed foreach function and selection notification.

	* e-table-group.c, e-table-group.h: Removed foreach function and
	selection notification.
	
	* e-table-header.c: Fixed header width calculation to include the
	last column.

	* e-table-item.c, e-table-item.h: Fixed this to use the new
	selection model.

	* e-table-scrolled.c, e-table-scrolled.h: Removed selection
	notification.

	* e-table-selection-model.c, e-table-selection-model.h: Finished
	notification signals and fixed a bunch of bit manipulations.
	Implemented do_something method.

	* e-table.c, e-table.h: Create an ETableSelectionModel and use it
	properly.

2000-07-25  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-selection-model.c: Made foreach call the callback in top
	to bottom order.

2000-07-25  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-selection-model.c, e-table-selection-model.h: Replaced
	get_selection_list with foreach.

	* e-table.h: Add a ETableSelectionModel.

2000-07-25  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Added e-table-selection-model.c and
	e-table-selection-model.h.

	* e-table-selection-model.c: Added the get_selection_list and
	is_row_selected functions.  Removed some unused code.

	* e-table-selection-model.h: Removed some unused code.

2000-07-25  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-selection-model.c: Added comments to the bit field code.

	* e-table-selection-model.h: Made the selection data guint32s.

2000-07-25  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-selection-model.c: More fixes.

2000-07-25  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-selection-model.c: Fixed up the bit manipulation a bit
	here.

2000-07-25  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-selection-model.c, e-table-selection-model.h: New files
	for doing a selection model.  Not finished yet and thus not in
	Makefile.am.

	* e-table.c, e-table.h: Renamed the new dnd signals so that they
	won't conflict with the widget signals.

2000-07-25  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c, e-table.h: Implemented some of the drag & drop code.
	Drops all report as being on row 0, col 0.  Also, automatic drags
	don't set the row and column being dragged from.

2000-07-23  Damon Chaplin  <damon@helixcode.com>

	* e-cell-text.c: added a color_column where the color can be specified
	as a string, e.g. "red" or "rgb:F/0/0".

	* e-cell-text.c (ect_leave_edit): don't call unbuild_current_cell()
	since the CellEdit struct has been freed in ect_stop_editing() and so
	has the text.

	* e-cell-text.c (unbuild_current_cell): set cell->text to NULL to make
	sure we	don't try to free it again.

2000-07-21  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.h: Added some unused declarations for drag and drop
	work.

2000-07-14  Michael Meeks  <michael@helixcode.com>

	* e-table-subset.c (etss_destroy): g_free things we g_malloc.

2000-07-13  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c: Changed the background color of the
	header.

2000-07-12  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c: Made scroll wheel work properly in
	header.

2000-07-10  Ettore Perazzoli  <ettore@helixcode.com>

	* e-table.c (set_scroll_adjustments): Be safe if @vadjustment is
	NULL.

	* e-table-scrolled.c (e_table_scrolled_init): Set policy and
	shadow type.
	(e_table_scrolled_real_construct): Don't set the adjustments.
	(e_table_scrolled_new): Create the widget with `gtk_widget_new()'
	and pass hadjustment/vadjustment NULL values so that we get the
	`GTK_OBJECT_CONSTRUCTED' approval.

2000-07-10  Ettore Perazzoli  <ettore@helixcode.com>

	* e-table-scrolled.h: s/GtkTable/EScrollFrameClass/.

2000-07-09  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Add e-table-scrolled.c and e-table-scrolled.h.

	* e-table-item.c: Make sure that find_cell returns FALSE if the
	item doesn't have any cells.

	* e-table-scrolled.c, e-table-scrolled.h: Added a widget to
	contain an ETable and provide scrollbars (for ease of use.)

	* e-table.c, e-table.h: Make this support the scrollable interface
	and not contain its own scrollbars.

2000-07-09  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c (eti_event): Put back e_cell_event sometimes when
	we're not editing.

2000-07-09  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Set the dnd_code to something non-null for the
	ETableHeaderItem.

2000-07-09  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Set header canvas scroll region correctly.

2000-07-09  Anders Carlsson  <andersca@gnu.org>

	* e-table-header-item.c (ethi_drag_motion): Don't draw drop
	marker when the layout won't be changed by the drop.

2000-07-08  Ettore Perazzoli  <ettore@helixcode.com>

	* e-table-item.c (eti_table_model_changed): Removed an unused
	variable.

2000-07-08  Dan Winship  <danw@helixcode.com>

	* e-tree-model.c (e_tree_model_node_insert): When inserting a root
	node, only call e_table_model_row_inserted if root_visible.
	(e_tree_model_node_remove): Call e_table_model_row_deleted before
	removing the row from the row_array, because the chain of signal
	handlers will sometimes need that info.

2000-07-08  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c (eti_event): Don't call e_cell_event if we're not
	editing.

2000-07-08  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c (eti_table_model_changed): Commented out some
	unnecessary and buggy code.

2000-07-06  Dan Winship  <danw@helixcode.com>

	* e-tree-model.c (e_tree_model_node_remove): Make this work
	recursively.

2000-07-06  Chris Toshok  <toshok@helixcode.com>

	* e-cell-tree.c (ect_draw): fix the conditions under which we draw
	a horizontal line.

2000-07-06  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Send GDK_BUTTON_RELEASE events to the ecell
	associated with the cell (if it's the cursor.)

2000-07-03  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Added a reflow_compare callback and did removal
	if you do shift-click on a selected row that's not the cursor.

2000-06-29  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-click-to-add.c: Made this appear a bit better.

	* e-table-defines.h: Cleaned this up a bit, added
	ETableForeachFunc.

	* e-table-group-container.c, e-table-group-leaf.c,
	e-table-group.c, e-table-group.h, e-table-item.c, e-table-item.h,
	e-table.c, e-table.h: Changed e_table_select_row to
	e_table_set_cursor_row.  Changed e_table_get_selected_view_row to
	e_table_get_cursor_row.  Added e_table_selected_row_foreach.

	* e-table-header-item.c: Fixed some warnings.

	* e-table-sorted-variable.c: Removed some unneeded debugging print
	statments.

	* e-tree-example-1.c: Changed e_table_get_selected_view_row to
	e_table_get_cursor_row.

2000-06-27  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c: Added an unsort command.

	* e-table-item.c: leave_edit when you loose the cursor.

2000-06-26  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Added e-table-click-to-add.c,
	e-table-click-to-add.h, e-table-one.c, and e-table-one.h.

	* e-table-click-to-add.c, e-table-click-to-add.h: A new canvas
	item that represents a single row that sometimes exists.  It's for
	adding new rows to your table.

	* e-table-example-1.c, e-table-example-2.c, e-table-size-test.c,
	test-check.c, test-cols.c, test-table.c: Added value_to_string handlers.

	* e-table-group-container.c: Use value_to_string to make grouping
	not crash for non string columns.  Made some changes to work
	properly in an ECanvasVbox.

	* e-table-group-leaf.c, e-table-item.c: Made some changes to work
	properly in an ECanvasVbox.

	* e-table-model.c, e-table-model.h: Added append_row and
	value_to_string methods.

	* e-table-one.c, e-table-one.h: Given a source ETableModel, this
	provides a single row model that uses the initialize_value,
	duplicate_value, free_value, and value_is_empty methods of the
	original source to implement set_value and value_at (and proxies
	most of the other methods.)  This is used for ETableClickToAdd.

	* e-table-simple.c, e-table-simple.h: Added append_row and
	value_to_string handlers.  append_row uses a GtkArg instead of a
	parameter to e_table_simple_new.

	* e-table-subset.c: Added append_row and value_to_string handlers.

	* e-table.c, e-table.h: Use a vbox containing an ETableClickToAdd
	and an ETableItem instead of an ETableItem directly.  Only show
	the ETableClickToAdd if the top level of the xml SPEC has the
	attribute click-to-add set to some non-zero integer.
	(click-to-add="1").  Add a "click_to_add_message" argument.

	* e-tree-model.c: Add a commented out value_to_string handler.

2000-06-23  Larry Ewing  <lewing@helixcode.com>

	* e-cell-toggle.c (etog_draw): draw pixmaps with he right
	background and selection colors.

2000-06-23  Chris Toshok  <toshok@helixcode.com>

	* e-tree-model.h, e-tree-model.c: add icon_at virtual function -
	it was stupid to make the insert call take 2 pixbufs.  the model
	should give this information.
	
	* e-cell-tree.c: get rid of the opened/closed pixbuf stuff.  call
	e_tree_model_icon_of_node.

	* e-tree-example-1.c: add my_icon_at.
	
	* e-tree-simple.c (simple_icon_at): new function
	(e_tree_simple_new): add icon_at parameter.
	
	* e-tree-simple.h: add SimpleIconAtFn.

2000-06-23  Chris Toshok  <toshok@helixcode.com>

	* e-tree-example-1.c (create_tree): use the expanded/unexpanded
	pixbufs as node pixbufs for the first level of children, to test
	the drawing.

	* e-tree-model.c (e_tree_model_node_get_closed_pixbuf): new function.
	(e_tree_model_node_get_opened_pixbuf): same.
	(e_tree_model_node_insert): add opened/closed pixbuf argument.
	(e_tree_model_node_insert_before): same.

	* e-tree-model.h: add prototypes for opened/closed pixbuf
	accessors, and add them to the e_tree_model_node_insert_* calls.

	* e-cell-tree.c (ect_draw): add opened/closed pixbuf drawing per node.

2000-06-22  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Make the table not move around as you resize.

2000-06-22  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Killed a warning.

2000-06-22  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c: Remove use of the "x" and "y"
	arguments to EText.

	* e-table-item.c: Properly ref the source_model field.

	* test-check.c, test-cols.c, test-table.c: Remove use of the "x"
	and "y" arguments to ETableHeaderItem.

2000-06-21  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-field-chooser-dialog.c: Made the Close button work.

	* e-table-field-chooser.glade, e-table-field-chooser.glade.h:
	Added a text description of this dialog.

2000-06-21  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c: Changed this to move the cell to the
	nearest edge instead of to the left of the column it's over.

	* e-table-header.c: Made target_index equal to eti->col_count be a
	valid parameter to e_table_header_move.

2000-06-21  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header.c: Made moving columns to the right work
	properly.

2000-06-20  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-leaf.c: Fix a minor warning.

	* e-table-item.c: Add to the selection if shift is held down.
	Show cursor when changing sort (or if table changes majorly.)

2000-06-20  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-defines.h: Fix HEADER_PADDING.

2000-06-20  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Fix cursor column information.

2000-06-20  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table-group-leaf.c,
	e-table-group.c, e-table-group.h: Removed the unfocus method since
	that's handled by the canvas itself now.

	* e-table-item.c, e-table-item.h: Finished adapting ETableItem to
	use the canvas selection/cursor system.  Selection and cursor now
	use row numbers associated with the source model instead of the
	sorted model (if the model they are given is an ETableSubset.)
	This has no effect on the interface, except that unfocus was
	removed and e_table_item_focus was renamed to
	e_table_item_set_cursor.

2000-06-20  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c, e-table-item.h: Started adapting ETableItem to
	use the canvas selection/cursor system.

2000-06-17  Chris Toshok  <toshok@helixcode.com>

	* e-tree-model.c (e_tree_model_node_insert): call
	e_table_model_row_inserted instead of e_table_model_changed.

2000-06-17  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c: Made cells with strikeout on have a line from the
	left margin to the right margin, instead of just over the text.

2000-06-16  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c, e-table.h: Moved the reflow signal handling into an
	idle handler to fix a bug when resizing twice in succession.

2000-06-15  Chris Toshok  <toshok@helixcode.com>

	* e-cell-tree.c (ect_print): print the icon for the tree control.

2000-06-14  Chris Toshok  <toshok@helixcode.com>

	* e-tree-example-1.c (print_tree): new function, to generate
	postscript so i can test tree printing.
	(create_tree): add print button.

	* e-cell-tree.c (ect_print_height): implement function (in a
	broken way for the time being, heh).
	(ect_print): implement function to draw tree controls and offset
	the subcell's printing.  icons aren't printed yet, just lines.
	(ect_draw): remove old unnecessary comments.  only draw the
	horizontal line in specific instances (well, add a test so a lone
	root node doesn't get the horizontal line.)
	(e_cell_tree_class_init): add print/print_height methods.

2000-06-14  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c: Request the value of e_table_is_cell_editable of
	the model_col instead of the view_col.

	* e-table-item.h: Slight style fixup.

2000-06-13  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c: Clip the contained text.

	* e-table-group-container.c: Did a first pass at grouped
	printing.  This works, but there's no fancy boxes or headers
	around the groups.

	* e-table-item.c: Added will_fit function and added quantize
	function to _height.

2000-06-12  Federico Mena Quintero  <federico@helixcode.com>

	* e-table-model.[ch]: Removed the freeze/thaw stuff for the model.
	As Chris wisely pointed out, having freeze/thaw on the model makes
	its state inconsistent from the perspective of the views.

	* e-table-sorted-variable.c: Do not check for a frozen model.
	* e-table-subset.c: Likewise.
	* e-table-subset-variable.c: Likewise.

	* e-table-example-1.c: Removed the ETableModel thaw handler.
	* e-table-example-2.c: Likewise.
	* e-table-simple.c: Likewise.
	* e-table-size-test.c: Likewise.
	* test-check.c: Likewise.
	* test-cols.c: Likewise.
	* test-table.c: Likewise.

2000-06-08  Federico Mena Quintero  <federico@helixcode.com>

	* e-table-model.h (ETableModelClass): Added a freeze method.

	* e-table-model.c (e_table_model_freeze): Call the freeze method
	instead of the thaw method!

	* e-table-simple.h (ETableSimple): Added the freeze function.

	* e-table-simple.c (simple_thaw): Check whether the function
	exists.
	(simple_freeze): New handler.
	(e_table_simple_new): Take in and set the freeze handler.
	(e_table_simple_class_init): Set the freeze handler.

	* test-check.c (check_test): Pass in the freeze handler to
	e_table_simple_new().

	* test-cols.c (multi_cols_test): Likewise.

	* e-table-example-2.c (create_table): Likewise.

	* e-table-example-1.c (create_table): Likewise.

	* test-table.c (table_browser_test): Likewise.
	(do_e_table_demo): Likewise.

2000-06-10  Chris Toshok  <toshok@helixcode.com>

	* e-tree-example-1.c (create_tree): supply the pixbufs here.

	* e-cell-tree.h: change pixbuf names to open_pixbuf/closed_pixbuf.

	* e-cell-tree.c (e_cell_tree_construct): take open/closed pixbuf
	parameters, and don't #include the .xpm files directly here.
	(e_cell_tree_new): same.
	(ect_draw): use the pixbufs from the ECellTree.

2000-06-10  Chris Toshok  <toshok@helixcode.com>

	* e-cell-tree.c (ect_event): offset events before passing them to
	our subcell view.

2000-06-10  Chris Toshok  <toshok@helixcode.com>

	* e-table-item.c (eti_event): change things so we focus the cell
	and select the row, and also dispatch the event to that row/cell.
	This fixes the problem with the tree where you had to click twice
	to activate the tree controls.

	* Makefile.am (libetable_a_SOURCES): remove e-tree-gnode.* and add
	e-tree-simple.*
	(icons): add tree-expanded.xpm and tree-unexpanded.xpm

	* e-cell-tree.c (ect_enter_edit): defer to subcell's view.
	(ect_leave_edit): defer to subcell's view.
	(visible_depth_of_node): visual depth, taking into account that
	the root node of the model might not be displayed.
	(offset_of_node): return the offset used to shift the subcell
	over.
	(ect_draw): don't draw vertical lines if we're the leftmode node
	(a visual root node).  also, don't shift x2 by the subcell offset,
	so we get ellipses like we're supposed to.
	(ect_event): remove GDK_BUTTON_RELEASE from the list of events
	that we care about.

	* e-tree-example-1.c: lots of changes, a more dynamic UI so we can
	test tree model api stuff.

	* e-tree-gnode.c, e-tree-gnode.c: removed files, since their guts
	have been rolled into e-tree-model.c

	* e-tree-model.c, e-tree-model.h: substantially changed.  too much
	to really describe here.  this should really be considered the
	first revision of these files :)

	* e-tree-simple.c, e-tree-simple.h: analogous to e-table-simple, a
	subclass that allows the use of function pointers.
	
2000-06-11  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-model.c: Small syntactic changes.

	* e-table.c: Moved the table header into the scrolled view.

2000-06-11  Ettore Perazzoli  <ettore@helixcode.com>

	* Makefile.am (table_test_LDADD): Link with libemiscwidgets.a.
	(table_size_test_LDADD): Likewise.
	(table_example_1_LDADD): Likewise.
	(table_example_2_LDADD): Likewise.
	(tree_example_1_LDADD): Likewise.

2000-06-10  Ettore Perazzoli  <ettore@helixcode.com>

	* e-table.c (et_real_construct): EScrollFrame instead of
	GtkScrolledWindow.

2000-06-10  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Added $(GNOME_PRINT_LIBS) to all of the LDADDs.

	* e-cell-text.c: Added printing of text cells.

	* e-cell.c, e-cell.h: Added print and print_height methods.

	* e-table-field-chooser.glade: Added a minimum size.

	* e-table-group-container.c: Fixed a rectangle sizing bug.

	* e-table-group-leaf.c: Implemented get_printable.

	* e-table-group.c, e-table-group.h: Added a get_printable method
	to return an EPrintable.

	* e-table-item.c, e-table-item.h: Added a get_printable function
	to return an EPrintable.

	* e-table.c, e-table.h: Added a get_printable function to return
	an EPrintable.

2000-06-08  Chris Toshok  <toshok@helixcode.com>

	* e-tree-gnode.c, e-tree-gnode.h: New files.  A tree model using a
	GNode structure to store it's info.

	* e-tree-model.c, e-tree-model.h: New files.  A proxy model
	sitting between a table model and the real tree model (of which
	ETreeGNode is an example).

	* e-cell-tree.c, e-cell-tree.h: New files.  A cell renderer
	capable of wrapping up a subcell and drawing the tree controls for
	expanding/collapsing trees.

	* tree-expanded.xpm, tree-unexpanded.xpm: New files.  the standard
	+ and - icons.

	* e-tree-example-1.c: New file, giving a (pretty poor :) example
	of using ETreeGNode.
	
	* Makefile.am: at the tree stuff to the build, and build
	tree-example-1.

	* .cvsignore: ignore tree-example-1.
	
2000-06-08  Christopher James Lahey  <clahey@helixcode.com>

	* The field chooser works now.

	* e-table-field-chooser-dialog.c: Make the dialog resizable.

	* e-table-field-chooser-item.c: Requested a reflow on
	realization.  Made the correct column get dragged.

	* e-table-field-chooser.c: Set the height correctly.

	* e-table-field-chooser.glade: Replace the GnomeCanvas with an
	ECanvas.

	* e-table-header-item.c: Receive drags from the new dialog.

2000-06-08  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-field-chooser-dialog.c, e-table-field-chooser-dialog.h,
	e-table-field-chooser-item.c, e-table-field-chooser.c,
	e-table-field-chooser.glade, e-table-field-chooser.h,
	e-table-header-item.c, e-table.c: More work on the Field Chooser.
	Not quite done yet.

2000-06-07  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Added e-table-field-chooser*.

	* e-table-defines.h: Moved some things to here.

	* e-table-field-chooser-dialog.c, e-table-field-chooser-dialog.h,
	e-table-field-chooser-item.c, e-table-field-chooser-item.h,
	e-table-field-chooser.c, e-table-field-chooser.glade,
	e-table-field-chooser.glade.h, e-table-field-chooser.h: New dialog
	to drag extra fields from.  (Not yet finished.)

	* e-table-header-item.c, e-table-header-item.h: Changed to
	accommodate e-table-field-chooser.

2000-06-06  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table-group-leaf.c,
	e-table-group.c, e-table-group.h, e-table-item.c, e-table-item.h,
	e-table.c, e-table.h: Added a right click signal.

	* e-table-sorted-variable.c: Fixed a buffer overrun.

2000-06-02  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-sorted-variable.c: Fixed the multiple copies of rows in
	ETable bug.

2000-06-01  Dan Winship  <danw@helixcode.com>

	* e-table-group.c (e_table_group_key_press): 
	* e-table.c (group_key_press): two more pastos

2000-06-01  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Copy and paste error.

	* e-table-item.c: Mixed up parity on eti->editing.

2000-06-01  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table-group-leaf.c,
	e-table-group.c, e-table-group.h, e-table-item.c, e-table-item.h,
	e-table.c, e-table.h: Added a "key_press" signal.

2000-06-01  Dan Winship  <danw@helixcode.com>

	* e-cell-text.h: Remove an offending *.

2000-06-01  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-sorted-variable.c: Made the sort when inserting a signal
	row be syncronous.

2000-06-01  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c, e-cell-text.h: Added "text_filter" argument that
	takes a const void * and returns an allocated char *.

2000-06-01  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Copy and paste error.

2000-06-01  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table-group-leaf.c,
	e-table-group.c, e-table-group.h, e-table-item.c, e-table.c,
	e-table.h: Added e_table_get_selected_view_row.

2000-05-30  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c, e-cell-text.h: Added bold column's to ECellText.

2000-05-30  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Make sure that the cursor is always shown when
	the selection changes.

2000-05-30  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table-group-container.h,
	e-table-group-leaf.c, e-table-group-leaf.h, e-table-group.c,
	e-table-group.h, e-table-item.c, e-table-item.h, e-table.c,
	e-table.h, test-check.c, test-cols.c, test-table.c: Fixed a bunch
	of selection bugs.  Removed "spreadsheet" argument (for now.)
	Added "cursor_mode" argument.  Added "cursor_change" signal.
	Temporarily removed "selection_mode" argument.

2000-05-28  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c: Fixed setting of arguments.

2000-05-28  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table-group-leaf.c,
	e-table-group.c, e-table-group.h, e-table-item.c, e-table-item.h,
	e-table.c, e-table.h: Added double click handling.

2000-05-26  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c, e-cell-text.h: Added "strikeout_column" argument.

2000-05-26  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table-group-container.h,
	e-table-group-leaf.c, e-table-group-leaf.h, e-table.c, e-table.h:
	Made "drawgrid", "drawfocus", "spreadsheet", and
	"length_threshold" arguments set from the ETable effect all the
	end ETableItems.

	* e-table-header.c: Made column resize a bit less bumpy.

2000-05-25  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header.c: Account for extra pixel at right end of
	ETable.

	* e-table-item.c: Make grid less intrusive.

	* e-table.c: Make scrollbars disappear when appropriate.

2000-05-25  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c: Made dragging columns work.

2000-05-23  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c: Fixed the remove column callback.

2000-05-23  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c: Added right click menus to the table
	header items.

	* e-table-sort-info.c: Fixed a small bug.

2000-05-23  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Make scrollbar arrow buttons work.

2000-05-19  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-example-1.c, e-table-example-2.c, e-table-simple.c,
	e-table-simple.h, e-table-size-test.c, test-check.c, test-cols.c,
	test-table.c: Added initialize_value and value_is_empty callbacks.

	* e-table-model.c, e-table-model.h: Added initialize_value and
	value_is_callback virtual functions to the ETableModel class.

	* e-table-subset.c: Perpetuate the initialize_value and
	value_is_empty methods.

From a patch by Iain Holmes <ih@csd.abdn.ac.uk>
	
	* e-table-config.c, e-table.c: Fixed getting text content from a
	node in the case of a non string based content field in the xml
	library.

2000-05-16  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Fixed a memory leak.

2000-05-16  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-sorted-variable.c: Changed sorting to be at priority
	level 30.  

	* e-table.c: Changed rebuild of the table to be at priority level
	20.  This gives it an advantage over pretty much everything,
	including e-table-sorted-variable sorting and canvas redraw.

2000-05-16  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c: Removed a memory leak here.

	* e-table-group-leaf.c: Added a ref/sink pair.

	* e-table-group.c, e-table-header-item.c: Removed some unused
	code.

2000-05-16  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-sorted-variable.c: Fixed a FIXME comment.

	* e-table-header.c, e-table-header.h: Added code to put off size
	calculation to the idle loop.  Added code to not resize columns
	with 0 expansion.  Removed the set_width function; it's been
	replaced with a Gtk+ arg.

	* Makefile.am: Added e-table-defines.h to the Makefile.am.

	* e-table-defines.h: A new file containing some #defines for use
	in ETable.

2000-05-14  Christopher James Lahey  <clahey@helixcode.com>

	* Implemented the feature where the ETable columns automatically
	fill the given space.

	* e-cell-text.c, e-cell-text.h: Moved #include
	e-text-event-processor.h from the .h to the .c.

	* e-table-col.c, e-table-col.h: Added an expansion variable, and
	made it so that width isn't set by the programmer but instead by
	the e-table-header.

	* e-table-example-1.c, e-table-example-2.c, e-table-size-test.c,
	test-check.c, test-cols.c, test-table.c: Fixed to handle new
	ETable column resizing.

	* e-table-group-container.c, e-table-group-container.h,
	e-table-group-leaf.c, e-table-group-leaf.h, e-table-group.c,
	e-table-group.h, e-table-item.c, e-table-item.h: Fixed these to do
	a proper canvas reflow/update loop.  Changed them to take a
	minimum width and return a width and a height.

	* e-table-header-item.c, e-table-header-item.h: Made this so that
	it depends on e-table-header.c for deciding the actual size of
	columns during resize (it was making incorrect decisions on its
	own.)

	* e-table-header.c, e-table-header.h: Changed this to make sure
	that the sum of the widths of the columns was always as close as
	possible to the width of the window.  This is done by taking a
	full width and having each of the columns have an "expansion"
	field.  This field is what makes each column have approximately
	the same portion of its part of the screen that it used to.

	* e-table.c: Changed this to set the width on the ETableHeader as
	well as set the proper minimum width on the ETableGroup and get
	the width and height it reports.

2000-05-11  Miguel de Icaza  <miguel@gnu.org>

	* e-table.c: Removed dead code. 

2000-04-14  Miguel de Icaza  <miguel@gnu.org>

	* e-table-header-item.c (ethi_class_init): New signal action.
	
2000-05-10  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Added e-table-col-dnd.h and table-test.h.

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-subset-variable.c: Fixed etssv_remove.

2000-05-08  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c: Make multi-line texts display properly.  Fixed
	some mem leaks.

2000-05-07    <toshok@the-dot-in.helixcode.com>

	* e-cell-text.c (ect_draw): free cell.starting_text here to avoid
	a memory leak.

2000-05-07  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Add a horizontal scrollbar.

2000-05-07  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c, e-table-item.h, e-table.c, e-table.h: Handle
	row_inserted and row_deleted signals properly.

	* e-table-model.c, e-table-model.h: Created the row_inserted and
	row_deleted signals.

	* e-table-sorted-variable.c, e-table-subset-variable.c: Emit the
	row_inserted and row_deleted signals as appropriate.

2000-05-06  Chris Toshok  <toshok@helixcode.com>

	* e-cell-text.c (ect_accept_edits): only to set_value_at if the
	value is indeed different.
	(ect_stop_editing): free edit->cell.starting_text
	(build_current_cell): initialize edit->cell.starting_text as a
	copy of the initial text.

2000-05-06  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table.c: Killed some warnings.

2000-05-04  Chris Toshok  <toshok@helixcode.com>

	* e-table-sorted-variable.c (etsv_sort): use rows here instead of
	E_TABLE_SUBSET(etsv)->n_map, since the table can be populated by
	the gtk_main_iteration above.  otherwise the vals_closure may not
	be fully populated.

2000-05-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table-group-leaf.c,
	e-table-group.c, e-table-group.h: Add an e_table_group_add_all
	function and implement it in the different ETableGroup classes.

	* e-table-sort-info.c: Make set_nth not call changed twice if it
	needs to allocate more space.

	* e-table-sorted-variable.c, e-table-subset-variable.c,
	e-table-subset-variable.h: Add and implement an
	e_table_subset_variable_add_all command.

	* e-table.c: Use e_table_group_add_all as appropriate.  Fix ETable
	grouping xml to work if there is a text element at the bottom of
	the grouping tree.

2000-05-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c: Sped up e_cell_text's get_height function.

2000-05-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c, e-table-item.h: Added a height_cache idle loop
	so that the height_cache will be validated in the idle loop.

2000-05-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-sorted-variable.c: Load all the data to be sorted by
	before actually doing the sort.

2000-05-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c, e-cell-text.h: Fix author information.

	* e-table-group-leaf.c: Set a length threshold of 200.

	* e-table-item.c: Height cache is now actually a map.  Made
	"length_threshold" argument work.  If over the length threshold,
	use the height cache to get a better estimate so that once the
	height cache is full, height estimate is perfect.

2000-05-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-sorted-variable.c (qsort_callback): Add back in main
	loop calls during sorting.

2000-05-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-sorted-variable.c: Replace insert sort completely with a
	qsort.

2000-05-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-sorted-variable.c: Changed the insert sort to be binary
	instead of linear.
	
2000-05-02  Matt Loper  <matt@helixcode.com>

	* Makefile.am: set G_LOG_DOMAIN.

2000-04-30  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c: Made this more reentrant.

	* e-table-sorted-variable.c, e-table-sorted-variable.h: Does a
	proper resort when the sorting info changes.

	* e-table.c, e-table.h: Made it so that ETable doesn't destroy and
	recreate the entire table when sorting info changes.

2000-04-27  Christopher James Lahey  <clahey@helixcode.com>

	* arrow-down.xpm, arrow-up.xpm, e-cell-text.c, e-cell-toggle.c,
	e-table-col.c, e-table-config.c, e-table-header-item.c: Fixed some
	warnings.

2000-04-26  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c: Added a missing include.

2000-04-24  Miguel de Icaza  <miguel@helixcode.com>

	* e-table.c (e_table_class_init): Add argument handling here.

	* e-table-group-leaf.c (e_table_group_apply_to_leafs): New method.
	Enables us to walk all the children of an ETableGroup.

	* e-table.c (et_get_arg, et_set_arg): Implement ::get and ::set
	methods.
	(e_table_construct_from_spec_file): Now we return the etable.
	(e_table_construct): ditto.
	(et_real_construct): Now we return the ETable.  Returns NULL on
	construct failure. 
	(e_table_new): ditto.
	(e_table_new_from_spec_file): ditto.

	* (et_build_grouping_spec): Removed vestige code that still
	contained references to the etable->specification XML code.

	Dumped all the ifdefed out code. 
	
	* e-table.h: Removed ETable->specification finally.
	
2000-04-25  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-size-test.c: Fixed a warning.

	* e-table-item.c: Removed the unnecessary gnome_canvas_update_bbox.

2000-04-24  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Fixed some warnings.

2000-04-23  Iain Holmes  <ih@csd.abdn.ac.uk>

	* e-table-item.c (eti_bounds): Calculate the width of the table from the
	width of all the columns, and update the eti->width field as appropiate.
	(eti_update): Update the bbox.

2000-04-17  Chris Toshok  <toshok@helixcode.com>

	* Makefile.am (noinst_PROGRAMS): add table-size-test
	
	* .cvsignore: add table-size-test.

	* e-cell-text.c (ect_ecent): use e_table_model_is_cell_editable
	instead of E_CELL_EDITABLE.

	* e-cell-toggle.c (etog_event): same.

	* e-cell.c (e_cell_init): don't call e_cell_set_editable.  that
	info comes from the model.
	(e_cell_set_editable): removed function.

	* e-cell.h: remove the E_CELL_EDITABLE flag.  that should be
	retrieved from the model.  also, remove the prototype for
	e_cell_set_editable.

	* e-table-size-test.c: new file, for a stress test of sorts, of a
	large, uneditable e-table.

2000-04-16  Anders Carlsson  <andersca@gnu.org>

	* e-table-item.c (eti_event): Propagate mouse wheel events upwards.

	* e-table.c (et_real_construct): Use a GtkScrolledWindow here 
	instead of a GtkScrollbar, since it makes mouse wheel scrolling 
	much easier.

2000-04-15  Matt Loper  <matt@helixcode.com>

	* e-table.c (et_xml_to_header): sanity-check our parameters.
	(et_grouping_xml_to_sort_info): same.
	(et_real_construct): Bail if we couldn't get the children we
	wanted.

2000-04-14  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c, e-table-item.h: Added a row height cache.

2000-04-15  Ettore Perazzoli  <ettore@helixcode.com>

	* e-table.c (e_table_construct): Use `strlen (copy)' instead of
	`strlen (copy) + 1' as the size argument for `xmlParseMemory()'.

2000-04-14  Miguel de Icaza  <miguel@gnu.org>

	* e-table.c, e-table.h: Switch the parent object to be a GtkTable.
	(et_real_construct): apply massaging and some loving action to
	make the thing behave as a GtkTable.
	(e_table_init): More love.

2000-04-12  Miguel de Icaza  <miguel@gnu.org>

	* e-table-header-item.c (ethi_drag_motion): Remove test for
	source.  We will fix this later.
	
	(ethi_end_resize): Reset resize_guide here.

2000-04-11  Miguel de Icaza  <miguel@helixcode.com>

	* e-table-header-item.c (ethi_add_destroy_marker): Add group
	indent width here.
	(is_pointer_on_division): Use the group indent here, so the
	resize pointer is shown at the correct time.
	(TOLERANCE): Bump it up to 3
	(draw_button): Do not paint an arrow if there is an icon present,
	and not enough space to paint.

2000-04-10  Miguel de Icaza  <miguel@helixcode.com>

	* e-table-header-item.c (make_shapped_window_from_xpm): New
	routine, creates a shapped mask window from an xpm buffer.
	(ethi_add_drop_marker): New version, uses shaped windows instead
	of canvas items to signal the drop location.
	(ethi_maybe_start_drag): Disable dragging if there is only one
	column left.

2000-04-10  Miguel de Icaza  <miguel@gnu.org>

	* e-table-header-item.c (ethi_drag_motion): Drop frozen count
	support from here. 
	(ethi_start_drag): ditto.

	* e-table-header.h: Kill frozen_count.

2000-04-09  Matt Loper  <matt@helixcode.com>

	* e-table-col.c (e_table_col_new_with_pixbuf): ref etc->ecell,
	like in e_table_col_new, since that same ECell is unref'd in
	etc_destroy().

2000-04-08  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Separated some functions into an xml bit and a
	generic bit.

2000-04-06  Christopher James Lahey  <clahey@helixcode.com>

	* test-cols.c, test-table.c: Got rid of some warnings.

	* e-table-group-container.c, e-table-group-container.h,
	e-table-group-leaf.c, e-table-group-leaf.h, e-table-group.c,
	e-table-group.h, e-table-header-item.c, e-table-header-item.h,
	e-table-sort-info.c, e-table-sort-info.h,
	e-table-sorted-variable.c, e-table-sorted-variable.h, e-table.c,
	e-table.h: Changed ETableSortInfo to not use xml internally.
	
2000-04-06  Miguel de Icaza  <miguel@gnu.org>

	* e-cell-text.c: Killed ARG_EDITABLE.
	(ect_event): Updated to new editable setup.
	(e_cell_text_new): Kill editable argument.

	* e-cell-toggle.c (etog_event): Handle editability here

	* e-cell-text.h: Removed editable bit field from here, it is now
	taken care at the e-cell level.

	* e-cell.c (e_cell_set_editable): New function.  
	(e_cell_init): Set editable to TRUE by default.

	* test-check.c (check_test): update to new api

	* test-table.c (table_browser_test): ditto.
	(do_e_table_demo): ditto.

	* test-cols.c (multi_cols_test): ditto

2000-04-02  Miguel de Icaza  <miguel@gnu.org>

	* e-table-sort-info.c (e_table_sort_info_class_init): Kill
	argument.  Do not use XML internally
	(e_table_sort_info_set_sorting): New function, use this to set the
	sorting.
	(e_table_sort_info_set_grouping): This one to do the grouping/.

2000-04-01  Miguel de Icaza  <miguel@gnu.org>

	* e-table.c (e_table_build_column_spec): Drop frozen support.
	(e_table_make_header): Drop frozen support.

	* e-table-header.c (e_table_header_new): Drop frozen support.

	* e-table-header-item.c (ethi_drag_motion): Drop frozen support.
	(ethi_drag_drop): Drop frozen support.
	(ethi_start_drag): Drop frozen support.

	* e-table.c (e_table_construct_from_spec_file): Robustify: support
	the case in which the XML could not be parsed;  Propagate errors.
	(e_table_new): Handle failure.
	(e_table_new_from_spec_file): ditto.
	Renamed multiple internal functions whose prefix was et_ to be e_table_

2000-03-31  Miguel de Icaza  <miguel@gnu.org>

	* e-table-simple.h: Constify this.

2000-04-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-text-model.c: Make this assert a bit more readable.

	* e-table-item.c: Fix update loop behavior.

2000-03-30  Miguel de Icaza  <miguel@gnu.org>

	* Makefile.am (EXTRA_DIST): Added Glade files to the
	distribution. 

2000-03-28  Matt Loper  <matt@helixcode.com>

	* e-table-text-model.c (e_table_text_model_destroy): made
	assertion more accurate.

2000-03-27  Michael Meeks  <michael@helixcode.com>

	* e-table-item.c (eti_update): try and fix the convoluted logic.
	(eti_bounds): Implement; should fix the re-draw bugs.

	* e-table-group-container.c: kill many redundant prototypes,
	stylistic cleans.

2000-03-26  Matias Mutchinick <matias@seul.org>

	* e-cell-toggle.c (etog_draw): Removed extra code that computed
	bogus width.  This was the actual source of the problem with the
	miss-rendering feature.

2000-03-26  Miguel de Icaza  <miguel@gnu.org>

	* e-table-header-item.c (ethi_realize): Remove warning from here.

	* test-table.c (table_browser_test): Use ECanvas, not GnomeCanvas,
	to support reflow.
	* test-cols.c (multi_cols_test): ditto
	* e-table.c (e_table_setup_header): ditto

	* e-table-header-item.c (ethi_font_load): Replace font.
	(ethi_realize): ditto.

2000-03-22  Matt Loper  <matt@helixcode.com>

	* e-table-text-model.c (e_table_text_model_destroy): Added some
	assertions.

2000-03-21  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Make rectangles resize properly when receiving the
	"model_changed" signal.

2000-03-20  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c, e-table-group-container.h,
	e-table-group-leaf.c, e-table-group.c, e-table-group.h: Updated
	these to use the new ECanvas reflow infrastructure.

	* e-table-item.c, e-table-item.h: Updated these to use the new
	ECanvas reflow infrastructure.  Fixed the bounding box.
	
	* e-table.c, e-table.h: Made the header have no extra space around it.

2000-03-19  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header.c: Fixed a crashing bug when you close an
	ETable.

2000-03-13  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c: Fixed a crashing bug when you cancel an edit.

2000-03-12  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Made this use an ECanvas.  Fixed a bug where
	e_table_new_from_spec_file was calling e_table_construct instead
	of e_table_construct_from_spec_file.

	* e-table-item.c, e-table-header-item.c, e-table-column-item.c:
	Switched these to use GTK_TYPE_OBJECT and GTK_VALUE_OBJECT instead
	of GTK_TYPE_POINTER and GTK_TYPE_OBJECT.

	* e-cell-text.c: Got rid of a crashing bug.

	* e-table-text-model.c, e-table-text-model.h: A new object which
	is an e-text-model which uses an e-table-model for its data.

	* Makefile.am: Added e-table-text-model.c and
	e-table-text-model.h.

	* .cvsignore: Added table-example-1 and table-example-2.

2000-03-08  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Changed the destroy function to disconnect from
	signals before unrefing the objects the sinnals are on.  Changed
	the destroy function to match the objects and signal ids properly
	in its disconnect section.
	
	* e-table-item.c, e-table-item.h: Changed this to do follow the
	canvas rules better.

	* e-table-header-item.c, e-table-header-item.h: Made
	ETableHeaderItem connect to the "sort_info_changed" on its
	ETableSortInfo instead of just manually redrawing itself.  Fixed
	the update function a bit to follow the canvas rules a bit better.

2000-03-06  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Made rows get unselected when switching from one
	group to the next.

2000-03-06  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-group-container.c: Use the style's font if lucidasans-10
	is not found.

2000-03-06  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c, e-table-header-item.h: Made it so that
	columns would be properly indented.

2000-03-06  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-sorted-variable.c: Have identical values get sorted by
	their actual row.

2000-03-06  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c: Draw selected row.

2000-03-06  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c, e-table.h: Add a "row_selection" signal.

	* test-table.c: Test the new "row_selection" signal.

	* e-table-group-container.c, e-table-group-leaf.c: Implement the
	"row_selection" property properly.

	* e-table-group.c, e-table-group.h: Add a "row_selection" signal.

2000-03-05  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c, e-table.h: Added support for the sorting info.  The
	Etable creates a sort_info object, and then connects to the
	signals to rearrange the rows when the sort_info changes.  It also
	passes the info object to the ETableHeaderItem.

	* e-table-model.c: Fixed a typo where ETableModel was written as
	ETableModle.

	* e-table-header.c, e-table-header.h: Added some code for sorting
	here, but it's not used.  I don't think we want this code, but I
	wanted to check it in at least once so that it's not lost.

	* e-table-header-item.c, e-table-header-item.h: Added a
	"sort_info" argument to ETableHeaderItem.  Added display of
	current sort settings.  Added support for clicking to change the
	sort settings.

	* e-table-col.h: E_TABLE_COL_ARROW_NONE is marked as being = 0
	since this is required in other places.  (I think C defines this
	as being the case, but it's good to have the = 0 there so that
	it's obvious that it has to be first.)

	* TODO: Mark sorting as done.

	* e-table-sort-info.c, e-table-sort-info.h: New files for
	containing the xml grouping/sorting information and for sending
	signals on that information.
	
	* Makefile.am: Added e-table-sort-info.c and e-table-sort-info.h.

2000-03-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Added saving of frozen_columns count.  Added a
	vertical scrollbar to ETable.

2000-03-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Push the proper visual and colormap for ETable to work.

2000-03-04  Christopher James Lahey  <clahey@helixcode.com>

	* TODO: Touched this up a bit.

	* e-table-group.c, e-table-group-leaf.c: Check for NULL before
	calling gtk_object_unref or gtk_object_destroy.

2000-03-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Fixed a crash error.

2000-03-04  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Fixed a compile warning.

	* e-table.c: Fixed a crash error.

2000-03-04  Christopher James Lahey  <clahey@helixcode.com>

	* TODO: Added a bunch of stuff to the TODO list.  Put +s before a
	few of the items that are finished.

	* test-table.c: Add a button to save the spec file.

	* e-table.c, e-table.h: Add loading configurations from files as
	well as the ability to get the current configuration out of the
	widget.

2000-03-03  Christopher James Lahey  <clahey@helixcode.com>

	* e-table.c: Removed some unused code.

	* e-table-header-item.c, e-table-header-item.h: Removed the unused
	normal_cursor variable and object.

	* e-table-col.c: Maintain a reference count in the contained ECell.

2000-03-01  Ettore Perazzoli  <ettore@helixcode.com>

	* Makefile.am: Use `libeutil.la', not `libeutil.a'.

2000-02-29  Christopher James Lahey  <clahey@helixcode.com>

	* test-table.c: Test frozen columns

	* e-table.c: Make frozen columns available through the xml file.

	* e-table-header.c, e-table-header.h, e-table-header-item.c: Added
	frozen columns API to let you specify some number of leading
	columns as undraggable.

	* Makefile.am: Add e-table-example-1.c and e-table-example-2.c.

	* e-table-example-1.c, e-table-example-2.c: New files.  A couple
	of examples of ETable use.

2000-02-28  NotZed  <NotZed@HelixCode.com>

	* Makefile.am (table_test_LDADD): Fixed references to eutil.

2000-02-28  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.c, e-table-header.c: Fixed a couple of crash
	bugs.

2000-02-25  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Made the E table item redraw properly.

	* e-table-group-container.c: Added handling to distinguish between
	n items and 1 item.  Got rid of a crash due to an abandoned timeout
	callback.

2000-02-24  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c: Made carriage return stop editting instead of
	inserting a carriage return.

2000-02-24  Christopher James Lahey  <clahey@helixcode.com>

	* test-table.c: Added duplicate_value and add_value.  Use the new
	compare functions.  Made it so we only create one model to better
	test model view stuff.  Changed the test to not have as many
	extra, useless, columns.

	* test-cols.c, test-check.c: Added duplicate_value and add_value.
	Use the new compare functions.

	* e-table.c, e-table.h: Use all the new features of e-table-groups
	(sorting and grouping).  Handle on the fly reorganization of
	groups in an idle loop.  Compare functions now are to return -1 if
	the first item is greater, 0 if they are equal, or 1 if the second
	item is greater.

	* e-table-subset.c, e-table-subset.h: Made e-table-subset
	disconnect properly from its signals when it dies.

	* e-table-subset-variable.c, e-table-subset-variable.h:
	Virtualized the add and remove commands so that
	e_table_sorted_variable could override the add command to do
	sorting.

	* e-table-sorted.c: Fixed this to inherit properly from
	ETableSubset.

	* e-table-simple.h, e-table-simple.c: Added handling of
	duplicate_value and free_value;

	* e-table-model.c, e-table-model.h: Added duplicate_value and
	free_value for memory allocation of table elements outside the
	table.

	* e-table-item.c: Fixed a crashing bug.

	* e-table-group.c: Added sorting.  Fixed destruction to delete the
	right things.

	* e-table-group-leaf.c, e-table-group-leaf.h: Pass column and sort
	order information into the e_table_sorted_variable.  Properly
	destroy things when deleted.

	* e-table-group-container.c, e-table-group-container.h: Properly
	handle the list of subgroups.  Handle proper sorting and grouping
	of subgroups.

	* e-table-sorted-variable.c, e-table-sorted-variable.h: Files to
	do a sorted model that stays sorted as you add and remove rows.

	* Makefile.am: Added e-table-sorted-variable.c and
	e-table-sorted-variable.h.

2000-02-24  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Made keyboard focus navigation work across
	groups.

	* e-table-header.c: Made e_table_header_col_diff not crash if you
	give it a column less than 0 (it truncates negative column values
	to 0.)

	* e-table-group.c, e-table-group.h: Added e_table_group_get_header
	to get the ETableHeader for this ETableGroup.

	* e-table-group-container.c: Made shift tab work.

2000-02-24  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c: Made changing focus work.

2000-02-24  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-subset-variable.c, e-table-subset-variable.h: A new
	model which is a subset, but you can add and remove rows.

	* test-table.c: Added a thaw method for use with the
	e-table-subset (emits model_changed.)  Adapted to the changes to
	e_table_item.  Properly parse headers.  Adapted to the changes to
	e_table, including creating example xml spec data.

	* test-cols.c, test-check.c: Added a thaw method for use with the
	e-table-subset (emits model_changed.)  Adapted to the changes to
	e_table_item.

	* e-table.c, e-table.h: Reworked e-table to use the ETable
	grouping system.  The only difference for the interface is that
	instead of passing in a column_spec and a grouping_spec, you pass
	in a single string that is an xml format that includes both pieces
	of information.

	* e-table-subset.h: Added rules for emacs to do correct
	indentation.

	* e-table-subset.c: Implemented freezing.  No signals are emitted
	while frozen and "model_changed" is emitted when thawed.

	* e-table-sorted.h: ETableSortedClass has ETableSubset as its
	parent object instead of ETableSubsetClass.  Fixed this.

	* e-table-simple.c, e-table-simple.h: Implemented the thaw method.
	Use of simple now requires an extra argument (the thaw method.)

	* e-table-model.h, e-table-model.c: Added e_table_model_freeze and
	e_table_model_thaw.

	* e-table-item.h, e-table-item.c: Reworked this a bit to make it
	provide some things the new group system needed and to make
	inter-item keyboard focus work.  Changed the external interface
	only in the list of arguments it recognizes and signals it emits.
	Instead of "x" and "y", you have to use
	e_canvas_item_move_absolute and instead of emitting a
	"height_changed" signal, it emits a "resize" signal.  There's new
	"has_focus", "width", and "height" arguments and a function to get
	the currently focused column.

	* e-table-header-item.c: Got rid of some warnings here.  Changed
	the 

	* e-table-group-leaf.h, e-table-group-leaf.c,
	e-table-group-container.h, e-table-group-container.c: New types to
	make e_table_group work properly.

	* e-table-group.h, e-table-group.c: Completely reworked e-table
	grouping.  e-table-group now uses a hierarchical structure.

	* e-cell.h: Added e_cell_print.  This doesn't work yet.

	* e-cell.c: Made e_cell_realize exist.  (It was improperly named
	e_cell_view_realize in the .c.)

	* e-cell-text.c: Made the blinking cursor disappear properly.

	* check-filled.xpm, check-empty.xpm: Made these const char *[]
	instead of char *[] to avoid compiler warnings.

	* Makefile.am: Added e-table-group-container.c,
	e-table-group-container.h, e-table-group-leaf.c,
	e-table-group-leaf.h, e-table-subset-variable.c,
	e-table-subset-variable.h.

2000-02-18  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* e-table-header.c: Include <string.h>

	* Makefile.am (INCLUDES): Add EXTRA_GNOME_CFLAGS to INCLUDES>

2000-02-12  Iain Holmes  <ih@csd.abdn.ac.uk>

	* e-table-header-item.c (ethi_drag_motion): Check the ethi is actually
	the one being dragged. Prevents crashes when trying to drag headeritems
	and there are multiple headeritems on the same canvas.
	(ethi_drag_end): Same.
	(ethi_drag_drop): Same.
	(ethi_drag_leave): Same.

2000-02-11  Christopher James Lahey  <clahey@helixcode.com>

	* test-check.c: Added test of sort arrows.

	* e-table-col.h, e-table-col.c: Added sort arrows for column
	headers (It doesn't actually sort.  It just displays the arrows.)

	* e-table-header-item.c: Added display of arrows.

2000-02-11  Christopher James Lahey  <clahey@helixcode.com>

	* clip.png: Test column header image.

	* test-check.c: Test pixbuf column headers.

	* e-table-col.h, e-table-col.c: Added pixbufs for column headers.

	* e-table-header-item.c (draw_button): Draw pixbuf column headers properly.

2000-02-11  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.h, e-cell-text.c: Add an editable argument to
	e_cell_text_new.

	* test-table.c, test-cols.c, test-check.c: Set the editable
	argument to e_cell_text_new.

2000-02-11  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-header-item.h, e-table-header-item.c: Added reordering
	of columns.

	* e-table-header.c: Fixed a couple of bugs in the move column and
	remove column functions.

2000-02-11  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c: Made space around text look right.  Added a
	blinking cursor.

2000-02-11  Miguel de Icaza  <miguel@gnu.org>

	* e-table-item.c (eti_header_structure_changed): Add nice
	assertion. 

2000-02-10  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c: Handle button releases properly.

	* e-table-header-item.c (ethi_start_drag): Added a drag icon.

2000-02-09  Christopher James Lahey  <clahey@helixcode.com>

	* e-cell-text.c: Tweaked e-cell-text.  Added a white background
	and tweaked the borders.

2000-02-09  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Changes where e-text is included from.

2000-02-07  Christopher James Lahey  <clahey@helixcode.com>

	* e-table-item.c (eti_event): Fixed some motion event
	bugs. (incorrect x and y.)

	* Makefile.am: Added includes for dependencies in
	evolution/widgets/libevolutionwidgets.a

	* e-cell-text.h, e-cell-text.c: Completely revamped using code
	from e-text.c and e-text.h.

2000-02-07  Miguel de Icaza  <miguel@gnu.org>

	* e-table.c (e_table_setup_table): Setup the scroll region of the
	table canvas on size allocation.
	(e_table_canvas_realize): Do not set the scrollregion here.
	(e_table_canvas_init): Move root initialization here.

2000-01-30  Miguel de Icaza  <miguel@gnu.org>

	* e-table-simple.c (e_table_simple_new): Add data field back in.

1999-12-30  Miguel de Icaza  <miguel@gnu.org>

	* e-table-item.c (eti_attach_cell_views): New routine, creates the
	cell views.
	(eti_detach_cell_views): Detaches the cell_views from the
	ETableItem.
	(eti_realize_cell_views, eti_unrealize_cell_views): Simplified to
	just do realize/unrealize notification.
	(eti_add_table_model): Only attach the cells when we have both the
	table model and the header model.

	* e-cell.h (ECellClass): Added two new methods: new_view and
	kill_view which drive the view process (instead of putting that on
	realize/unrealize). 

	* e-cell.c: Adapt the code to use the new scheme for view
	instantiation.

	* e-cell-text.c, e-cell-toggle.c: Adapted to the new class
	changes.
	
1999-12-22  Miguel de Icaza  <miguel@helixcode.com>

	* e-table-item.c (e_table_item_focus): grab focus here with the
	canvas method.

1999-12-20  Miguel de Icaza  <miguel@helixcode.com>

	* e-table-group.c (etg_update): Change the dimensions only if the
	child changes its own.

	* e-table-item.c (eti_table_model_changed): Emit new signal on
	table height change.
	(eti_class_init): Register new "height_change" signal.

1999-12-19  Damon Chaplin  <damon@karuna.freeserve.co.uk>

	* Makefile.am (SUBDIRS): created SUBDIRS with meeting-time-sel.

	* meeting-time-sel/Makefile.am: 
	* meeting-time-sel/.cvsignore: 
	* meeting-time-sel/e-meeting-time-sel.h: 
	* meeting-time-sel/e-meeting-time-sel.c: 
	* meeting-time-sel/e-meeting-time-sel-item.h: 
	* meeting-time-sel/e-meeting-time-sel-item.c: 
	* meeting-time-sel/e-meeting-time-sel-list-item.h: 
	* meeting-time-sel/e-meeting-time-sel-list-item.c: 
	* meeting-time-sel/e-meeting-time-sel-mail.xpm: 
	* meeting-time-sel/e-meeting-time-sel-no-mail.xpm: 
	* meeting-time-sel/test-meeting-time-sel.c: new files implementing
	the meeting time selector.

1999-12-12  Miguel de Icaza  <miguel@helixcode.com>

	* e-table-item.c (eti_class_init): X and Y arguments are now
	doubles (to make it consistent with the rest of the canvas x, y
	arguments). 

	* e-table.c (e_table_create_leaf): Use new argument values here 

	* test-*.c: Update to new argument types for x and y

	* e-table-group.c: New implementation as a canvas item used to
	group childs. 

	* e-table-item.c (eti_update): Make this play nicely with groups.
	(eti_draw): ditto.
	(eti_request_region_redraw): ditto.
	(eti_item_region_redraw): New function.

	* e-table-subset.c (etss_proxy_model_row_changed): Added model
	proxying.

	* e-cell.h: Drop ETableModel from the ECell;  
	(realize): Now takes an ETableModel
	
	* e-cell-checkbox.c: Adapted to new class
	changes; 
	* e-cell-toggle.c: ditto

	* e-table-subset.c (etss_row_count): Fix this guy.

1999-12-11  Miguel de Icaza  <miguel@helixcode.com>

	* e-table-item.c (eti_unrealize_cell_views): Null the cell views.
	(eti_header_structure_changed): Only unrealize/realize if we were
	realized before.

	* e-table-header.c (e_table_header_add_column): Allow -1 as an
	insert position

1999-12-11   Miguel de Icaza <miguel@helixcode.com>

	* e-table.c: Massive fixage.

	* test-table.c: Updates to test the mega widget.

1999-12-10   Miguel de Icaza <miguel@helixcode.com>

	* e-table.c: New file, implements the mega widget.

1999-12-09  Miguel de Icaza  <miguel@gnu.org>

	* e-table-header.c (e_table_header_col_diff): fix this routine.

1999-12-04  Miguel de Icaza  <miguel@gnu.org>

	* e-table-header-item.c (ethi_event): Started drag and drop
	support. 

	* e-table-item.c (eti_table_model_changed): The columns are
	controled by the Header, not by the TableModel.

	* e-table-header-item.c (ethi_draw): Fixed redraw logic to support
	arbitrary header positioning.

	* e-cell.h: Revamped e-cell interface.  We now provide the model
	column and the view column to all methods (so that the methods can
	talk to the view and to the model at the same time).

	* e-table-item.c: Update to new API
	* e-cell-test.c: Update to new API

1999-12-03  Miguel de Icaza  <miguel@gnu.org>

	* e-cell.c (e_cell_class_init): Provide emtpy methods for
	enter_edit, and leave_edit.

	* e-table-item.c: Killed draw cell.
	(eti_draw): Perform column mapping here.
	(e_table_item_leave_edit): ditto.
	(e_table_item_enter_edit): ditto.
	(eti_event): ditto.

1999-12-02  Miguel de Icaza  <miguel@gnu.org>

	* e-table-header.c (e_table_header_index): fixed api.

1999-12-01  Miguel de Icaza  <miguel@gnu.org>

	* test-cols.c (multi_cols_test): Update to simplified API.
	* test-check.c (check_test): ditto
	* test-table.c (table_browser_test): ditto

	* e-table-simple.c (e_table_simple_class_init): Kill column_name method.

	* e-table-model.h: Kill column_name method.

	* e-table-col.c (e_table_col_new): Instead of using a column name,
	use a column index.

	* e-cell-text.c (ect_draw): Keep track of the originally allocated
	piece of code.

	* e-table-header-item.c (ethi_unrealize): Removed change cursor
	from here.

	* e-cell-text.c (ect_draw): Memory leak fix.

	* table-test.c (main): Enhance the demo to load sample.table
	automatically, to get memprof working.

	* e-table-header.c (eth_do_remove): Take an argument: do -remove.

	* e-table-header.c (e_table_header_add_column): Sink ETableCol to
	own the object.

	* e-table-col.h: Made ETableCol a GtkObject to make reference
	counting the lifecycle method for these objects.

	* e-table-col.c (e_table_col_destroy): New API call.

	* e-table-subset.c (e_table_subset_get_toplevel): New API call. 

1999-11-30  Miguel de Icaza  <miguel@gnu.org>

	* e-cell-checkbox.c (e_cell_checkbox_new): This one derives from
	e-cell-toggle.   

	* check-emtpy.xpm, check-filled.xpm: new files.

	* e-cell-toggle.c (etog_draw): Paint in white.
	If we have transparency enabled, do the nice alpha computation.
	
	* test-table.c, test-cols.c: new files;  They implement the split
	tests. 

1999-11-29  Miguel de Icaza  <miguel@gnu.org>

	* e-table-col.c (e_table_col_new): Set etc->resizeable.

	* e-table-header-item.c (ethi_event): Handle non-resizeables
	columns;  Add support for minimum width.

	* e-cell-toggle.c, e-cell-toggle.h: New file.  Implement a
	multi-state image toggle cell object.

	* e-cell-text.c (ect_leave_edit): Handle the case of us calling
	leave edit manually.
	(ect_stop_editing): Leave manually editing here.
	(ect_draw): Add one pixel to the border for left and right;
	Handle off-screen cursor (must be improved).
	(ect_edit_select_all): New function.
	(ect_event): Select all text on editing start

	* e-table-item.c (eti_event): Map mouse events and dispatch them.
	(eti_event): Add spreadsheet mode for editing; Enter editing only
	with visual characters;
	Leave editing mode when a different row has been selected.
	(eti_get_height): Fix the computation for this; Fix logic for the
	length_threshold.

	(eti_draw): Add borders on all sides of the box;   
	Only draw focus if the cell is not being edited.
	
1999-11-28  Miguel de Icaza  <miguel@gnu.org>

	* e-table-item.c (eti_draw): Focus inside, not outside.
	(eti_realize): Enhance our focus gc.

	* e-cell-text.c (ect_enter_edit, ect_leave_edit): New methods;
	They implement editing.

	* e-cell.h: new methods: enter_edit, leave_edit
	
	* e-table-model.h (set_value_at): make val argument const.

	* e-table-simple.c (simple_set_value_at): Make value argument const;

	* e-table-item.c (eti_set_arg): Add new mode: draw_focus;

1999-11-27  Miguel de Icaza  <miguel@gnu.org>

	* e-table-item.c (eti_event): beginning of the keyboard navigation.

	* e-table-model.c (e_table_model_row_changed): new function.
	(e_table_model_cell_changed): new function.
	(e_table_model_class_init): New signals.

	* e-table-item.c (eti_request_region_redraw): x2, y2 offsets were
	wrong. 
	(eti_select): Repaint selected region.
	(eti_request_region_redraw): Fix range.
	(eti_draw): Correct offset computation here. 
	(e_table_item_class_init): New method: row_selection, handles the
	selection.
	
	Now it implement GTK_SELECTION_SINGLE and GTK_SELECTION_MULTIPLE. 

	Focusing and selection should be correct now.
	
1999-11-26  Miguel de Icaza  <miguel@gnu.org>

	* e-table-item.c (eti_realize): Compute height using the ecell
	methods here. 
	(eti_get_height): new method to compute dimensions.

	* e-cursors.c: use a different cursor.

	* e-table-model.h: kill height and row_height methods.

	* e-cell.c (ec_height): New method.

	* e-cell-text.c (ect_realize): Load the font from the canvas.
	(ect_draw): New color setup.
	Center in the row.
	(ect_height): Implement new method.

1999-11-26  Michael Meeks  <mmeeks@gnu.org>

	* ROADMAP.e-table: small spelling/typo fixes.

1999-11-25  Miguel de Icaza  <miguel@gnu.org>

	* e-table-item.c (eti_event): Work on mouse-button event
	propagation to cells.

	* e-cell-text.c (ect_draw): Use CellViews now.

	* e-table-item.c (eti_realize_cell_views): New routine: Realizes
	the cell views
	(eti_unrealize_cell_views): New routine: unrealizes the cell views.

	* e-table-item.h: Move cell_views array here.

	* table-test.c (value_at): Fix return value.
	(main): use new invocation method.

	* e-table-header-item.c (ethi_realize): Realize cells.

	* e-table-item.c (eti_header_dim_changed): redraw before and after.

	* e-table-header-item.c (ethi_event): Add continuous resizing.

1999-11-24  Miguel de Icaza  <miguel@gnu.org>

	* e-table-subset.h, e-table-subset.c: New files, used to implement
	subset tables.

	* e-table-sorted.h, e-table-sorted.c: Now they derive from
	e-table-subset. 

	* e-cell.c, e-cell.h: realize method now return per view instance
	data. 
	
1999-11-20  Miguel de Icaza  <miguel@gnu.org>

	* e-table-item.c (eti_draw): WOOOOHOOOOOoO!  It took me quite a
	while to figure this one out.  Fixed.

	* e-table-header-item.c (ethi_set_arg): Compute width, keep track
	of it. 
	(ethi_add_table_header): Monitor changes to the Header model;
	Queue updates.
	(ethi_draw): Fix the redraw logic here.

	* table-test.c (main): Change the sample code, so we can better
	debug this.

	* e-table-item.c (eti_header_structure_changed): Keep track of
	width;  
	(eti_header_dim_changed): ditto.
	(eti_draw): Many redraw fixes.
	
1999-11-19  Miguel de Icaza  <miguel@gnu.org>

	* e-table-item.c (eti_realize): Hook up;  Load gcs.
	(eti_unrealize): Hook up.

	* e-table-sorted.c: Finished implementing.

1999-11-18  Miguel de Icaza  <miguel@gnu.org>

	* e-table-model.c (e_table_model_class_init): Add model_changed
	signal here.

	* e-table-item.c, e-table-item.h: New files.  They implement the
	view of the ETableModel as Canvas Items.
	
	* e-table-header-item.c (ethi_set_arg): Ref header here.
	(ethi_destroy): Unref it here.

1999-11-17  Ettore Perazzoli  <ettore@gnu.org>

	* e-msg-composer-address-dialog.c: Moved to `$(srcdir)/composer'.
	* e-msg-composer-address-dialog.h: Likewise.
	* e-msg-composer-address-entry.c: Likewise.
	* e-msg-composer-address-entry.h: Likewise.
	* e-msg-composer-attachment-bar.c: Likewise.
	* e-msg-composer-attachment-bar.h: Likewise.
	* e-msg-composer-attachment.c: Likewise.
	* e-msg-composer-attachment.h: Likewise.
	* e-msg-composer-hdrs.c: Likewise.
	* e-msg-composer-hdrs.h: Likewise.
	* e-msg-composer.c: Likewise.
	* e-msg-composer.h: Likewise.
	* e-msg-composer-address-dialog.glade: Likewise.
	* e-msg-composer-attachment.glade: Likewise.
	* e-msg-composer.glade: Likewise.
	* Makefile.am: Updated accordingly.

Nov 14 1999 Elliot Lee
	* Makefile.am: It's libevolutionwidgets.la, not .a

1999-11-14  Miguel de Icaza  <miguel@gnu.org>

	* e-table-header-item.c (is_pointer_on_division): Add resizing
	capabilities. 

	* e-table-sorted.c: Finish implementation.

1999-11-13  Miguel de Icaza  <miguel@gnu.org>

	* e-table-sorted.c: Implement e-table-sorted object.

1999-11-12  Miguel de Icaza  <miguel@gnu.org>

	* e-table-header-item.c: Make the thing configurable.

	* e-table-header-item.h: Add font field, location, height.

1999-11-12  Ettore Perazzoli  <ettore@gnu.org>

	* e-msg-composer-hdrs.c: New member `tooltips' in `struct
	_EMsgComposerHdrsPrivate'.
	(init): Initialize it.
	(destroy): New function.
	(class_init): Install it as the `destroy' GtkObject method.
	(add_header): New parameters `tip', `tip_private'.  Setup a
	tooltip for the entry with them.
	(setup_headers): Updated accordingly.

1999-11-11  Miguel de Icaza  <miguel@gnu.org>

	* e-table-header.c (e_table_header_add_column): Update offsets. 
	(eth_update_offsets): New routine.

	* e-table-col.h, e-table-col.c: New files.

	* e-table-header.h (e_table_header_get_selected_indexes):
	Pretify.

	* table-test.c (main): New file;  used for testing ETable package.

	* e-table-simple.h: Fix type.

1999-11-12  Ettore Perazzoli  <ettore@gnu.org>

	* e-msg-composer-address-dialog.glade: Cosmetical changes.

	* e-msg-composer-attachment-bar.c (size_to_string): New helper
	function.
	(update): Put the size in the icon's label using this function.
	(ICON_SEPARATORS): Remove '.' to avoid wrapping of the size string
	on the decimal dot.  But gnome-libs is broken and this has no real
	effect!  :-(
	(e_msg_composer_attachment_bar_new): No longer make text editable.
	Use the `GTK_SELECTION_MULTIPLE' selection mode.
	(remove_selected): No longer assume only one attachment is
	selected.

	* e-msg-composer-attachment.c: #include <sys/stat.h>
	(init): Initialize all the members.
	(e_msg_composer_attachment_new): Set size using `stat()'.

	* e-msg-composer-attachment.h: New member `size' in `struct
	_EMsgComposerAttachment'.

	* e-msg-composer.c (setup_signals): Connect `address_dialog_cb' to
	the "show_address_dialog" signal of the header widget.

	* e-msg-composer-hdrs.c (add_address_header): Renamed to
	`add_header'.  New parameter `addrbook_button': if true, use a
	button instead of a label and make it trigger an
	"show_address_dialog" signal.
	(address_button_clicked_cb): Signal handler to handle this on a
	"clicked" signal from the button.
	(setup_headers): Updated accordingly.  Also, make "Subject" the
	last item.  (This makes it look more like Outlook and friends.)

	* e-msg-composer-hdrs.c: New signal "show_address_dialog".
	* e-msg-composer-hdrs.h: Updated accordingly.

	* e-msg-composer-hdrs.c (add_address_header): Reduce padding
	considerably.

	* e-msg-composer.c (e_msg_composer_construct): Do not use any
	padding in the main vbox.

	* Makefile.am: Moved the `e-table*' sources to `EXTRA_DIST'.
	Compile as a shared library.

1999-11-08  Ettore Perazzoli  <ettore@gnu.org>

	* e-msg-composer-address-dialog.c: Implemented cut & paste for the
	recipient lists.
	(init): Initialize `cut_buffer'.
	(destroy): Free it.
	(recipient_clist_selection_get_cb): New function.
	(recipient_clist_selection_received_cb): New function.
	(recipient_clist_selection_clear_event_cb): New function.
	(setup_recipient_list_signals): Install them as signal handlers
	for "selection_get", "selection_received" and
	"selection_clear_event" respectively.
	(copy_recipient_cb): New function implementing the "copy"
	operation.
	(cut_recipient_cb): New function implementing the "cut" operation.
	(paste_recipient_cb): New function implementing the "paste"
	operation.

	* e-msg-composer-address-dialog.h: New member `cut_buffer' in
	`struct _EMsgComposerAddressDialog'.

1999-11-07  Ettore Perazzoli  <ettore@gnu.org>

	* e-msg-composer-address-dialog.c: New context menu
	`recipient_list_popup_info' for the recipient CLists.
	(recipient_clist_button_press_cb): New function.
	(setup_signals): Install it as the "button_press_event" signal
	handler for popping up the CList context menu.

	* e-msg-composer.c (free_string_list): New helper function.
	(setup_address_dialog): Setup the initial values in the address
	dialog according to the ones in the header widget.

	* e-msg-composer-hdrs.c (e_msg_composer_hdrs_get_to): New function.
	(e_msg_composer_hdrs_get_cc): New function.
	(e_msg_composer_hdrs_get_bcc): New function.

	* e-msg-composer.c (setup_address_dialog): New helper function.
	(address_dialog_cb): Use it.

	* e-msg-composer-address-dialog.c (add_address): Do not set the
	row data anymore.  Instead, put the full address description
	(i.e. complete with the email address, not just the full name) in
	the CList.
	(add_address): Do nothing if no item is selected in the address
	CList.
	(get_list): Get the address list from the CList without passing
	through the address CList.
	(set_list): New helper function.
	(e_msg_composer_address_dialog_set_to_list): New function.
	(e_msg_composer_address_dialog_set_cc_list): New function.
	(e_msg_composer_address_dialog_set_bcc_list): New function.

	* e-msg-composer.c (address_dialog_apply_cb): Apply values from
	the address dialog into the composer.

	* e-msg-composer-hdrs.c (e_msg_composer_hdrs_set_to): New function.
	(e_msg_composer_hdrs_set_cc): New function.
	(e_msg_composer_hdrs_set_bcc): New function.

	* e-msg-composer-address-entry.c
	(e_msg_composer_address_entry_set_list): New function.

	* e-msg-composer-address-dialog.c (apply): New helper function.
	(clicked): New function, `clicked' method for the `GnomeDialog'
	class.
	(class_init): Install it.

1999-11-06  Ettore Perazzoli  <ettore@gnu.org>

	* e-msg-composer-attachment-bar.c (destroy): Call the destroy
	method of the parent class.

	* e-msg-composer.c: #include "e-msg-composer-address-dialog.h".
	(address_dialog_cb): New callback to start the address dialog.
	(setup_signals): Connect it to the appropriate button/menu item.
	(init): Initialize the new `address_dialog' member to NULL.
	(destroy): Destroy the `address_dialog' if not NULL.

	* e-msg-composer.h: New member `address_dialog' in `struct
	_EMsgComposer'.

	* e-msg-composer.glade: Added button to activate the address
	composition dialog.

	* e-msg-composer-address-dialog.h, e-msg-composer-address-dialog.c:
	New files implementing the address composition dialog for Evolution.

	* e-msg-composer-address-dialog.glade: New file.

	* e-msg-composer-attachment.c: `signals' made static.

1999-11-05  Ettore Perazzoli  <ettore@gnu.org>

	* Makefile.am: Compile the new files in a `libevolutionwidgets'
	library.
	(CPPFLAGS): #define `E_GUIDIR'.

	* e-msg-composer.c, e-msg-composer.h: New files implementing an
	initial version of the Evolution message composer widget.

	* e-msg-composer-address-entry.c, e-msg-composer-address-entry.h:
	New files implementing a GtkEntry customized for entering email
	address lists.

	* e-msg-composer-attachment-bar.c, e-msg-composer-attachment-bar.h:
	New files implementing a widget for editing mail attachments.

	* e-msg-composer-attachment.c, e-msg-composer-attachment.h: New
	files implementing file attachment objects for the message
	composer.

	* e-msg-composer-hdrs.c, e-msg-composer-hdrs.h: New files
	implementing a widget for editing of email message headers.

	* e-msg-composer-attachment.glade: New file.
	* e-msg-composer.glade: New file.

1999-10-31  Miguel de Icaza  <miguel@gnu.org>

	* widgets/e-table-column.c, e-table-column.h: New file, implements the
	e-table-column object.

	* widget/e-table-model.h, e-table-model.c, e-table-simple.c,
	e-table-simple.h: New files.  Implements the column model and
	a simple table wrapper.

