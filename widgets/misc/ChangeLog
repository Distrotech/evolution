2005-08-23  Not Zed  <NotZed@Ximian.com>

	* e-send-options.c (get_widgets): cast warning away.

	* e-calendar-item.c (e_calendar_item_realize): remove some unused
	vars.

2005-08-17  Srinivasa Ragavan <sragavan@novell.com>

	* e-attachment-bar.c 
	eab_drag_data_get: Use camel_url to construct url
	(eab_icon_clicked_cb) (e_attachment_bar_new): 
	Fixed part of bug #312224. It handles double click on a attachment
	icon and calls gnome_url_show.

	* e-attachment.[ch] (finalise) (init): Add a new member to preserve
	the stored location
	(e_attachment_new)(e_attachment_build_remote_file): Camel_url to 
	construct urls
	
2005-08-16  Srinivasa Ragavan <sragavan@novell.com>

	* e-attachment.c (download_to_local_path) (e_attachment_edit): Fixed
	few warnings

2005-08-16  Srinivasa Ragavan <sragavan@novell.com>

	* e-attachment.c (finalise) (e_attachment_new) (e_attachment_build_remote_file)
	(e_attachment_new_from_mime_part) (ok_cb): Maintain the filename of the 
	attachment in the structure and free it in finalize.
	* e-attachment-bar.c (update): For display consider the filename from the 
	structure before from the part.

2005-08-03  Not Zed  <NotZed@Ximian.com>

	* e-filter-bar.c (build_items): revert dobey's last patch here, it
	completely broke customisation of the menu.

2005-08-11  Srinivasa Ragavan <sragavan@novell.com>

	* e-attachment-bar.[ch] (e_attachment_bar_refresh): Added a function
	to force refresh/resize the icons.

2005-08-02  David Malcolm  <dmalcolm@redhat.com>

	* e-attachment-bar.c: (update_remote_file): escape the "%" character 
	correctly.

2005-07-29  Srinivasa Ragavan <sragavan@novell.com>

	* e-attachment.c: (e_attachment_new_from_mime_part) used ref instead of 
	copying the entire mime part.

2005-07-15  Diego Gonzalez    <diego@pemas.net>

	* e-image-chooser.c(image_drag_data_received_cb): modificatio to
	avoid getting into an infinite loop. Also remove some debug
	output.
	(set_image_from_data): substitute calls to gdk_pixbuf_unref and
	gdk_pixbuf_ref and use g_object_ref/unref instead. The first ones
	are deprecated API.
	Fixes #310488

2005-07-25  Srinivasa Ragavan <sragavan@novell.com>

	* e-attachment-bar,c: (e_attachment_bar_remove_selected) (e_attachment_bar_edit_selected)
	(e_attachment_bar_get_attachment) (e_attachment_bar_get_parts) 
	(e_attachment_bar_get_download_count) (e_attachment_bar_attach_remote_file): Added 
	checks for the parameters.
	
2005-07-20  Vivek Jain  <jvivek@novell.com>
	
	* e-send-options.h : ESendOptionsDialogClass: has a member new virtual
	method for default callback of "sod_response"
	* e-send-options.c : introduced a new signal "sod_response"
	captures the response for the child dialog and makes it available at the
	object level (useful for the external members invoking the dialog)

2005-07-20  Srinivasa Ragavan <sragavan@novell.com>

	* e-attachment-bar.[ch]:(remove_attachment) (update) (e_attachment_bar_get_selector) 
	(e_attachment_bar_get_attachment) (destroy) (init) (e_attachment_bar_new) 
	(e_attachment_bar_add_attachment) (e_attachment_bar_attach_remote_file)
	Cleaned up most of it. Added the DnD.
	* e-attachment.[ch]: (real_changed) (class_init) (init) (e_attachment_new) 
	(e_attachment_new_remote_file) (e_attachment_build_remote_file): Moved the
	remote download code from bar to here and few cleanups.
	
2005-07-11  Srinivasa Ragavan <sragavan@novell.com>
	
	* Makefile.am: Added e-attachment-bar.[ch] e-attachment.[ch]
	e-attachment.glade.
	* e-attachment.[ch]: Merge of em-attachment.[ch] and cal-attachment.[ch]
	* e-attachment-bar.[ch]: Merge of em-attachment-bar.[ch] and
	cal-attachment-bar.[ch].

2005-06-23  Kaushal Kumar  <kakumar@novell.com>

	* Makefile.am: Use 'misc' for widgetsincludedir, instead of 
	'widgets', to match source directory name and fix 
	evolution-exchange build.

2005-05-31  Li Yuan  <li.yuan@sun.com>

	* e-dateedit.c:(e_date_edit_update_date_entry):
	add relation to date_button.

	Fixes #302267

2005-05-16  Not Zed  <NotZed@Ximian.com>

	* Makefile.am: move e-error.[ch] and e-system-errors.xml to
	e-util/. remove test-error.

2005-05-13  Rodney Dawes  <dobey@novell.com>

	* e-filter-bar.[ch]: Update for the new menu layout

2005-05-12  Shreyas Srinivasan	<sshreyas@novell.com>

	* e-send-options.c : Fixed #272005
	
2005-05-06  Sarfraaz Ahmed <asarfraaz@novell.com>

	* e-send-options.glade : Fixed a typo. #273095

2005-05-06  Harish Krishnaswamy  <kharish@novell.com>

	* e-send-options.glade: Fix for bugs #273096, #273097

2005-03-01  Jeffrey Stedfast  <fejj@novell.com>

	* e-search-bar.c (subitem_activated_cb): Make the entry widget
	grab focus. Fixes bug #60551.

2005-02-21  Rodney Dawes  <dobey@novell.com>

	* e-combo-button.c (paint): Fix the calculation of which shadow type
	to use to be more appropriate for the widget state and relief
	Always call gtk_box_paint and not only in special cases like GtkButton
	(e_combo_button_init): Change the arrow packing to pack_end

	Fixes #54503

2005-02-02  Li Yuan  <li.yuan@sun.com>

	* e-url-entry.c: (init):
	add a11y name to url link button.

2005-01-26  Rodney Dawes  <dobey@novell.com>

	* e-error.c (e_error_newv): Fix up spacing to be HIG compliant for
	the borders around the dialogs

2005-01-25  Not Zed  <NotZed@Ximian.com>

	* e-error.c: turn off debug output, people think its a significant
	error.

2005-01-24  Mengjie Yu  <meng-jie.yu@sun.com>

	* e-search-bar.c: (set_option):
	add a11y name for the option menu.

2005-01-20  Not Zed  <NotZed@Ximian.com>

	** See bug #64964.

	* e-error.c (e_error_newv): just use add_button, not
	add_action_widget, for stock+label widgets, since they both show
	the same, and for some reason set_default_response doesn't work
	otherwise.

2005-01-20  Harry Lu  <harry.lu@sun.com>

	* e-search-bar.c: (activate_by_subitems): add a translater note.

2005-01-19  Harry Lu  <harry.lu@sun.com>

	Fix for 46359, enable "Alt+Down Arrow" to show the popup for
	e-combo-cell-editable.c.

	* e-combo-cell-editable.c: (show_popup): rewrite it to a more
	generic function.
	(button_clicked_cb): call the new show_popup function.
	(entry_key_press_event_cb): show popup if "Alt+Down Arrow".
	(ecce_grab_focus): new function.
	(ecce_class_init): add grab_focus handler so that the entry
	can get focus.

2005-01-17  Harry Lu  <harry.lu@sun.com>

	Fix for 62831.

	* e-search-bar.c: (activate_by_subitems): add an a11y name for 
	the search entry.

2005-01-12 Chenthill Palanisamy <pchenthill@novell.com>

	* e-send-options.c: (e_send_options_get_widgets_data),
	(e_send_options_fill_widgets_with_data): Get the value
	for the autodelete toggle button
	(page_changed_cb): Do not hide the classification label 
	and its combo box here. 

2005-01-10 Chenthill Palanisamy <pchenthill@novell.com>

	* e-send-options.c: (e_send_options_get_widgets_data),
	(e_send_options_fill_widgets_with_data), (page_changed_cb),
	(init_widgets), (get_widgets), (setup_widgets),
	(e_sendoptions_set_global), (e_sendoptions_dialog_run),
	(e_sendoptions_dialog_finalize), (e_sendoptions_dialog_dispose),
	(e_sendoptions_dialog_init), (e_sendoptions_dialog_class_init),
	(e_sendoptions_dialog_get_type): Added code to support global options.
	Filled the finalize and dispose functions.
	* e-send-options.glade: Changed a label id.
	* e-send-options.h: Added the set_global function.

2005-01-06  JP Rosevear  <jpr@novell.com>

	* Makefile.am: dist the glade file

2005-01-06 Chenthill Palanisamy <pchenthill@novell.com>
	
	Commiting the files mentioned below again to HEAD since it 
	was not added in head. 

2005-01-06 Chenthill Palanisamy <pchenthill@novell.com>
	
	merging send options
	* Makefile.am:
	* e-send-options.[ch]: Widgets for the send options dialog
	* e-send-options.glade:	Contains interface for the dialog

2005-01-04  Harry Lu  <harry.lu@sun.com>

	* misc/e-combo-button.c: (e_combo_button_popup): new internal function
	to popup the menu.
	(impl_button_press_event): call the new function.
	(e_combo_button_class_init): init a11y.
	(e_combo_button_get_label): new function to return label.
	(e_combo_button_popup_menu): new function to popup menu.
	* misc/e-combo-button.h: add function declarations.

2004-12-17  Not Zed  <NotZed@Ximian.com>

	* e-error.c (ee_load, e_error_newv): translate strings based on
	translation-domain, if supplied.

2004-12-14  Rodney Dawes  <dobey@novell.com>

	* e-calendar-item.c (e_calendar_item_draw): Use gtk_paint_foo instead
	of the deprecated gtk_draw_foo functions
	(e_calendar_item_get_day_style): Use colors from the theme for the
	background and foreground of various items
	
	* test-calendar.c (main): Don't set a callback for getting the day
	style, we want the test app to use the widget defaults
	(get_day_style): Remove all this duplicated code as we want to use
	the widget default colors for day fg/bg

2004-11-26  JP Rosevear  <jpr@novell.com>

	* test-info-label.c: test prog

	* e-url-entry.c: get image directly from icon factory

	* e-combo-button.c: ditto; convert to G_DEFINE_TYPE

	* e-activity-handler.c: convert to G_DEFINE_TYPE
	
	* e-task-widget.c: ditto

	* e-task-bar.c: ditto

	* e-multi-config-dialog.c: ditto

	* e-dropdown-button.c: ditto

	* e-cell-renderer-combo.c: ditto

	* e-cell-date-edit.c: ditto

	* e-calendar.c: ditto

	* e-calendar-item.c: ditto

	* Makefile.am: don't build the title bar, build an info label test
	program

2004-10-28  Li Yuan  <li.yuan@sun.com>

	* e-calendar.c: (e_calendar_init), (e_calendar_new): Make
	accessibility name and description translatable.  Add a atk name
	for the two buttons so that they can be UI grabbed by GOK.
	
	* e-dateedit.c: (e_date_edit_new), (create_children): Add a name
	for atk object.  Make accessibility name and description
	translatable.  Add name and description for the date_entry,
	date_button and time_combo.
	(e_date_edit_show_date_popup), (hide_date_popup): Grab and ungrab
	keyboard.  add_relation(): New function to add labelled_by
	relation for entry and combobox.
	
	* e-map.c: (e_map_new): Add a name for world map widget.  Make
	accessibility name and description translatable.  Set the atk role
	to image.
	
	* e-multi-config-dialog.c: (e_multi_config_dialog_add_page): Add
	an atk name for the page.
	
2004-10-27  JP Rosevear  <jpr@novell.com>

	* Makefile.am: use E_WIDGET instead of GNOME_FULL

2004-10-14  JP Rosevear  <jpr@novell.com>

	* e-pilot-settings.c: fix e-source-option-menu include

2004-10-13  JP Rosevear  <jpr@novell.com>

	* Makefile.am: don't build source selector or source option menu
	or test programs any more

2004-10-08  Harry Lu  <harry.lu@sun.com>

	* e-source-selector.c: (e_source_selector_popup_menu),
	(class_init): implement popup_menu so that popup menu can
	be shown with Shift+F10.

2004-10-06  JP Rosevear  <jpr@novell.com>
 
 	Fixes #66164
 	
 	* e-cell-date-edit.c (e_cell_date_edit_get_popup_pos): replicate
 	fix to e-cell-combo.c by NotZed
	
2004-10-01  Not Zed  <NotZed@Ximian.com>

	* e-util-marshal.list: added boolean object boxed.

	* e-source-selector.c (class_init): add new 'popup event' signal,
	to replace fill_popup_menu.
	(selector_button_press_event): emit a POPUP_EVENT rather than a
	FILL_POPUP_MENU.

2004-09-13  Rodney Dawes  <dobey@novell.com>

	* e-multi-config-dialog.c (impl_response):
	Point at "config-prefs" instead of "config" for the help section

2004-08-03  JP Rosevear  <jpr@novell.com>

	* Makefile.am: Really dist the pilot sources this time

2004-08-03  JP Rosevear  <jpr@novell.com>

	* Makefile.am: Dist the pilot sources

2004-08-01  JP Rosevear  <jpr@novell.com>

	* e-pilot-settings.c (e_pilot_settings_get_source): accessor
	(e_pilot_settings_set_source): ditto
	(build_ui): show the source option menu
	(e_pilot_settings_new): use above

	* e-pilot-settings.h: add prototypes

2004-07-20  JP Rosevear  <jpr@novell.com>

	* Makefile.am: build pilot setting

2004-07-26  JP Rosevear  <jpr@novell.com>
 
 	* e-search-bar.c (setup_bonobo_menus): use ctrl-shift-q to clear
 	search bar
	
2004-07-20  Not Zed  <NotZed@Ximian.com>

	* e-error.c: include config.h.  See #61395.

2004-07-20  JP Rosevear  <jpr@novell.com>

	* e-source-selector.h: remove proto

	* e-source-selector.c (selection_func): don't force the item to be
	checked
	(cell_toggled_callback): allow the cell to be untoggled even if
	its primary
	(init): set the pixbuf renderable
	(e_source_selector_set_toggle_selection): no longer necessary

2004-07-16  Chris Toshok  <toshok@ximian.com>

	* e-clipped-label.c (e_clipped_label_recalc_chars_displayed):
	remove debug spew and fix the display when
	pango_layout_line_x_to_index returns FALSE (before we were drawing
	both the ellipses and the text).

2004-07-12  Jeffrey Stedfast  <fejj@novell.com>

	* e-charset-picker.c: s/GB-2312/GB2312/ - fixes bug #61385.

2004-06-24  Rodney Dawes  <dobey@novell.com>

	* e-error.c (e_error_newv): Fix alignment of the icon to be 0x0

	Fixes #60493

2004-06-24  Rodney Dawes  <dobey@novell.com>

	* e-source-selector.[ch]: Add new "select_new" property to
	private structure of the ESourceSelector
	(rebuild_cb): Add code to select the new source, and cause the
	selection_changed signal to get emitted, if we select new sources
	(init): Don't select new sources by default
	(e_source_selector_set_select_new): Add function to set whether or not
	we want to select new sources when we add them

2004-06-22  Hans Petter Jansson  <hpj@ximian.com>

	* e-source-selector.c (e_source_selector_peek_primary_selection):
	Add preconditions. Make sure garbage or NULL data doesn't get
	used.
	
2004-06-16  Not Zed  <NotZed@Ximian.com>

	* e-source-selector.c (cell_toggled_callback): fix a path leak and
	maek the code more structured.
	(e_source_selector_set_toggle_selection): set the mode on whether
	you can toggle the currnet selection or not.
	(cell_toggled_callback): implement set_toggle_selection behaviour.

2004-06-11  Larry Ewing  <lewing@ximian.com>

	* e-source-selector.c: make the source selector use a colock block
	instead of setting the foreground to indicate the source color.
	(pixbuf_cell_data_func): actually initialize the pixbuf (bad
	larry).
	(pixbuf_cell_data_func): clean up warnings.  (double bad larry).
	(pixbuf_cell_data_func): fix the appearance a little.
	
2004-06-03  William Jon McCann  <mccann@jhu.edu>

	* e-error.c (e_error_newv): Add HIG border width for dialog window.

2004-06-01  Christian Neumair  <chris@gnome-de.org>

	* Makefile.am (test_error_LDADD): Link test-error against libeutil.

2004-06-01  Anders Carlsson  <andersca@gnome.org>

	* e-expander.c (e_expander_expose): Don't propagate the expose
	to the label widget, the parent expose handler does that.

2004-05-28  Anders Carlsson  <andersca@gnome.org>

	* e-error.c (e_error_newv): Use the constructed title string.

2004-05-27  Rodney Dawes  <dobey@novell.com>

	* Makefile.am (EXTRA_DIST): Add $(error_i18n)

2004-05-21  Not Zed  <NotZed@Ximian.com>

	* e-error.c (e_error_default_parent): set a default error parent
	fallback.
	(e_error_newv): if parent is null, see if we have a default still
	alive, and use that.  warn if not.
	(e_error_default_parent): uh, fix the sense of the
	if-we-dont-have-it test.

2004-05-20  JP Rosevear  <jpr@novell.com>

	* e-task-widget.c (e_task_widget_construct): only unref the mask
	if there is one

2004-05-19  JP Rosevear  <jpr@novell.com>

	* Makefile.am: don't dist the error .h file

2004-05-18  Not Zed  <NotZed@Ximian.com>

	* e-error.c (ee_load): load the <help> tag if present.
	(ee_response): handle the help response and swallow the signal.
	(e_error_newv): setup help button if we have a help uri.

2004-05-17  Jeffrey Stedfast  <fejj@novell.com>

	* e-url-entry.c (init): Use E_ICON_SIZE_BUTTON for the icon size
	in the e_icon_factory_get_icon() call.

	* e-combo-button.c (create_empty_image_widget): Don't hard-code
	the size of the icon in pixels, instead use the appropriate
	E_ICON_SIZE_ enum.

2004-05-17  JP Rosevear  <jpr@novell.com>

	Fixes #58460
	
	* e-task-widget.c (e_task_widget_construct): bitmap_unref the
	mask, don't object_unref it

2004-05-12  Not Zed  <NotZed@Ximian.com>

	* e-error.c (ee_load): duh, use the right node pointer for title
	and secondary text.

	* e-system-errors.xml: make the Because cases the same.

	* e-system-errors.xml.h: add for translators.

	* e-error.c (ee_load): just use _() to do i18n rather than the
	nasty lang stuff.
	(find_node): no longer needed.

	* Makefile.am (%.xml.h): setup the build rules for the i18n file
	for the errors.

	* e-system-errors.xml.in: Removed, renamed to .xml and removed the
	_ stuff.

2004-05-04  Xan Lopez  <xan@gnome.org>

	* Makefile.am:

        Build fixes.

2004-05-03  Not Zed  <NotZed@Ximian.com>

	* e-error.c (ee_build_label): blah, need to do entity decoding.
	#57918.

2004-04-29  JP Rosevear  <jpr@ximian.com>

	* e-activity-handler.c (impl_dispose): pass the correct data when
	weak unreffing

2004-04-29  Not Zed  <NotZed@Ximian.com>

	* e-error.c (e_error_newv): make the label selectable.
	(e_error_newv): if we have stock and label set, then use a stock
	button with an override label.

2004-04-28  Not Zed  <NotZed@Ximian.com>

	* e-system-errors.xml.in: holder for system errors.

	* test-error.c: helper to show an error message/test it.

	* e-error.[ch]: Api for disk-based, hig-compliant error messages
	and query boxes.

2004-04-19  Jeffrey Stedfast  <fejj@ximian.com>

	* e-info-label.c (e_info_label_new): Updated to sue E_ICON_SIZE enums.

2004-04-19  Rodney Dawes  <dobey@ximian.com>

	* e-info-label.c (e_info_label_new): Update to use EIconFactory to
	get the filename for the component icons using the icon theme

2004-04-19  Michael Terry  <mike@mterry.name>

	* e-combo-buddon.c:
	* e-url-entry.c: Update these to use EIconFactory and GtkImages
	directly instead of GdkPixmaps

2004-04-09  Rodney Dawes  <dobey@ximian.com>

	* e-charset-picker.c: Include gtkhbox.h in here to avoid the warnings
	(activate_other):
	(e_charset_picker_dialog): Make these dialogs be more HIG-compliant
	* e-filter-bar.c (do_advanced):
	(menubar_activated): Make these dialogs be more HIG-compliant

2004-04-08  Not Zed  <NotZed@Ximian.com>

	* e-info-label.c (e_info_label_set_info): ugh, fix some last
	minute changes which broke shit.

	* e-info-label.[ch]: A widget to show component info for the
	current component/view.

2004-04-07  Jeffrey Stedfast  <fejj@ximian.com>

	* e-multi-config-dialog.c: Updated for changes to e-config-page.c
	(init): Removed the OK and Apply buttons.

	* e-config-page.c (e_config_page_apply): Removed.
	(e_config_page_is_applied): Removed.
	(e_config_page_changed): Removed.

2004-04-01  Dan Winship  <danw@ximian.com>

	* e-url-entry.c (init): Make the button initially insensitive.
	Connect to the entry's "changed" signal.
	(entry_changed_cb): sensitize the button iff the entry is
	non-empty
	(button_clicked_cb): simplify a bit by using gtk_entry_get_text
	rather than gtk_editable_get_chars.

2004-04-01  Jeffrey Stedfast  <fejj@ximian.com>

	* e-charset-picker.c (e_charset_picker_new): Create a new class
	for "Western European, New" to fix a translation issue.

2004-03-31  Not Zed  <NotZed@Ximian.com>

	* e-filter-bar.c (menubar_activated): start the rule editor with
	the right label.

2004-03-26  Rodney Dawes  <dobey@ximian.com>

	* e-multi-config-dialog.c (init): Remove the dialog separator
	Set the border widths of the dialog's vbox and action area to be more
	HIG-compliant
	Set the border width of the dialog's child to 12 for HIG-compliance

2004-03-15  JP Rosevear  <jpr@ximian.com>

	* e-calendar-item.c (e_calendar_item_class_init): change arg name
	(e_calendar_item_init): ditto
	(e_calendar_item_get_arg): ditto
	(e_calendar_item_set_arg): ditto
	(e_calendar_item_preserve_day_selection): set the selection day to
	the given selection
	(e_calendar_item_set_first_month): use above to preserve selected
	day of week

	* e-calendar-item.h: change field name

2004-03-13  Trent Lloyd  <lathiat@sixlabs.org>

	* e-search-bar.c (remove_bonobo_menus): move function above
	setup_bonobo_menus, fixes implicit declaration.

2004-03-12  Kidd Wang  <kidd.wang@sun.com>

	* e-dateedit.c (create_children): enlarge the text box to
	accomodate the time info in different locales.

2004-03-11  Jeffrey Stedfast  <fejj@ximian.com>

	Fix for bug #55267.

	* e-filter-bar.c (set_property): Use efb->setquery properly (set
	to TRUE before calling set_item_id and FALSE afterwards). Also
	setquery to TRUE before emitting the "search-activated" signal so
	that we don't run the callback for the signal we are emitting.

2004-03-02  Jeffrey Stedfast  <fejj@ximian.com>

	* e-filter-bar.c (set_property): Emit the "search-activated"
	signal. Fixes bug #55054.

2004-02-26  Rodney Dawes  <dobey@ximian.com>

	* e-cell-renderer-combo.c (ecrc_get_size):
	* e-dateedit.c (create_children):
	* e-dropdown-button.c (e_dropdown_button_construct): Create the
	arrows in these widgets as GTK_SHADOW_NONE, since the default arrow
	type in GTK+ 2.x is flat triangle arrows, and shadow types are
	generally ignored for arrows anyway, and so we don't look ugly with
	themes that handle shadow types on arrows correctly

2004-02-26  Bill Zhu <bill.zhu@sun.com>

	* e-search-bar.c (setup_bonobo_menus): Before Update the bonobo ui
	component, remove it first.

	Fixes #54788

2004-02-11  Rodney Dawes  <dobey@ximian.com>

	* e-multi-config-dialog.c (impl_response): Change the filename and
	section that we pass to gnome_help_display_desktop so that the help
	browser displays the documentation correctly

2004-02-10  Rodney Dawes  <dobey@ximian.com>

	* e-multi-config-dialog.c (init): Add a Help button
	(impl_response): Handle the Help button and open the documentation

	Fixes #30681

2004-02-05  Rodney Dawes  <dobey@ximian.com>

	* e-task-bar.c: Don't show the task label by default

2004-02-03  Dan Winship  <danw@ximian.com>

	* e-activity-handler.c: 
	* e-activity-handler.h: 
	* e-task-bar.c: 
	* e-task-bar.h: 
	* e-task-widget.c: 
	* e-task-widget.h: Moved here from shell/, since they are now used
	only by the components, not the shell itself.

	* Makefile.am (widgetsinclude_HEADERS,
	libemiscwidgets_la_SOURCES): add new files

2004-02-02  Chris Toshok  <toshok@ximian.com>

	* e-image-chooser.c (set_image_from_data): set
	image_buf/image_buf_size here instead of in all callers.  also
	emit the "changed" signal here.
	(image_drag_data_received_cb): remove the copying to image_buf and
	emitting of "changed" from here.
	(e_image_chooser_set_from_file): only g_free (data) here if
	set_image_from_data failed.
	(e_image_chooser_set_image_data): copy the image data we're passed
	before calling set_image_data.  free it if rv == FALSE.

2004-01-30  Chris Toshok  <toshok@ximian.com>

	* e-image-chooser.c (e_image_chooser_init): add an alignment
	around the image.  This might not be enough.  hrm.
	(set_image_from_data): handle the case where there's no image
	(image_height == image_width == 0).
	(e_image_chooser_get_image_data): new function.
	(e_image_chooser_set_image_data): new function.

	* e-image-chooser.h: add prototypes for set/get_image_data.

2004-01-30  Chris Toshok  <toshok@ximian.com>

	* e-image-chooser.[ch]: abstract out the drag and droppable image
	widget from the contact list editor and stick it here.  There's
	some code for a "Browse..." button here but it's not enabled.

	* Makefile.am (widgetsinclude_HEADERS): add e-image-chooser.h.
	(libemiscwidgets_la_SOURCES): add e-image-chooser.c
	
2004-01-30  Jeffrey Stedfast  <fejj@ximian.com>

	* e-filter-bar.c (get_property): Only save the search-bar state OR
	the filter-bar state - decided based on what the search is. If the
	search is an advanced search, then save the filter-bar state,
	otherwise save the search-bar state.
	(set_property): Only need to restore the first state we find
	(filter-bar vs search-bar). If we are restoring filter-bar state,
	set efb->setquery to TRUE and then set the item_id to
	E_FILTERBAR_ADVANCED_ID.

2004-01-29  Jeffrey Stedfast  <fejj@ximian.com>

	* e-filter-bar.c (option_changed): Don't call efb->config() if the
	current_query is NULL.

2004-01-28  Jeffrey Stedfast  <fejj@ximian.com>

	* e-search-bar.c (impl_get_property): Same.

	* e-filter-bar.c (get_property): Use
	g_value_set_string_take_ownership() instead of
	g_value_take_string() since we need snaps to work with glib-2.0
	earlier than 2.3.x.

2004-01-28  Jeffrey Stedfast  <fejj@ximian.com>

	* e-filter-bar.c: Added a new property "state" which is READ-WRITE
	so that we can save/restore state in the mailer code if we want
	to. Sort of a work-in-progress toward fixing bug #53195.
	(class_init): Ported to use the GObject property stuff instead of
	the deprecated GtkArg stuff.
	(get_property): Ported from impl_get_arg().
	(set_property): New object::set_property implementation to set the
	query state.

2004-01-24  JP Rosevear <jpr@ximian.com>

	* e-source-selector.c (cell_toggled_callback): if the source is
	primary, don't allow it to be un-selected

2004-01-20  Rodney Dawes  <dobey@ximian.com>

	* e-combo-button.c (paint): Be even more exactly like the GtkButton
	painting stuff

	Fixes #52988

2004-01-20  JP Rosevear <jpr@ximian.com>

	* e-source-selector.c (rebuild_model): set a primary selection if
	there is one before the rebuild
	(e_source_selector_set_primary_selection): block the signals when
	clearing the tree selection to make the op atomic; emit the
	selection_changed signal if a hidden selection is not currently
	selectecd

2004-01-20  JP Rosevear <jpr@ximian.com>

	* e-source-selector.c (find_source_iter): provide parent iter
	in/out arg
	(test_collapse_row_callback): use priv shortcut
	(e_source_selector_select_source): pass parent iter
	(e_source_selector_unselect_source): ditto
	(e_source_selector_peek_primary_selection): return the right thing
	if the primary selection is currently hidden
	(e_source_selector_set_primary_selection): set the primary
	selection properly if the source node is currently hidden

2004-01-20  JP Rosevear <jpr@ximian.com>

	* e-source-selector.c (clear_saved_primary_selection): util
	routine to clear the row reference to the saved primary selection
	(find_source_iter): unref the model data retrieved
	(rebuild_existing_cb): ditto
	(toggle_cell_data_func): ditto
	(text_cell_data_func): ditto
	(selection_func): ditto; clear the saved primary selection if
	something else is selected
	(cell_toggled_callback): ditto
	(test_collapse_row_callback): clear the toggled_last flag
	(row_expanded_callback): once we've restored the saved primary
	selection, clear it
	(selector_button_press_event): unref the model data
	(impl_dispose): use clear_saved_primary_selection
	(init): the store column holds object not pointer type
	(e_source_selector_peek_primary_selection): unref the model data

2004-01-20  JP Rosevear <jpr@ximian.com>

	* e-source-selector.c (test_collapse_row_callback): check if the
	collapsing node has its child selected, if so take a row reference
	to remember the selection
	(row_expanded_callback): check if the expanding node has the saved
	primary selection under it and re-select if so
	(init): listen for signals
	(impl_dispose): free the primary selection

2004-01-19  JP Rosevear <jpr@ximian.com>

	* e-source-selector.c (create_rebuild_data): create the data
	structure for rebuilding the model
	(free_rebuild_data): free it
	(rebuild_existing_cb): check for the sources that are still
	existing or deleted
	(rebuild_model): do incremental updates
	(selection_func): if the last thing we did was toggle, we don't
	actually want to highlight and if the source is not checked, check
	it
	(cell_toggled_callback): indicate that a toggle just occurred
	(init): initial toggled last to false	
	(e_source_selector_set_primary_selection): set some preconditions

	Fixes #51787
	
2004-01-19  JP Rosevear <jpr@ximian.com>

	* e-source-selector.c 	(cell_toggled_callback): indicate that a toggle just occurred

2004-01-19  JP Rosevear <jpr@ximian.com>

	* e-source-selector.c 

	(selector_button_press_event): when right clicking, make sure the
	calendar is highlighted and that groups can't be right clicked on

2004-01-14  Rodney Dawes  <dobey@ximian.com>

	* e-expander.[ch]: Fix remaining usages of GTK_*EXPANDER* defines

2003-12-22  Rodney Dawes  <dobey@ximian.com>

	Fix for bug #46349
	
	* e-combo-button.c: Use the appropriate style painting for a
	button widget, since we are a button

2003-12-18  Harry Lu  <harry.lu@sun.com>

	* e-cell-date-edit.c: (e_cell_date_edit_do_popup): call
	gdk_window_focus() so that keyboard works correctly.

2003-12-16  Hans Petter Jansson  <hpj@ximian.com>

	* e-source-option-menu.c (select_source_foreach_menu_item): Use
	e_source_equal() instead of comparing pointers. This allows user
	to pass in a source that was obtained from somewhere else. Set the
	matching internal source as "selected" instead of the one passed
	in.
	(select_source): Emit signal only if we found a match. Don't
	ref/unref anything, since the selected source will always be from
	our internal list.
	
2003-12-04  Harry Lu <harry.lu@sun.com> 

	Fix for bugzilla bug #51624 and #51627.

	* e-calendar-item.c: (e_calendar_item_selection_add_days):
	set the date to the first day of the month so that user can use
	keyboard's arrow key to select a date.
	(e_calendar_item_set_selection_if_emission): only set selection_changed
	if emission is TRUE.
	* e-calendar.c: (e_calendar_init): add back the "clicked" handler so
	that user can use keyboard to click the button.
	 (e_calendar_start_auto_move): no need to move since it is already 
	handled by the clicked handler
	(e_calendar_on_prev_clicked), (e_calendar_on_next_clicked): move the 
	month here.
	* e-dateedit.c: (e_date_edit_show_date_popup): use gdk_window_focus 
	instead of gdk_keyboard_grab so that the focus won't lost if user click
	the button with keyboard.
	(hide_date_popup): no need to call gdk_keyboard_ungrab.

2003-12-02  Ettore Perazzoli  <ettore@ximian.com>

	* e-source-selector.c (init): Set the mode on the text cell
	renderer to GTK_CELL_RENDERER_MODE_ACTIVATABLE so clicking on the
	text doesn't change the status of the checkbox.  [Many thanks to
	Jonathan Blandford for telling me how to do this!]

2003-12-01  JP Rosevear <jpr@ximian.com>

	* e-source-selector.c (class_init): list the signal args properly

2003-11-30  ERDI Gergo  <cactus@cactus.rulez.org>

	* e-calendar.c: canned the _clicked handlers as those make it
	impossible to move just one month at a time

2003-11-30  Ettore Perazzoli  <ettore@ximian.com>

	* e-util-marshal.list: Add NONE:POINTER.

	* test-source-option-menu.c (source_selected_callback): New
	callback to test the "source_selected" signal.
	(on_idle_create_widget): Connect.

	* e-source-option-menu.c: Add "source_selected" signal.
	(select_source): Assume source != NULL and emit "source_selected".

2003-11-30  Ettore Perazzoli  <ettore@ximian.com>

	* test-source-option-menu.c: New test.

	* e-source-option-menu.h: New.
	* e-source-option-menu.c: New.

2003-11-23  ERDI Gergo  <cactus@cactus.rulez.org>

	* e-expander.c: Added the late eggexpander
	
	* e-expander.c (e_expander_button_release): Emit 'activate' signal when
	appropriate
	

2003-11-17  Charles Zhang  <charles.zhang@sun.com>

	* e-search-bar.c(add_button): allow new lable with mnemonic
	(e_search_bar_construct): alter lable name. [50810]

2003-11-16  JP Rosevear <jpr@ximian.com>

	* e-source-selector.c (e_source_selector_set_primary_selection):
	use find_source_iter and get the selection from the right spot
	(find_source_iter): util function to find the iter given the
	source
	(e_source_selector_select_source): signal that the model changed
	(e_source_selector_unselect_source): ditto

2003-11-14  JP Rosevear <jpr@ximian.com>

	* e-source-selector.h: include e-source stuff from e-d-s

	* Makefile.am: use new cflags/libs to build
	
2003-11-13  Bolian Yin <bolian.yin@sun.com>

	* e-calendar-item.c: remove a declaration of a deleted func.

2003-11-12  JP Rosevear <jpr@ximian.com>

	* e-calendar-item.c (e_calendar_item_class_init): a canvas item
	does not inherit from gtkwidget

2003-11-11  Bolian Yin <bolian.yin@sun.com>
                                                                                
        Fixes #50538
                                                                                
        * e-calendar-item: make e_calendar_item_normalize_date public func.
           add "selection_preview_changed" signal.
           move some definition of constants to .h
                                                                                
2003-11-10  Ettore Perazzoli  <ettore@ximian.com>

	* e-source-selector.c (e_source_selector_new): Expand all the
	nodes.

2003-11-07  JP Rosevear <jpr@ximian.com>

	* Makefile.am: make sure the marshal stuff is in the sources and
	remove the built files when disting

2003-10-28  Rodrigo Moya <rodrigo@ximian.com>

	* e-source-selector.c (class_init): fill_popup_menu signal has
	2 arguments.

2003-10-28  Rodrigo Moya <rodrigo@ximian.com>

	* e-source-selector.[ch]: added "fill_popup_menu" signal, to
	allow the addition of new items to the popup menu.
	(class_init): create new signal.
	(init): connect to "button_press_event" for the tree view.
	(selector_button_press_event): callback for "button_press_event".
	(e_source_selector_selection_shown): use g_return_val_if_fail.

2003-10-22  Dan Winship  <danw@ximian.com>

	* e-bonobo-widget.[ch]: Remove these (unused since 1.2)

2003-09-30  Mike Kestner  <mkestner@ximian.com>

	* e-cell-renderer-combo.* : new, treeview renderer for combo cells
	* e-combo-cell-editable.* : new, GtkCellEditable for combo cells
	* Makefile.am : build the new files
	
2003-09-19  Bolian Yin <bolian.yin@sun.com>

	Fixes #1245. ECalendar should be usable with the keyboard

	* e-calendar-item.c (e_calendar_item_focus): new func, focus
	handler.
	(e_calendar_item_key_press_event): new func, key press event
	handler
	(e_calendar_item_selection_add_days,
	e_calendar_item_stop_selecting): helpers.
	(e_calendar_item_ensure_days_visible,
	 e_calendar_item_set_selection_if_emission): add the flag to
	 control if we should emit e-calendar signals.
	(e_calendar_item_class_init): register focus handler.
	(e_calendar_item_event): add code for GDK_FOCUS_CHANGE and
	GDK_KEY_PRESS.

	* e-calendar.c (e_calendar_focus): new func, focus handler
	(e_calendar_button_has_focus): new func, if prev/next button has
	focus.
	(e_calendar_on_next_clicked, e_calendar_on_prev_clicked): click
	 signal handler for prev/next buttons.
	(e_calendar_set_focusable): set if the e-calendar is focusable

	* e-dateedit.c (e_date_edit_show_date_popup, hide_date_popup):
	grab/ungrab gdk keyboard.

2003-08-27  Hans Petter Jansson  <hpj@ximian.com>

	Fixes #15638.

	* e-dateedit.c (rebuild_time_popup): Make 12-hour time format not
	be zero-padded. Right-align time labels so digits line up.

2003-08-27  Bolian Yin <bolian.yin@sun.com>

	* Makefile.am: add dependency on a11y/widgets.
	
	* e-calendar-item.c (e_calendar_item_class_init): a11y init.
	  (e_calendar_item_bounds): new func, impl the bounds virtual
	  func.

2003-08-18  Ettore Perazzoli  <ettore@ximian.com>

	* e-source-selector.c (e_source_selector_selection_shown)
	(e_source_selector_show_selection): Add precondition.

2003-08-18  Ettore Perazzoli  <ettore@ximian.com>

	* test-source-selector.c (on_idle_create_widget): Add a
	checkbutton to the test window for toggling the checkboxes on and
	off.  Also, put the list in a scrolled window and set a default
	size for the main window.
	(check_toggled_callback): Callback for the checkbutton.

	* e-source-selector.c: New member checkboxes_shown in struct
	ESourceSelectorPrivate.
	(init): Set to TRUE.
	(e_source_selector_show_selection): New.
	(e_source_selector_selection_shown): New.
	(toggle_cell_data_func): Don't show the toggle if checkboxes_shown
	is FALSE.

2003-08-17  Ettore Perazzoli  <ettore@ximian.com>

	* e-source-selector.c: New signal "primary_selection_changed",
	removed members list_changed_callback_id and
	selection_changed_callback_id in ESourceSelectorPrivate.
	(rebuild_model): If the new set of selected sources is smaller
	than the old one, emit "selection_changed".
	(e_source_selector_peek_primary_selection): New.
	(e_source_selector_set_primary_selection): New.
	(selection_changed_callback): New callback for the "changed"
	signal on our associated GtkTreeSelection.
	(init): Connect.
	(impl_dispose): Disconnect.
	(setup_model): Use signal_connect_object() instead of saving the
	ID.

2003-08-15  Ettore Perazzoli  <ettore@ximian.com>

	* e-source-selector.c (cell_toggled_callback): Call
	gtk_tree_model_row_changed() to let the model know that we changed
	the data.

2003-08-15  Ettore Perazzoli  <ettore@ximian.com>

	* test-source-selector.c: New test program.

	* e-source-selector.c: New file.
	* e-source-selector.h: New file.

2003-07-23  Dan Winship  <danw@ximian.com>

	* Makefile.am: use EVO_MARSHAL_RULE

	* e-combo-button.c (create_empty_pixmap_widget): Create the pixbuf
	from empty.xpm rather than just calling gdk_pixbuf_new(), which
	doesn't actually initialize the pixel data.

	* e-messagebox.c: Remove this, since it claims to be deprecated,
	and nothing is actually using it any more.
	
	* Makefile.am: Remove e-messagebox.[ch]

2003-07-11  Federico Mena Quintero  <federico@ximian.com>

	* e-dateedit.c (e_date_edit_mnemonic_activate): Added a handler
	for GtkWidget::mnemonic_activate().

	* e-url-entry.c (mnemonic_activate): Likewise.

2003-07-09  Federico Mena Quintero  <federico@ximian.com>

	* e-url-entry.c (destroy): Chain to the parent handler.  Fixes #45236.

2003-06-23  Ettore Perazzoli  <ettore@ximian.com>

	* e-search-bar.c (set_menu): Translate the text.  [#45112]

2003-06-18  Suresh Chandrasekharan  <suresh.chandrasekharan@sun.com>

	* e-charset-picker.c: Fix for #45082: GB18030 BIG5HKSCS and EUC-TW 
	charsets not supported in evolution mail

2003-06-17  Jeffrey Stedfast  <fejj@ximian.com>

	* e-charset-picker.c (e_charset_picker_bonobo_ui_populate): Don't
	use the charset class in the menu label if it is 'Unknown'.
	(e_charset_picker_bonobo_ui_populate): For user-defined charsets,
	just use the name of the charset rather than "Unknown".
	(add_charset): Don't escape _'s anymore, this seems to not be
	needed int gtk2.
	(add_other_charset): g_strdup() the charset name. Fixes bug
	#43917.

2003-06-11  Larry Ewing  <lewing@ximian.com>

	* e-search-bar.c (impl_get_property): take ownership of the duped
	string.

