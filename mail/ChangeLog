2000-04-23  Dan Winship  <danw@helixcode.com>

	* folder-browser-factory.c: rename "send" to "send_msg", to avoid
	name clash with the tcp function. Connect the "forward" button.

	* mail-ops.c: rename "send" to "send_msg", to avoid name clash
	with the tcp function. Add forward_msg function.

	* mail-format.c (mail_generate_forward): support function for
	forward_msg. Pretty much a big kludge right now, pending the
	attachment/attachment-bar changes.

2000-04-22  Dan Winship  <danw@helixcode.com>

	* mail-display.c (on_url_requested): Change cid expectations to
	match current camel reality.

	* main.c (main): call glade_gnome_init, for composer.

	* folder-browser-factory.c: move msg_composer_cb and
	msg_composer_send_cb to mail-ops. Attach send, reply, and "reply
	to all" buttons.

	* mail-ops.c (composer_send_cb, send): moved from
	folder-browser-factory.c.
	(reply_to_sender, reply_to_all): new functions to do replies.

	* mail-format.c (text_to_html): Add an "add_pre" flag, to make
	it wrap the output in <pre></pre>.
	(mail_generate_reply): New function to create a composer and build
	a reply in it.

2000-04-21  Dan Winship  <danw@helixcode.com>

	* mail-display.c (on_url_requested): deal with cid: URLs.
	(find_cid): helper routine for above. (This could be much better.)
	(mail_display_init): connect url_requested signal

	* mail-format.c (handle_multipart_related): Make this work.

	* mail-display.c (mail_display_set_message): ref the message we
	display, since we're going to unref it when we remove it. Fixes a
	bug that showed up with the new camel code, but it's not obvious
	if it's due to a bug or a feature in the new code.

2000-04-20  NotZed  <NotZed@HelixCode.com>

	* Makefile.am (evolution_mail_LDADD): Add libibex.la to link.

	* message-list.h: Removed folder summary.

	* message-list.c: Dont include folder-summary anymore.
	(select_msg): Changed to use folder, not summary in
	summary_get_message_info().  God this code is grotty.
	(ml_value_at): Ditto.
	(ml_value_at): Changed to use new interface.  Hmm, this returns a
	static variable, that seems wrong.
	(message_list_set_folder): Remove folder summary.
	(ml_row_count): Oops, remove some debug i put there.

2000-04-20  Dan Winship  <danw@helixcode.com>

	* mail-display.c: update for bonobo change, and remove a
	now-unused variable.

2000-04-17  Chris Toshok  <toshok@helixcode.com>

	* message-list.c (on_row_selection_idle): new function, actually
	calls select_msg.
	(on_row_selection_cmd): register an idle instead of calling
	select_msg directly.  this fixes the lag before the row is
	selected - selection is instantaneous now, with message loading
	happening afterward.

	* message-list.h: add row_to_select and an idle_id to the message
	list to make the select_msg call happen in an idle func.

	* message-list.c (message_list_init_renderers): no more
	e_cell_set_editable.  this info always comes from the model.

2000-04-14  Dan Winship  <danw@helixcode.com>

	* mail-format.[ch]: Moved from camel/camel-formatter, and changed
	slightly. (More to come.)

	* html-stream.[ch]: No longer necessary. mail-format uses
	GtkHTMLStreamHandles directly.

	* mail-display.[ch]: update for new message formatting code.

2000-04-14  Chris Toshok  <toshok@helixcode.com>

	* folder-browser-factory.c (control_activate): use
	gnome_app_fill_toolbar_with_data, so we get the beautiful gnome
	toolbar.

2000-04-14  Dan Winship  <danw@helixcode.com>

	* folder-browser-factory.c (development_warning): Fix up the
	warning message a bit.
	(folder_browser_factory): Make the warning bypassable.

2000-04-12  Miguel de Icaza  <miguel@gnu.org>

	* main.c (main): Call e_cursors_init.

2000-04-10  Dan Winship  <danw@helixcode.com>

	* mail-ops.c (fetch_mail): use camel_movemail when fetching mail
	from an mbox store. This leaves behind temp files for now,
	because CamelMboxFolder::delete is too confused to use, and NotZed
	is rewriting CamelMboxFolder, so I'm not going to bother to try to
	fix it.

	* mail-ops.c: Add some #includes for the non-HAVE_MKSTEMP case

2000-04-09  Matt Loper  <matt@helixcode.com>

	* folder-browser.c (folder_browser_new): set folder_browser->uri
	to NULL, so that we know when to free it.

2000-04-07  Miguel de Icaza  <miguel@gnu.org>

	* message-list.c (states_pixmaps): Add more beautiful art from
	Miggue, the Diego Rivera of the next millenium.
	(message_list_init_header): Use the beautiful art.

	* pixmaps: Miguel rediscovers the "transparent" concept.

2000-04-07  Matt Loper  <matt@helixcode.com>

	* folder-browser.c (folder_browser_destroy): Unref the shell
	interface that we have a handle to.

	* folder-browser-factory.c (control_destroy_cb): New function;
	destroys a folder-browser when its control is destroyed.
	(folder_browser_factory): Hook up to the above.

2000-04-07  Dan Winship  <danw@helixcode.com>

	* mail-ops.c: new file, for toolbar/menu callbacks
	(fetch_mail): fetch mail. Doesn't do mbox locking. Many kludges.

	* folder-browser-factory.c (control_activate): use new fetch_mail
	function as the callback for the "New mail" icon. Rename check_cb
	to random_cb.

	* Makefile.am: don't build test-sources since the version in
	CVS doesn't do much and once I've fixed it it won't be a separate
	program. Add mail-ops.[ch].

2000-04-06  Miguel de Icaza  <miguel@gnu.org>

	* message-list.c: Stick pixmaps here.

	* mail-display.c (embeddable_destroy_cb): Replaced C++ comments
	with C comments.

	* message-list.c (load_internal_images): New function, loads images.
	(message_list_init_renderers): Load images, fix previous attempt
	at loading images. 

	* Makefile.am (dist-hook): Added distribution of pixmaps.

	* pixmaps: New directory, used to hold the XPMs we ship with. 

	* pixmaps/envelope-closed.xpm, pixmaps/envelope-open.xpm: Tigert's
	envelopes incorporated.

2000-03-31  Miguel de Icaza  <miguel@gnu.org>

	* message-list.c (ml_value_at): Fix miss-used variable. 

2000-04-01  Michael Meeks  <michael@helixcode.com>

	* folder-browser.c (folder_browser_properties_init): update to
	new property  (folder_browser_property_changed): kill.
	(get_prop, set_prop): do the donkey work + make properly RW.

2000-03-31  Dan Winship  <danw@helixcode.com>

	* folder-browser-factory.c (folder_browser_set_shell):
	* folder-browser.c (folder_browser_new):
	* message-list.c (on_row_selection_cmd, select_msg,
	message_list_init, message_list_set_folder):

	remove debugging printf()s that no longer seem useful

2000-03-29  Dan Winship  <danw@helixcode.com>

	* folder-browser-factory.c (control_activate): build a toolbar.
	(control_deactivate): and hide it.

2000-03-27  Chris Toshok <toshok@helixcode.com>
	* mail-display.c: quiet warnings when building in ../po

2000-03-26  Miguel de Icaza  <miguel@gnu.org>

	* folder-browser-factory.c (folder_browser_set_shell): Memory leak
	fix. 

2000-03-25  Dan Winship  <danw@helixcode.com>

	* message-list.c (select_msg, ml_value_at): update for summary
	changes. Hey, neat, it really does make it more efficient.

2000-03-22  Christopher James Lahey  <clahey@helixcode.com>

	* .cvsignore: Updated .cvsignore.

2000-03-21  Matt Loper  <matt@helixcode.com>

	* mail-display.c: Minor cleanup & commenting.

	* folder-browser-factory.c: Minor cleanup & warning elimination.

2000-03-21  bertrand  <bertrand@helixcode.com>

	* message-list.c (ml_value_at): display message size

2000-03-20  Christopher James Lahey  <clahey@helixcode.com>

	* message-list.c: Properly ref & sink the table and header models.

2000-03-14  Dan Winship  <danw@helixcode.com>

	* mail-sources.c: First cut at a mail source selection wizard.
	Basically a rigged demo at this point. Doesn't use camel to get
	its information, and is not yet complete or integrated with the
	mail component. Did I mention that the code is ugly?

2000-03-13  bertrand  <bertrand@helixcode.com>

	* folder-browser-factory.c (folder_browser_set_shell): 
	for testing and demonstration purpose, immediately 
	register a fake service.

2000-03-12  bertrand  <bertrand@helixcode.com>

	* folder-browser-factory.c (folder_browser_factory_init): 
	name change.
	(control_activate_cb): when the control is activated, 
	it merges its own UI with the remote UIHandler.
	(control_add_menu): sample menu merging.
	(folder_browser_factory): connect the control "activate" signal.

	* evolution-mail.gnorba: 
	name changes

	* folder-browser.h: added a reference to an 
	Evolution::Shell object. 

	* folder-browser-factory.c (folder_browser_set_shell): 
	(folder_browser_control_add_service_repository_interface): 
	(folder_browser_factory): the folder-browser control now
	implements the Evolution/ServiceRepository interface.

2000-03-07  bertrand  <bertrand@helixcode.com>

	* folder-browser-factory.c (development_warning): 
	added a warning so that the user knows that this 
	version may crash his mails.

2000-03-05  bertrand  <bertrand@helixcode.com>

	* message-list.h: include a referrence to the parent 
	folder browser.

	* message-list.c (ml_value_at): use the message summary 
	from the 

	* html-stream.c (html_stream_close): when the stream 
	is closed, set the html stream to NULL
	(html_stream_write): don't write anything if the 
	html handle does not exist. 
	(html_stream_reset): implemented. close the current 
	html handle and begins a new html parser. 

	* session.c (session_store_new): use static exception
	here. 

2000-03-05  Christopher James Lahey  <clahey@helixcode.com>

	* message-list.c: Added a prototype message listing.

2000-03-04  Christopher James Lahey  <clahey@helixcode.com>

	* message-list.c: Set up the column headers properly.

	* folder-browser.c: Show the folder_browser widget.

2000-03-04  Christopher James Lahey  <clahey@helixcode.com>

	* message-list.c: Define ml_duplicate_value and ml_free_value
	correctly.
	
2000-03-04  Christopher James Lahey  <clahey@helixcode.com>

	* message-list.c: Use g_int_compare and g_str_compare as we should
	be instead of g_int_equal and g_str_equal.
	
2000-03-04  bertrand  <bertrand@helixcode.com>

	* test-mail.c (main): replace the bonobo-active/gtk-main
	by bonobo-main.
	Include Gnorba headers.
	(main): don't call the container creation routine 
	before we entered the main loop. Use idle for that.

2000-03-04  Christopher James Lahey  <clahey@helixcode.com>

	* message-list.c: Change this to use the ETable widget itself
	instead of building it from all the parts.

2000-03-03  Christopher James Lahey  <clahey@helixcode.com>

	* message-list.c: Ref the table columns since we unref them at the
	end.

2000-03-01  Ettore Perazzoli  <ettore@helixcode.com>

	* Makefile.am (INCLUDES): Add `$(top_srcdir)'.  Also, the
	`top_srcdir' includes must come first everything else to avoid
	including installed headers instead of our fresh ones.

2000-02-28  NotZed  <NotZed@HelixCode.com>

	* Makefile.am (evolution_mail_LDADD): Fixed references to eutil.

2000-02-24  Christopher James Lahey  <clahey@helixcode.com>

	* message-list.c: Changed to match new e_table_simple interface.

2000-02-24  Dan Winship  <danw@helixcode.com>

	* message-list.c (message_list_set_folder): update for CamelFolder
	changes

2000-02-24  Christopher James Lahey  <clahey@helixcode.com>

	* message-list.c: Changed this to not use the "x" and "y"
	arguments to e-table-item.

2000-02-23  Matt Loper  <matt@helixcode.com>

	* message-list.c (message_list_set_folder): Check 'desc'riptions
	of exceptions.

2000-02-22  bertrand  <Bertrand.Guiheneuf@aful.org>

	* message-list.c (message_list_set_folder): 
	fix to show a sample correct implementation. 

2000-02-21  Matt Loper  <matt@helixcode.com>

	* Makefile.am: added -lunicode to evolution_mail_LDADD.

2000-02-21  Dan Winship  <danw@helixcode.com>

	* session.c (session_store_new): Pass a CamelAuthCallback
	(evolution_auth_callback) to camel_session_new.
	
2000-02-21  Dan Winship  <danw@helixcode.com>

	* session.c (session_store_new): Update session_store_new to
	deal with the fact that camel_session_get_store takes a
	CamelException now. Doesn't actually do anything with the
	exception yet, because nothing else does yet either.

2000-02-19  Matt Loper  <matt@helixcode.com>

	* .cvsignore: added test-mail.

2000-02-14  Miguel de Icaza  <miguel@gnu.org>

	* folder-browser.c (folder_browser_load_folder): New routine,
	loads a camel folder.
	(folder_browser_set_uri): redo.

	* session.c: new file.  Implements SessionStores to keep track of
	a Session/Store tuple.  

2000-02-13  Matt Loper  <matt@helixcode.com>

	* html-stream.c (html_stream_new): Second param of gtk_html_begin
	should be "", not NULL.
	(html_stream_new): gtk_html_parse() is deprecated, so the call was
	removed.

	* html-stream.h: HTMLStreamClass's parent changed to
	CamelStreamClass, not CamelStream.

2000-02-11  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Add the e-text directory to the includes list.

	* message-list.c: Change the call to e_cell_text_new, since
	there's an added argument.

2000-02-09  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Added libetext as libetable depends on it.

2000-02-08  Iain Holmes  <ih@csd.abdn.ac.uk>

	* Makefile.am: Changed the order of the compilation so the CORBA stuff
	was made before it was needed.

2000-01-19  Miguel de Icaza  <miguel@gnu.org>

	* Started work on the mail display engine.

	* html-stream.c, html-stream.h: New files, they are CamelStreams
	used to write to the GtkHTML widget. 

