2000-08-23  Lauris Kaplinski  <lauris@helixcode.com>

	* backend/pas/pas-backend-file.c (func_contains): Use e_utf8_strstrcase

	* contact-editor/e-contact-editor-fullname.c (fill_in_field): Use e_utf8 wrapper
	(extract_field): Same

	* contact-editor/e-contact-editor.c (full_name_clicked): Don't crash

	* ename/Makefile.am: Link demo with libeutil.la

	* ename/test-ename-western-gtk.c (full_changed_cb): Use e_utf8 wrapper

	* gui/component/addressbook.c (find_contact_cb): Use e_utf8 wrapper
	(search_entry_activated): Same

2000-08-22  Christopher James Lahey  <clahey@helixcode.com>

	* gui/search/e-addressbook-search-dialog.c: Fix an error in the
	arguments to rule_context_load.

	* backend/ebook/e-card.c: Fix this to not mess up if the person
	passes a VCard with a carriage return in the mailing address.

2000-08-14  Not Zed  <NotZed@HelixCode.com>

	* gui/search/addresstypes.xml: Fixed fullname->full_name for
	search field.

	* gui/search/e-addressbook-search-dialog.c (get_widget): Check we
	actually got any parts to build the dialogue with.

2000-08-13  Not Zed  <NotZed@HelixCode.com>

	* gui/component/addressbook-component.c (owner_set_cb): Set the
	global_shell_client nastyhack when we know it.
	This is only required to link with the filter code ...

	* gui/component/Makefile.am (evolution_addressbook_LDADD): Added
	libfilter.a to the link line.

	* gui/search/Makefile.am (noinst_LIBRARIES): Change library name
	from libaddressbooksearchdialog to libaddressbooksearch, as used
	elsewhere.

	* gui/search/e-addressbook-search-dialog.c (get_widget):
	Implement.
	(get_query): Likewise.
	(e_addressbook_search_dialog_destroy): Unref filter stuff when
	done.

	* gui/component/addressbook.c (control_deactivate): Added chris's
	patch to put the meny in

2000-08-22  Lauris Kaplinski  <lauris@helixcode.com>

	* contact-editor/e-contact-editor.c: Use e_utf8 wrappers everywhere

2000-08-22  Christopher James Lahey  <clahey@helixcode.com>

	* backend/e-card.h: Started adding a time zone field to ECard.

	* gui/component/e-addressbook-model.c: Added
	e_table_model_pre_change where appropriate.

	* gui/minicard/e-minicard-control.c: Added a ref and unref pair.

2000-08-22  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Linked in the search dialog again.
	It looks like some changes in the shell made this not work.

2000-08-19  Christopher James Lahey  <clahey@helixcode.com>

	* conduit/address-conduit.c, conduit/address-conduit.h: Changed
	this to use ECardSimple.

	* contact-editor/e-contact-editor.c: Fixed a memory leak.

	* gui/component/addressbook.c: Added stuff to the right click
	menu.  Activated the new search dialog that doesn't quite work
	yet.

	* gui/minicard/e-minicard-view.c: Fixed some run time warnings.

2000-08-15  Larry Ewing  <lewing@helixcode.com>

	* gui/minicard/e-minicard.c (e_minicard_event): use style colors
	for the selected state.  This doesn't properly redraw the minicard
	when there is a style_change event, that is next.
	(e_minicard_realize): use style colors.

2000-08-14  Peter Williams  <peterw@helixcode.com>

	* backend/pas/pas-backend-file.c: Include the proper db1/db.h
	as in RedHat 7.0 -- patch from Kenny Graunke <kwg@teleport.com>

2000-08-13  Chris Toshok  <toshok@helixcode.com>

	* conduit/Makefile.am (libaddress_conduit_la_SOURCES): add
	address-conduit.h

	* Makefile.am (CONDUIT_SUBDIR): only set subdir if
	ENABLE_PILOT_CONDUITS is set.

2000-08-13  Chris Toshok  <toshok@helixcode.com>

	* Makefile.am (SUBDIRS): add conduit subdir.

2000-08-13  Chris Toshok  <toshok@helixcode.com>

	* conduit/address-conduit.c (conduit_get_gpilot_conduit): add
	special oaf initialization hack so conduit can find wombat, and
	accept all cookies so that we can actually talk to oaf.

2000-08-13  Christopher James Lahey  <clahey@helixcode.com>

	* backend/pas/pas-backend-file.c: Fixed a typo that cause the
	wrong field to be searched.

	* gui/component/select-names/e-select-names.c: Made the select
	names dialog only display entries with email addresses.

2000-08-12  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/contact-editor.glade: Fixed a typo in the name of
	the first phone entry.

2000-08-12  Christopher James Lahey  <clahey@helixcode.com>

	* gui/search/Makefile.am,
	gui/search/e-addressbook-search-dialog.c,
	gui/search/e-addressbook-search-dialog.h: A few small interface
	fixes.

	* gui/component/Makefile.am: Link in the addressbook search
	dialog.

2000-08-12  Christopher James Lahey  <clahey@helixcode.com>

	* gui/Makefile.am: Added the search directory.

	* backend/ebook/e-book.c: Fixed a potential crash.

	* gui/minicard/e-reflow-sorted.h: Fixed an include line.

	* gui/search/.cvsignore, gui/search/Makefile.am: New files.

	* gui/search/e-addressbook-search-dialog.c: Fixed compilation.

2000-08-12  Christopher James Lahey  <clahey@helixcode.com>

	* printing/Makefile.am: Ettore fixed compilation.

2000-08-12  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/.cvsignore: Added load-gnomecard-addressbook.

2000-08-12  Christopher James Lahey  <clahey@helixcode.com>

	* gui/search/e-addressbook-search-dialog.c,
	gui/search/e-addressbook-search-dialog.h: Made this into a Gtk
	object.

2000-08-12  Christopher James Lahey  <clahey@helixcode.com>

	* backend/pas/pas-book-view.c: Ref our book view listener.

	* gui/component/addressbook.c: Updated to use new minicard view
	widget.

	* gui/minicard/Makefile.am: Added e-minicard-view-widget.c and
	e-minicard-view-widget.h.

	* gui/minicard/e-minicard-view-widget.c,
	gui/minicard/e-minicard-view-widget.h: New class that's just a
	minicard view in an ECanvas.

	* gui/search/e-addressbook-search-dialog.c: New file for
	implementing a search dialog.

2000-08-11  Chris Toshok  <toshok@helixcode.com>

	* conduit/address-conduit.c (transmit): implement code to encode
	the first email address and send to the pilot.
	(get_phone_label_by_flag): rename find_phone_label_for_flags to
	this, and implement by calling get_phone_label_by_name.

2000-08-11  Chris Toshok  <toshok@helixcode.com>

	* conduit/address-conduit.c (ecard_from_remote_record): add code
	for handling email addresses from pilot (which stores it as a
	phone number entry.  go figure.)
	(check_for_slow_setting): #if 0 out, since we don't use it (yet).
	(update_record): un #if 0 the code to handle the case where the
	pilot info has changed for a local record.
	(merge_ecard_with_remote_record): implement function, but for now
	just return the existing (desktop) record - we still don't allow
	merge from the pilot.


2000-08-10  Christopher James Lahey  <clahey@helixcode.com>

	* gui/search/addresstypes.xml: Changed a couple of input field
	names.

2000-08-10  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook-component.c: Remove prototype for
	`setup_ldap_storage()', which shouldn't be here anyway.

2000-08-10  Christopher James Lahey  <clahey@helixcode.com>

	* gui/search/, gui/search/addresstypes.xml: New search dialog for
	addressbook.

2000-08-10  Dan Winship  <danw@helixcode.com>

	* gui/component/addressbook-component.c (owner_set_cb): Update for
	changed prototype, pass evolution_homedir arg to
	setup_ldap_storage.

	* gui/component/e-ldap-storage.c (setup_ldap_storage): Now takes
	an evolution_homedir arg, uses that to generate the path to the
	ldapservers.xml file, and stores the result in a static variable.
	(e_ldap_storage_add_server, e_ldap_storage_remove_server): Use that
	static variable rather than hardcoding the path to the file.

2000-08-10  Christopher James Lahey  <clahey@helixcode.com>

	* backend/pas/pas-backend-file.c: Fixed any search to not crash on
	missing phone numbers or email addresses.

2000-08-09  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-minicard-control.c: Added a button to save to
	your addressbook.

2000-08-09  Cody Russell  <bratsche@gnome.org>

	* gui/component/addressbook.c: Make the toolbar honor the user's
	gnomecc settings for detachable toolbars.

2000-08-09  Nat Friedman  <nat@helixcode.com>

	* ename/e-name-western-tables.h: Added some military prefixes.

2000-08-09  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Fixed a warning.

2000-08-09  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook.c (control_activate): Add the stock
	print icon to the print item.

2000-08-09  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook.c (control_activate): Put the print
	item in the right placeholder so that it gets the right position
	in the "File" menu.
	(control_deactivate): Updated accordingly.

2000-08-09  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c, gui/minicard/e-minicard.c: Changed
	e_popup_menu_run call to match the new arguments.

	* gui/component/addressbook.oafinfo: Fixed this file to work
	properly.

	* gui/minicard/e-minicard-control.c: Use the correct oafinfo ID
	here.  Also cleaned up the code a bit with the help of Michael
	Meeks.

2000-08-08  Chris Toshok  <toshok@helixcode.com>

	* gui/component/e-addressbook-model.c (e_addressbook_model_init):
	use x-evolution-any-field.

	* gui/component/addressbook.c (search_entry_activated): use
	x-evolution-any-field.
	(change_view_type): same.

	* gui/minicard/e-minicard-view.c (e_minicard_view_init): set query
	to x-evolution-any-field.

	* backend/pas/pas-backend-ldap.c (func_contains): support
	x-evolution-any-field for matching any evolution supported field.

	* backend/pas/pas-backend-file.c (compare_email): switch to using
	ECardSimple calls.
	(compare_phone): same.
	(compare_address): same.
	(entry_compare): switch to using ECardSimple calls, and support a
	'x-evolution-any-field' wildcard field.
	(vcard_matches_search): use an ECardSimple.

2000-08-07  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c: Removed the next and prev
	toolbar buttons since they don't do anything.

2000-08-07  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/contact-editor.glade,
	contact-editor/e-contact-editor.c: Fixed the tab order to not
	repeat the web page address field.

2000-08-07  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c: Fixed the tab order for this
	dialog.

2000-08-05  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-simple.c: Fixed a warning.

	* backend/ebook/e-card.c: Cast to (char *) in
	e_card_load_cards_from_file since libversit isn't const correct.

	* backend/pas/pas-backend-file.c: Fixed a warning.

2000-08-04  Michael Meeks  <michael@helixcode.com>

	* gui/component/addressbook.c (control_activate): unref.

	* demo/addressbook.c (control_activate): unref.

2000-08-02  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor-categories.c,
	gui/component/e-addressbook-model.c: Emit "model_pre_change"
	signal as appropriate.

2000-08-02  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/e-addressbook-model.c: Adapted this to supply the
	new append_row API of ETableModel.

2000-07-31  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Changed the default set of columns.

2000-07-29  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/Makefile.am: Added load-gnomecard-addressbook
	compilation.

	* backend/ebook/e-card.c, backend/ebook/e-card.h: Added
	e_card_load_cards_from_file helper function to load multiple cards
	from a single file.

	* backend/ebook/load-gnomecard-addressbook.c: New file to load
	vcard files.  I think this is the format that gnomecard uses so if
	you copy your gnomecard file to gnomecard.vcf and then run this
	program in the same directory, it'll copy all your gnome contacts
	into evolution.  It needs to be changed to take a filename as a
	parameter.  Some fields (phone and address information, for
	example) aren't displayed properly, but are saved.  This is new
	code, so some other than phone and address may be lost.

2000-07-28  Ettore Perazzoli  <ettore@helixcode.com>

	* backend/pas/Makefile.am: Add `pas-backend-ldap.c' and
	`pas-backend-ldap.h' to `EXTRA_DIST' so they get distributed even
	if the OpenLDAP support is not enabled.

2000-07-27  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/load-pine-addressbook.c: Changed the URI to load
	to.

2000-07-26  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-minicard-widget-test.c: Fixed a warning.

2000-07-26  Chris Toshok  <toshok@helixcode.com>

	* backend/pas/pas-backend-ldap.c (view_destroy): wait to free the
	view until we've taken care of freeing its internals.  also, close
	the ldap connection here.
	(pas_backend_ldap_connect): rename p_b_l_ensure_connected to this,
	since it's always called when we create a view.
	(pas_backend_ldap_build_all_cards_list): open an ldap connection
	in this function and close it at the end.
	(poll_ldap): make sure to call ldap_unbind to close the view's
	connection here.
	(pas_backend_ldap_search): call pas_backend_ldap_connect here -
	ldap_unbind will either be called from poll_ldap or from
	view_destroy.
	(pas_backend_ldap_get_vcard): the PASBackendLDAP no longer has an
	LDAP*.

2000-07-26  Chris Toshok  <toshok@helixcode.com>

	* backend/pas/pas-backend-ldap.c
	(pas_backend_ldap_build_all_cards_list): add support for user settable scope.
	(pas_backend_ldap_search): same.
	(pas_backend_ldap_load_uri): same.

2000-07-26  Dan Winship  <danw@helixcode.com>

	* gui/component/addressbook.oafinfo: lowercasify the
	supported_mime_types

2000-07-25  Chris Toshok  <toshok@helixcode.com>

	* backend/ebook/e-card-types.h: add enum for e-card pilot status.

	* conduit/address-conduit.c: #ifdef out all the archiving code with SUPPORT_ARCHIVING.
	(purge): implement correctly - deleting ecards whose pilot status is DELETED.
	(set_status): implement.
	(set_pilot_id): add gtk_main call here to change commit_card into a synchronous
	(delete_all): implement correctly - don't delete the records, just set their status to DELETED.
	(local_record_from_ecard): get the current status from the ecard.

	* backend/ebook/e-card.c (e_card_get_vcard): add vcard support for pilot status.
	(parse_pilot_status): new function.
	(e_card_class_init): add pilot status object arg.
	(e_card_set_arg): add pilot status support.
	(e_card_get_arg): same.
	(e_card_init): initialize pilot_status to 0.

2000-07-25  Chris Toshok  <toshok@helixcode.com>

	* conduit/address-conduit.c: add comment headers to signals that
	didn't have any.
	
2000-07-25  Chris Toshok  <toshok@helixcode.com>

	* conduit/address-conduit.c (start_address_server): use the user's
	Contact db.  not toshok's.

2000-07-25  Michael Meeks  <michael@helixcode.com>

	* backend/ebook/load-pine-addressbook.c (book_open_cb): check we
	opened ok.

2000-07-25  Seth Alves  <alves@hungry.com>

	* ename/Makefile.am (libename_static_la_LDFLAGS): build static
	version of the library for address conduit to use

	* backend/ebook/Makefile.am: build a static version of the library
	to link into the conduit

2000-07-25  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card.c: Added a #define for
	"X-EVOLUTION-PILOTID".  Added a parse_pilot_id to read pilot id's
	in properly from VCards.  Rearranged some field orders.  Added a
	get_arg case for ARG_PILOTID.  Initialize pilot_id field to 0.

2000-07-24  Chris Toshok  <toshok@helixcode.com>

	* backend/ebook/e-card.h: add pilot_id.

	* backend/ebook/e-card.c (e_card_get_vcard): add support for
	X-EVOLUTION-PILOTD vcard field.
	(e_card_class_init): add pilot_id arg.
	(e_card_set_arg): handle pilot_id arg.

2000-07-23  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-book-view-listener.c: Remove the idle handler
	when we're destroyed.

	* printing/e-contact-print.c: Fixed the spacing on the card
	header.

2000-07-20  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.oafinfo: Fixed the oaf info.

	* gui/minicard/.cvsignore, gui/minicard/Makefile.am,
	gui/minicard/e-minicard-widget-test.c: Added a test for the
	minicard widget.

	* gui/minicard/e-minicard-control.c: Fixed the mime type.

	* gui/minicard/e-minicard.c: Fixed some crashes if your parent
	isn't a minicard view.

	* gui/minicard/e-minicard-control.oafinfo: Removed.

2000-07-20  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook-component.c (factory_fn): Update for
	the new `evolution_shell_component_new()'.

2000-07-19  Fatih Demir	<kabalak@gmx.net>
	
	* conduit/address-conduit-control-applet.desktop:
		Added the Turkish desktop entry.

2000-07-18  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-minicard-control.c: Added "text/vCard" to the
	list of mime types we support.

2000-07-18  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/Makefile.am: Added
	gui/minicard/e-minicard-control.c,
	gui/minicard/e-minicard-control.h,
	gui/minicard/e-minicard-widget.c, and
	gui/minicard/e-minicard-widget.h.

	* gui/minicard/e-minicard-control.c,
	gui/minicard/e-minicard-control.h,
	gui/minicard/e-minicard-widget.c,
	gui/minicard/e-minicard-widget.h: Got these to compile.

	* gui/minicard/e-minicard-control.gnorba,
	gui/minicard/e-minicard-control.oafinfo: Copied directly from
	bonobo-clock-control.  These aren't done yet.

2000-07-18  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-minicard-control.c,
	gui/minicard/e-minicard-control.h,
	gui/minicard/e-minicard-widget.c,
	gui/minicard/e-minicard-widget.h: New files for using a minicard
	as a widget or a bonobo control.

2000-07-14  Chris Toshok  <toshok@helixcode.com>

	* gui/component/e-ldap-storage.c (ldap_server_foreach): duh.
	don't save the port in the host slot either.

2000-07-13  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor-confirm-delete.glade,
	contact-editor/e-contact-editor-confirm-delete.glade.h: Added
	these.

2000-07-13  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Switched the order of compilation of printing and
	contact-editor.

	* contact-editor/Makefile.am: Added printing libraries and a
	confirm delete dialog glade file.

	* contact-editor/e-contact-editor.c,
	contact-editor/e-contact-editor.h: Enabled the delete and print
	functions as well as providing a confirm delete dialog to the
	outside world.

	* gui/component/addressbook.c: Made the delete button on new cards
	active.

	* gui/minicard/Makefile.am: Added printing libraries to a number
	of test programs.

	* gui/minicard/e-minicard.c: Added print and delete to the right
	click menu.  Made the delete button on the card editor active.

	* printing/e-contact-print.c, printing/e-contact-print.h: Added a
	function to print a single card.

2000-07-12  Chris Toshok  <toshok@helixcode.com>

	* gui/component/e-ldap-storage.c (ldap_server_foreach): oops.  fix
	typo that was saving the port in the rootdn spot.
	(save_ldap_data): make this a bit safer - writing to a new file
	and renaming it.
	(load_ldap_data): make this a bit smarter - if parsing the
	ldapservers.xml file fails and there's a .new file there,
	rename it.
	
2000-07-12  Christopher James Lahey  <clahey@helixcode.com>

	* backend/pas/pas-backend-file.c: Do case insensitive compares.

	* addressbook/gui/component/addressbook.c: Make quick search
	search both name and company name.

2000-07-12  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c: Add icons to the toolbars.

2000-07-12  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/Makefile.am: Added installation of arrow.png.

	* contact-editor/e-contact-editor.c: Use EVOLUTIONDIR #define.

2000-07-11  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Removed an unused function

2000-07-10  Dan Winship  <danw@helixcode.com>

	* gui/component/select-names/Makefile.am (EXTRA_DIST): add idl
	file to EXTRA_DIST

2000-07-10  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook.c (control_activate): Remove the
	SelectNames test.

2000-07-10  Peter Williams  <peterw@curious-george.helixcode.com>

	* gui/component/select-names/e-select-names-model.c: (Clahey's fix)
	Make multiple addresses be concatenated correctly.

2000-07-09  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c,
	gui/component/select-names/e-select-names.c,
	gui/component/select-names/e-select-names.h: Switched from ETable
	to ETableScrolled.

	* addressbook/gui/minicard/e-minicard.c: Don't display mailer or
	"name or org" fields.

2000-07-09  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-simple.c, backend/ebook/e-card-simple.h:
	Added a field that gives the name if it exists and the company
	name otherwise.

	* gui/component/e-addressbook-model.c: Formatting changes.

	* gui/component/select-names/e-select-names-table-model.c: Added
	stripping of names and display of company name if name doesn't
	exist.

	* gui/component/select-names/e-select-names.c: Fixed up the
	display so that we display both name and email address.

2000-07-09  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/select-names/e-select-names-model.c: Fixed a small
	off by one error that was causing an extra character to get
	deleted sometimes.

2000-07-09  Anders Carlsson  <andersca@gnu.org>

	* gui/minicard/test-reflow.c (allocate_callback): Fix off by one bug with
	scroll region setting.
	(resize): Likewise.
	(main): Put the contacts list in an EScrolledFrame instead of using a
	separate GtkScrollbar.

	* gui/minicard/e-reflow.c (e_reflow_event): Don't change mouse cursor and
	don't allow drags on dividers that aren't visible.

	* gui/component/addressbook.c (allocate_callback): Fix off by one bug with
	scroll region setting.
	(resize): Likewise.
	(create_minicard_view): Put the contacts list in an EScrolledFrame instead of
	using a separate GtkScrollbar.

2000-07-09  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Removed unused do_nothing_cb
	function.

	* gui/component/select-names/e-select-names-manager.c,
	gui/component/select-names/e-select-names-manager.h: Made the OK
	and Cancel buttons in the ESelectNames dialog we create work
	properly.
	
	* gui/component/select-names/e-select-names-model.c,
	gui/component/select-names/e-select-names-model.h: Added
	e_select_names_model_duplicate.

	* gui/component/select-names/e-select-names-text-model.c: Made the
	text be set correctly if there's already data in the source when
	the text model is created.

	* gui/component/select-names/e-select-names.c,
	gui/component/select-names/e-select-names.h: Removed handling of
	the buttons (the user of this dialog will have to handle them.)
	Added e_select_names_get_source.  Fixed some typos.

2000-07-09  Not Zed  <NotZed@HelixCode.com>

	* gui/component/addressbook.c: Link the toolbar print button to
	the print callback.

2000-07-08  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/select-names/e-select-names.c
	(e_select_names_clicked): Hitting OK or Cancel at least closes the
	dialog now.

2000-07-08  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/select-names/e-select-names-manager.c
	(e_select_names_manager_create_entry): Set the returned entry to
	use the ellipsis.

2000-07-08  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook-factory.c: Include
	e-select-names-factory.h.

	* gui/component/select-names/e-select-names-model.c: Handle a NULL
	iterator properly in the replace function.

	* gui/component/select-names/e-select-names-table-model.c: Fill in
	info properly in the value_at function.

	* gui/component/select-names/e-select-names-text-model.c: Don't
	strlen a NULL text object.

	* gui/component/select-names/e-select-names.c: Close if the person
	hits ok or cancel (doesn't yet actually undo changes if Cancel is
	hit.)  Handle removing addresses when they're double clicked on.

	* gui/component/select-names/select-names.glade,
	gui/component/select-names/select-names.glade.h: Hid some unused
	fields and changed the text at the top of the dialog.

2000-07-08  Jeffrey Stedfast  <fejj@helixcode.com>

	* gui/component/select-names/.cvsignore: Ignore dynamically 
	created source files

2000-07-08  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/select-names/e-select-names-bonobo.c
	(entry_get_property_fn): New function to set the properties.

2000-07-08  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook-factory.c (main): Start up the factory
	for `Evolution::Addressbook::SelectNames'.

	* gui/component/select-names/evolution-addressbook-select-names.oafinfo:
	New.

	* gui/component/select-names/e-select-names-factory.c: New.
	* gui/component/select-names/e-select-names-factory.h: New.

	* gui/component/select-names/e-select-names-bonobo.c: New.
	* gui/component/select-names/e-select-names-bonobo.h: New.

	* gui/component/addressbook-factory.c (main): Call
	`e_select_names_factory_init()'.

	* gui/component/select-names/e-select-names-manager.c
	(e_select_names_manager_add_section): Made const-aware.
	(e_select_names_manager_create_entry): Made const-aware.
	(e_select_names_manager_activate_dialog): Made const-aware.

	* gui/component/select-names/Evolution-Addressbook-SelectNames.idl:
	New.

2000-07-08  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/e-addressbook-model.c,
	gui/component/e-addressbook-model.h: Added an "editable" argument.

	* gui/component/select-names/e-select-names.c: Set our
	EAddressModel to not be editable.

2000-07-07  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/select-names/e-select-names.c: Changed to line
	mode.

2000-07-07  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/select-names/e-select-names-manager.c,
	gui/component/select-names/e-select-names-model.c: Implemented the
	get_cards function.

	* gui/component/select-names/e-select-names.c: Implemented adding
	cards through the interface.

2000-07-07  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/select-names/e-select-names-manager.c: Make the
	entry widgets we create editable.

	* gui/component/select-names/e-select-names-model.c: Use
	e_strsplit instead of g_strsplit.  Fixed an off by 1 error.

	* gui/component/select-names/e-select-names-table-model.c: When
	the model changes, send a model changed signal.

	* gui/component/select-names/e-select-names-text-model.c: Made
	changing this work correctly if it's empty.  Made change signals
	propagate properly.  Is a bit better about freeing iterators when
	done.

	* gui/component/select-names/e-select-names.c: Made the finished
	lists be in order instead of being sorted.

2000-07-07  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c (new_server_cb): Since
	ELDAPServer->port is a char *, allocate a string with the number
	389 contained.

	* gui/component/addressbook.c: Make the select names test test the
	new code instead of the old way of getting to an ESelectNames
	dialog.

	* gui/component/select-names/e-select-names-manager.c: Coded
	storing the model for each section, creating an entry and
	returning it, and for activating the dialog.  Wrote a bit of the
	get_cards code, but not all of it.

	* gui/component/select-names/e-select-names-model.c,
	gui/component/select-names/e-select-names-model.h: Coded all of
	the code needed to make ESelectNamesTextModel work (it doesn't
	yet, but all the code should be there.)  Removed
	E_SELECT_NAMES_MODEL_DATA_TYPE_SEPARATION_MATERIAL.

	* gui/component/select-names/e-select-names-table-model.c,
	gui/component/select-names/e-select-names-text-model.c: Changed
	these to compensate for removal of
	E_SELECT_NAMES_MODEL_DATA_TYPE_SEPARATION_MATERIAL.

	* gui/component/select-names/e-select-names-table-model.h,
	gui/component/select-names/e-select-names-text-model.h: Fixed some
	silly typos.

	* gui/component/select-names/e-select-names.c,
	gui/component/select-names/e-select-names.h: Added a parameter to
	add_section that lets you specify the source ESelectNamesModel.
	
2000-07-06  Chris Toshok  <toshok@helixcode.com>

	* gui/component/e-ldap-storage.h: add scope to ELDAPServer, and
	make port a string.

	* gui/component/e-ldap-storage.c (load_ldap_data): don't load a
	uri, load all the bits and pieces and build up the uri when
	creating the folder, according to the openldap url format.
	(ldap_server_foreach): store out each of the individual uri
	pieces.
	(e_ldap_storage_remove_server): free the new fields.
	(get_string_value): if the text is empty, return the empty string
	instead of NULL.

	* gui/component/e-ldap-server-dialog.c (extract_server_info): port is a string now.
	(fill_in_server_info): port is a string now.

2000-07-06  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c: Changed "FIXME: Save and
	Close" to "Save and Close".  Removed some toolbar items that will
	never be used.

	* gui/component/select-names/e-select-names-model.c,
	gui/component/select-names/e-select-names-model.h: Added functions
	to allow you to modify the model (not implemented yet.)

	* gui/component/select-names/e-select-names-table-model.c,
	gui/component/select-names/e-select-names-table-model.h: Finished
	this.  Doesn't support changing the model at all.

	* gui/component/select-names/e-select-names-text-model.c: Finished
	this.  Changing the model by typing is done, but doesn't work
	since none of the functions in the base model are implemented.

2000-07-05  Chris Toshok  <toshok@helixcode.com>

	* gui/component/addressbook.c (new_server_cb): call
	e_ldap_storage_add_server call.

	* gui/component/ldap-server-dialog.glade: add name row.

	* gui/component/e-ldap-server-dialog.h: remove the ELDAPServer type.

	* gui/component/e-ldap-server-dialog.c (extract_server_info): add
	support for the name-entry.

	* gui/component/e-ldap-server-dialog.c (fill_in_server_info): same.

	* gui/component/e-ldap-storage.h: add ELDAPServer type, and add
	prototypes for e_ldap_storage_add_server and
	e_ldap_storage_remove_server.

	* gui/component/e-ldap-storage.c (e_ldap_storage_add_server): new
	function, add it to our hash table, add a shell folder, and save
	out the metadata.
	(ldap_server_foreach): add the ldap server info under a
	"contactserver" node.
	(setup_ldap_storage): create our hashtable.

2000-07-05  Chris Toshok  <toshok@helixcode.com>

	* gui/component/addressbook.c (set_prop): remove hack to read
	"uri" file from local directory.

	* gui/component/Makefile.am (evolution_addressbook_SOURCES): add
	e-ldap-storage.{c,h}

	* gui/component/addressbook-component.c (owner_set_cb): call
	setup_ldap_storage.

	* gui/component/e-ldap-storage.c (setup_ldap_storage): Register
	the LDAP storage and load the .xml file.
	(load_ldap_data): function to load our xml file.
	(save_ldap_data): function to save our xml file.

	* gui/component/e-ldap-storage.h: new file.

2000-07-03  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/select-names/e-select-names-manager.c,
	gui/component/select-names/e-select-names-text-model.c,
	gui/component/select-names/e-select-names.c: Fixed more compile
	errors.

2000-07-03  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/select-names/Makefile.am: Fixed compile error.

2000-07-03  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/Makefile.am: Removed e-card-iterator.c,
	e-card-iterator.h, e-card-list-iterator.c, e-card-list-iterator.h,
	e-card-list.c, e-card-list.h.

	* backend/ebook/e-card-iterator.c,
	backend/ebook/e-card-iterator.h,
	backend/ebook/e-card-list-iterator.c,
	backend/ebook/e-card-list-iterator.h, backend/ebook/e-card-list.c,
	backend/ebook/e-card-list.h: Removed in favor or versions without
	the -card in the e-util directory since these classes are not
	specific to cards at all.

	* backend/ebook/e-card-simple.c, backend/ebook/e-card-simple.h,
	backend/ebook/e-card.c, backend/ebook/e-card.h,
	backend/ebook/load-pine-addressbook.c, backend/ebook/test-card.c,
	backend/pas/pas-backend-file.c: Changed the references to
	e-card-list.c and friends to e-list.c and friends.

	* contact-editor/e-contact-editor.c: Added #include
	<e-contact-save-as.h> to fix a warning.

	* gui/component/Makefile.am: Moved a number of classes associated
	with the select-names object to the new select-names directory.

	* gui/component/addressbook.c: Changed the reference to
	e-select-names.h.

	* gui/component/e-select-names.c, gui/component/e-select-names.h,
	gui/component/select-names.glade,
	gui/component/select-names.glade.h: Moved these files into
	select-names/.

	* gui/component/select-names/.cvsignore,
	gui/component/select-names/Makefile.am,
	gui/component/select-names/e-select-names-manager.c,
	gui/component/select-names/e-select-names-manager.h,
	gui/component/select-names/e-select-names-model.c,
	gui/component/select-names/e-select-names-model.h,
	gui/component/select-names/e-select-names-table-model.c,
	gui/component/select-names/e-select-names-table-model.h,
	gui/component/select-names/e-select-names-text-model.c,
	gui/component/select-names/e-select-names-text-model.h,
	gui/component/select-names/e-select-names.c,
	gui/component/select-names/e-select-names.h,
	gui/component/select-names/recipient.glade,
	gui/component/select-names/select-names.glade,
	gui/component/select-names/select-names.glade.h: New files for
	select names dialog (e-select-names.c, e-select-names.h,
	select-names.glade, select-names.glade.h and recipient.glade moved
	from gui/component/.)

2000-06-29  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook-component.c (owner_set_cb): Get an
	EvolutionShellClient instead of an Evolution_Shell to match the
	changes in libeshell.

2000-06-28  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/select-names/,
	gui/component/select-names/e-select-names-manager.c,
	gui/component/select-names/e-select-names-manager.h: New select
	names manager interface (Not complete.)

2000-06-26  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor-categories.c,
	addressbook/gui/component/e-cardlist-model.c: Added
	value_to_string handlers.

	* demo/addressbook-widget.c, demo/demo.c: Removed usage of "x" and
	"y" arguments.

	* addressbook/gui/component/addressbook.c: Activated Click To Add
	and set the click to add message.

	* addressbook/gui/component/e-addressbook-model.c: Added
	value_to_string and append_row handlers.

	* addressbook/gui/component/e-select-names.c: Added a column.

2000-06-26  Chris Toshok  <toshok@helixcode.com>

	* backend/pas/pas-backend-ldap.c (poll_ldap): remove spew.
	(pas_backend_ldap_ensure_connected): duh, don't access a pointer
	we know to be NULL.
	(query_prop_to_ldap): rename map_e_card_prop_to_ldap to this.
	easier to type.

2000-06-21  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/test-minicard-label.c,
	gui/minicard/test-minicard.c, gui/minicard/test-reflow.c: Remove
	usage of "x" and "y" arguments.

2000-06-18    <ettore@helixcode.com>

	* contact-editor/Makefile.am (INCLUDES): Use
	`$(BONOBO_GNOME_CFLAGS)' so that we compile when Bonobo is not in
	the default GNOME prefix.

2000-06-17  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-minicard-label.c,
	gui/minicard/e-minicard-label.h, gui/minicard/e-minicard.c: Made
	the left column of minicards not get any wider than the widest
	possible name.

2000-06-13  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/Makefile.am (SHELL_OBJS): Removed.
	(evolution_addressbook_LDADD): Link with
	`$(top_builddir)/shell/libeshell.a'.

2000-06-12  Federico Mena Quintero  <federico@helixcode.com>

	* contact-editor/e-contact-editor-categories.c: Removed the
	ETableModel thaw handler.
	* gui/component/e-cardlist-model.c: Likewise.

2000-06-11  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/e-select-names.c: Fixed the widget reparenting.

2000-06-11  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/Makefile.am: Added glade files.

	* gui/component/addressbook.c: Added a test of the Select Names
	functionality.

	* gui/component/e-addressbook-model.c: Made this class_init
	function a bit cleaner.

	* gui/component/e-select-names.c: Tested this and fixed some
	obvious errors.

	* gui/component/select-names.glade: The main window shouldn't be
	visible by default.

2000-06-11  Ettore Perazzoli  <ettore@helixcode.com>

	* contact-editor/Makefile.am (contact_editor_test_LDADD): Link
	with libemiscwidgets.a.
	* gui/component/Makefile.am (evolution_addressbook_LDADD): Likewise.
	* gui/minicard/Makefile.am (minicard_test_LDADD): Likewise.
	(reflow_test_LDADD): Likewise.
	(minicard_view_test_LDADD): Likewise.

2000-06-10  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/e-cardlist-model.c: Renamed a bunch of functions
	for better readability.

	* gui/component/e-select-names.c, gui/component/e-select-names.h:
	This should be a working dialog now.

	* gui/component/select-names.glade: Changed the name & creation
	function of the ETable here.

2000-06-10  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/select-names.glade,
	gui/component/select-names.glade.h: Glade files for Select Names
	dialog.

2000-06-10  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c: Do e_card_simple_sync and
	extract_info more often.

	* gui/component/addressbook.c: Added table printing code.

2000-06-09  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook-component.c (factory_fn): Pass NULL
	for the new args @create_folder_fn and @remove_folder_fn.

2000-06-08  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook-component.c (create_view): Updated for
	the new `EvolutionShellComponentCreateViewFn'.  Return
	`EVOLUTION_SHELL_COMPONENT_UNSUPPORTEDTYPE' if @type is not
	"contacts".

2000-06-08  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c: Bind Save As to save the
	current view of the contact as a vcard.

2000-06-08  Federico Mena Quintero  <federico@helixcode.com>

	* contact-editor/e-contact-editor.c (save_card): Doh, sync the
	card simple and extract the card info.

2000-06-08  Federico Mena Quintero  <federico@helixcode.com>

	* contact-editor/e-contact-editor.h (EContactEditor): Now this
	derives from GtkObject.  It follows the same strategy as the
	EventEditor in the calendar.
	(EContactEditor): Added an is_new_card field so that we can know
	whether to add() or commit() the card.

	* contact-editor/e-contact-editor.c (e_contact_editor_get_type):
	Derive from GtkObject.
	(e_contact_editor_class_init): Likewise.
	(e_contact_editor_class_init): Added an "is_new_card" argument.
	(e_contact_editor_set_arg): Handle ARG_IS_NEW_CARD.
	(e_contact_editor_get_arg): Likewise.
	(e_contact_editor_new): Take in an is_new_arg argument and set it
	on the object.
	(e_contact_editor_init): Load the app widget into the app field of
	the EContactEditor structure.  Create its UIHandler as well.
	(e_contact_editor_class_init): New "add_card", "commit_card", and
	"editor_closed" signals.

	* contact-editor/test-editor.c (main): Modified for the new API.
	(editor_closed_cb): Tweaked for the new API.
	Since this test program does not use Bonobo, it doesn't work,
	though.

	* gui/component/addressbook.c (new_contact_cb): Use the new
	contact editor API.
	(table_double_click): Ditto.

	* gui/minicard/e-minicard-view.c (e_minicard_view_event): Use the
	new contact editor API.

	* gui/minicard/e-minicard.c (e_minicard_event): Use the new
	contact editor API.

2000-06-08  Ettore Perazzoli  <ettore@helixcode.com>

	* contact-editor/Makefile.am (contact_editor_test_LDADD): Remove
	the `$(srcdir)/' prefix from `libecontacteditor.a' because [of
	course] the library is built in the build directory, not in the
	source directory.
	* gui/minicard/Makefile.am (minicard_test_LDADD): Likewise with
	`libeminicard.a'.
	(minicard_label_test_LDADD): Likewise.
	(reflow_test_LDADD): Likewise.
	(minicard_view_test_LDADD): Likewise.

2000-06-06  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Bind right click on the ETable to
	"Save to VCard."

2000-06-02  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c: Made phone/email/address
	labels change correctly again.

2000-06-02  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook-component.c: Made
	evolution-addressbook shut down when the shell is done with it.

2000-06-02  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-minicard-view.c, gui/minicard/e-minicard.c: Made
	double click only work on the first button.

2000-06-01  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-minicard.c: return TRUE if opening a contact
	editor so that we don't get a "new dialog" contact editor.

2000-06-01  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook.c (new_contact_cb): Use the stock
	cancel button for the dialog.
	(table_double_click): Likewise.
	(find_contact_cb): Likewise.

2000-05-31  Miguel de Icaza  <miguel@helixcode.com>

	* contact-editor/contact-editor.glade: Added accelerators for
	the remaining items.

	Add spacing, beautify the dialogs.

2000-06-01  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook.c (control_activate): Put the toolbar
	into a frame to make it look like standard GNOME toolbars.  Also,
	set `GNOME_DOCK_ITEM_BEH_NEVER_VERTICAL' so that it does not do
	evil things when its moved to the left or the right of the window.

2000-05-30  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/e-cardlist-model.c,
	gui/component/e-cardlist-model.h: New files for card list.

2000-05-30  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Fixed a memory leak.

2000-05-30  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/alphabet.glade: Made the alphabet buttons not
	focusable.

	* gui/minicard/e-minicard-view.c: Made the "123" button work.

	* gui/minicard/e-reflow-sorted.c: Made all buttons past the last
	letter available work.

2000-05-30  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/alphabet.glade: Added a bit of space around the
	alphabet bar.

2000-05-30  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/Makefile.am: Added alphabet.glade and
	alphabet.glade.h.

	* gui/component/addressbook.c, gui/component/alphabet.glade,
	gui/component/alphabet.glade.h: Added an alphabet bar.

	* gui/minicard/e-minicard-view.c, gui/minicard/e-minicard-view.h,
	gui/minicard/e-reflow-sorted.c, gui/minicard/e-reflow-sorted.h:
	Added the ability to just to a particular spot in the reflow.

2000-05-30  Christopher James Lahey  <clahey@helixcode.com>

	* printing/Makefile.am: Added BONOBO_GNOME_CFLAGS to CPPFLAGS.

2000-05-30  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-minicard-view.c: Made double clicking create a
	new card.  Set the empty message.

	* gui/minicard/e-minicard.c: Made sorting be case insensitive.

	* gui/minicard/e-reflow-sorted.c, e-reflow.c, e-reflow.h: Added a
	message for when the reflow is empty.

	* printing/e-contact-print.c, printing/medbook.ecps: Made the
	default printout be full page.  Made sorting case insensitive.

2000-05-30  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-book-view-listener.c,
	backend/ebook/e-book-view-listener.h, backend/ebook/e-book-view.c,
	backend/ebook/e-book-view.h, backend/idl/addressbook.idl,
	backend/pas/pas-backend-file.c, backend/pas/pas-backend-ldap.c,
	backend/pas/pas-book-factory.c, backend/pas/pas-book-view.c,
	backend/pas/pas-book-view.h: Added "sequence_complete" signal.

	* printing/e-contact-print.c: Made printing wait for
	"sequence_complete" signal and made it sort.

2000-05-25  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c,
	gui/component/e-addressbook-model.c,
	gui/component/e-addressbook-model.h: Added double click to open
	contact editor.

2000-05-25  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Removed some columns.

2000-05-25  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/component/addressbook.c (addressbook_factory_new_control):
	New function.
	(addressbook_factory): Use it.

	* Makefile.am (evolution_addressbook_LDADD): Link with
	`evolution-shell-component.o' from the shell directory.

	* gui/component/addressbook-component.c: New.
	* gui/component/addressbook-component.h: New.

2000-05-23  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Switched printing and gui.

	* backend/ebook/e-book-view-listener.h,
	backend/ebook/e-book-view.h, backend/ebook/e-book.h,
	backend/ebook/e-card-cursor.h, backend/ebook/e-card-list.h,
	backend/ebook/e-card-simple.h, backend/ebook/e-card.h: Fixed the
	#defines to work elsewhere in evolution.

	* gui/component/Makefile.am: Added linking to libecontactprint.

	* gui/component/addressbook.c: Added a menu item to print the
	current query.

	* printing/Makefile.am: Add linking to libebook and requirements.
	Add installation of ecps files.

	* printing/e-contact-print.c, printing/e-contact-print.h: Changed
	this to use real data from an EBook.

	* printing/test-print.c: Made this pass NULL, NULL to
	e_contact_print_dialog_new so that it will compile.

2000-05-23  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-save-as.c: Fixed some memory leaks.

2000-05-23  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/Makefile.am: Added e-contact-editor-save-as.c and
	e-contact-editor-save-as.h.

	* contact-editor/e-contact-save-as.c,
	contact-editor/e-contact-save-as.h: New files that display a save
	as dialog and then save the given card to that file.

	* gui/minicard/e-minicard.c: Call e_contact_save_as in a right
	click menu.

2000-05-19  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor-categories.c,
	gui/component/e-addressbook-model.c: Added initialize_value and
	value_is_empty callbacks.

2000-05-19  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c: Fixed a bug that broke
	address field support.

2000-05-19  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c,
	contact-editor/e-contact-editor.h: Added support for arbitrary
	fields in the contact editor.

2000-05-18  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card.c: Fixed e_card_name_copy and
	e_card_arbitrary_copy to deal correctly with a passed NULL.

	* contact-editor/Makefile.am: Removed imagesdir stuff.

	* contact-editor/arrow.png: Made this transparent.

	* contact-editor/contact-editor.glade,
	contact-editor/e-contact-editor-strings.h: Renamed some widgets
	and added custom widgets for all of the images.

	* contact-editor/e-contact-editor.c: Worked on making this work
	decently well with messed up glade files.  Cleaned up a lot of code.

2000-05-18  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card.c: Fixed the code to write out and read in
	arbitrary fields.

2000-05-18  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-simple.c, backend/ebook/e-card-simple.h,
	backend/ebook/e-card-types.h, backend/ebook/e-card.c,
	backend/ebook/e-card.h: Implemented "MAILER" field.  Added
	arbitrary field support.

	* contact-editor/e-contact-editor-categories.c: Fixed a warning.

2000-05-16  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-simple.c, backend/ebook/e-card-simple.h:
	Added E_CARD_SIMPLE_FIELD_MAILER.  Not implemented yet.

2000-05-16  Chris Toshok  <toshok@helixcode.com>

	* backend/pas/pas-backend-ldap.c (construct_email_list): convert to use ECardSimple.
	(poll_ldap): same.

2000-05-16  Chris Toshok  <toshok@helixcode.com>

	* backend/pas/pas-book.h: add typedefs for the can_write
	functions, and add parameters to pas_book_new.

	* backend/pas/pas-book.c (pas_book_construct): add can_write/can_write_card params.
	(pas_book_new): same.
	(impl_Evolution_Book_can_write): new function.
	(impl_Evolution_Book_can_write_card): same.
	(pas_book_get_epv): assign the can_write/can_write_card slots in the epv.

	* backend/pas/pas-backend-ldap.c (pas_backend_ldap_can_write): new function.
	(pas_backend_ldap_can_write_card): same.
	(pas_backend_ldap_add_client): add can_write/can_write_card to pas_book_new call.

	* backend/pas/pas-backend-file.c (pas_backend_file_can_write_card): new function, calls can_write.
	(pas_backend_file_can_write): same.
	(can_write): return TRUE if we can write to the addressbook file.
	(pas_backend_file_add_client): add can_write/can_write_card to pas_book_new call.

	* backend/idl/addressbook.idl (Evolution): add can_write and
	can_write_card permission requests.

2000-05-16  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card.c (e_card_get_vcard): Fixed a large memory leak.

2000-05-16  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card.c (add_list_unique): Fixed another memory
	leak.

2000-05-16  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-simple.c, backend/pas/pas-backend-file.c,
	contact-editor/e-contact-editor.c, ename/e-name-western.c,
	gui/component/addressbook.c, gui/minicard/e-minicard-view.c: Fixed
	some memory leaks.

	* backend/ebook/e-card.c: Rearranged some code.

2000-05-16  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor-categories.c: Fixed a reference
	leak.

2000-05-16  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor-categories.c: Fixed a compile
	error.

2000-05-16  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor-categories.c: Got rid of a
	memory leak.  Rearranged a couple functions.
	
	* gui/minicard/e-minicard-view.c, gui/minicard/e-minicard-view.h:
	Added some code to stop watching the EBook when the canvas is
	destroyed (apparently the canvas is destroyed before our widget is
	destroyed.)

2000-05-14  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor-categories.c: Use the correct
	policy for resize.

2000-05-14  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/Makefile.am: Added libeutil for e-card's support
	for categories.

	* backend/ebook/e-card-list.c, backend/ebook/e-card-list.h: Added
	a function to get the length.

	* backend/ebook/e-card.c, backend/ebook/e-card.h: Added categories
	support (accessible either as "categories" or "category_list".)

	* contact-editor/Makefile.am: Added e-table and all of the
	categories files.

	* contact-editor/categories.glade,
	contact-editor/categories-strings.h,
	contact-editor/e-contact-editor-categories.c,
	contact-editor/e-contact-editor-categories.h:

	* contact-editor/contact-editor.glade,
	contact-editor/e-contact-editor-strings.h: Rearranged this dialog.

	* contact-editor/e-contact-editor.c: Rearranged dialog a bit.
	Added opening of categories dialog.

	* gui/component/Makefile.am: Rearranged libraries so that
	libetable would be available for the contact editor categories
	dialog.

	* gui/component/addressbook.c: Fix for new ETable resizing.  Make
	contact editor dialog resizable.

	* gui/minicard/Makefile.am: Added libetable contact editor
	categories dialog.

	* gui/minicard/e-minicard.c: Make contact editor dialog resizable.

2000-05-12  Miguel de Icaza  <miguel@gnu.org>

	* contact-editor/fulname.glade: Use accelerators here.

2000-05-13  Valek Filippov  <frob@df.ru>

	* gui/component/ldap-server-dialog.glade: save translatable strings
	* gui/component/ldap-server-dialog.glade.h: file with strings
	* printing/e-contact-print.glade: save translatable strings
	* printing/e-contact-print.glade.h: file with strings
		
2000-05-11  Dan Winship  <danw@helixcode.com>

	* gui/component/addressbook.c (control_activate): Now that we
	depend on recent gnome-libs we can make the toolbar detachable
	again.

2000-05-10  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Make the table view be sorted by
	name initially.

2000-05-10  Christopher James Lahey  <clahey@helixcode.com>

	* backend/pas/pas-book-factory.c: Send a proper response when you
	can't find the ldap URI.

	* gui/component/addressbook.c: Cleaned up the open error dialog a
	bit.

2000-05-10  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Added a dialog for when you can't
	open an addressbook.

2000-05-10  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/Makefile.am: Added e-book-types.h, e-card-pairs.h,
	e-card-types.h.

	* backend/pas/Makefile.am: Added pas-backend-ldap.h.

	* contact-editor/Makefile.am: Added a proper EXTRA_DIST section.
	Removed some old defines.

	* ename/Makefile.am: Added e-name-western-tables.h.

	* gui/component/Makefile.am: Added e-ldap-server-dialog.h.  Added
	a proper EXTRA_DIST section.

	* gui/minicard/e-reflow.c: Added a missed cast.

	* printing/Makefile.am: Added a proper EXTRA_DIST section.
	
2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c: Make sure that the canvas
	doesn't intercept keyboard focus.

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c: Use new art.

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/contact-editor.glade,
	contact-editor/e-contact-editor-strings.h: Replaced the Address
	button with a label and rearranged the address area a bit.

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-minicard.c: Reenable editting.

	* gui/minicard/e-reflow-sorted.c: Make reflow flow on deletion.

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Destroy the view object when
	leaving the minicard view.

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-reflow-sorted.c: Fixed reflow sorting to call
	reflow_request when sorting on an item changes.

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-simple.c: Make File As change if name or
	company are changed pretty much anywhere.

	* gui/minicard/e-minicard.c: Turned off having minicard editing
	effect anything since it's so crashy.

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* backend/pas/pas-backend-ldap.c: Enabled a couple more fields

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* backend/pas/pas-backend-file.c: Added a default card to all new
	file backends.

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/e-addressbook-model.c: Rearranged order of things
	getting destroyed.

	* gui/minicard/e-minicard-view.c: Rearranged order of things
	getting destroyed.  Don't set attributes of non-null or destroyed
	items.  Destroy parent object when destroyed.  Maintain ref_count
	of items in list.

	* gui/minicard/e-minicard.c: Don't set attributes of non-null
	items.

	* gui/minicard/e-reflow-sorted.c: Maintain ref_count of items in
	list.

	* gui/minicard/e-reflow.c: Maintain ref_count of items in list.
	Destroy parent object when destroyed.

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-simple.c: Fixed some indentation.

	* contact-editor/contact-editor.glade,
	contact-editor/e-contact-editor-strings.h: Changed Email to
	Primary Email.

	* contact-editor/e-contact-editor.c: Added checkmarks to indicate
	if data exists in the pull down menus for the phone, address, and
	email fields.

2000-05-09  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-simple.c: Fixed the string duplication
	problem.  Fixed the business/home address string mix up.

	* gui/component/addressbook.c: Made the minicard view the default
	view.

2000-05-08  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-simple.c: Fixed this up a bit.  Syncing
	should work better now.

2000-05-08  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-minicard-view.c, gui/minicard/e-minicard.c,
	gui/minicard/e-minicard.h, gui/minicard/e-reflow-sorted.c,
	gui/minicard/e-reflow-sorted.h: Made a minimal number of things be
	destroyed and recreated when updating a field.

2000-05-07    <toshok@the-dot-in.helixcode.com>

	* gui/minicard/e-minicard.c (remodel): make sure to free the
	return value of e_card_simple_get.

	* gui/component/addressbook.c (teardown_table_view): destroy the
	ECardSimple here, plug memory leak.
	(create_table_view): use view->simple so we can destroy the
	ECardSimple later on.

2000-05-07  Chris Toshok  <toshok@helixcode.com>

	* ename/e-name-western.c (e_name_western_extract_middle): comment
	function, and fix an ABR.

2000-05-07  Chris Toshok  <toshok@helixcode.com>

	* ename/e-name-western.c (e_name_western_cleanup_string): comment
	function, and fix an ABR.

2000-05-08  Christopher James Lahey  <clahey@helixcode.com>

	* gui/minicard/e-minicard.c: Added saving in minicard view.

2000-05-07  Christopher James Lahey  <clahey@helixcode.com>

	* backend/pas/pas-backend-file.c: Fixed an off by 2 error.

2000-05-07  Chris Toshok  <toshok@helixcode.com>

	* gui/component/addressbook.c (set_prop): don't create a new
	ebook.  instead, unload the current uri (if there is one) and load
	the new one.
	(addressbook_factory): create the ebook once.

2000-05-07  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/e-addressbook-model.c: Replaced some model_changed
	calls with row_inserted calls.

2000-05-07  Christopher James Lahey  <clahey@helixcode.com>

	* backend/pas/pas-backend-file.c, backend/pas/pas-backend-ldap.c:
	Removed some code that was notifying too many clients at the wrong
	times.

	* gui/component/addressbook.c: Set view->book.  Unreffed
	view->book.  Unreffed the model instead of destroying it.  Removed
	the /tmp/test.db stuff.

2000-05-07  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Make the addressbook create the
	correct file uri.  Added a default query.  Initialize view->model
	and view->view to NULL.

	* gui/component/e-addressbook-model.c,
	gui/minicard/e-minicard-view.c: Only call get_book_view if both
	book and query and non-null.

2000-05-06  Chris Toshok  <toshok@helixcode.com>

	* gui/component/addressbook.c (control_deactivate): remove the
	separator and toggle view items as well.
	(toggle_view_as_cb): callback for the "/View/Toggle View" menu
	item.
	(get_query): getter for the query string that takes into account
	the two view types.
	(set_query): setter for the query string that takes into account
	the two view types.
	(set_book): setter for the EBook type - not really a setter, since
	the book is kept in the AddressbookView, but this method actually
	sets the "book" property on the current view.
	(find_contact_cb): make use of get/set_query
	(search_entry_activated): make use of set_query.
	(control_activate): add a menu separator and an item to toggle
	between view types.
	(book_open_cb): make use of set_book.
	(ebook_create): no longer needs to return the EBook, since we set
	the book field in our view.
	(teardown_minicard_view): destructor function for the minicard
	specific ui.
	(create_minicard_view): constructor function for the minicard
	specific ui.
	(teardown_table_view): destructor function for the e-table
	specific ui.
	(create_table_view): constructor function for the e-table specific
	ui.
	(change_view_type): destroy the old and create the new view ui,
	change the label of the Toggle View menu item, and reset the book
	and query on the new view type.
	(addressbook_factory): create an all-encompassing vbox that the
	view uses to create the bonobo control, which contains 1 widget
	per ui specific view (the e-table in the table case, and another
	vbox in the minicard case.)  use change_view_type to create the
	initial view.

2000-05-07  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-book.c: Made a NULL callback just mean to not
	call back.

	* backend/ebook/e-card-simple.c, backend/ebook/e-card-simple.h:
	Reordered fields.  Added a get_const function to get a constant
	string that persists until the simple is destroyed.

	* gui/component/Makefile.am: Added e-addressbook-model.c and
	e-addressbook-model.h and all of the libraries and includes that
	they are dependent on.

	* gui/component/addressbook-factory.c: Initialize e cursors.

	* gui/component/addressbook.c: Added inactive code to display an
	ETable view of the addressbook.

	* gui/component/e-addressbook-model.c,
	gui/component/e-addressbook-model.h: New files to implement an
	ETable model with a EBook back end.
	
2000-05-06  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-simple.c, backend/ebook/e-card-simple.h:
	Mostly finished ECardSimple.

	* contact-editor/e-contact-editor.c: Changed this to match with
	some of the changes to ECardSimple.

	* gui/component/addressbook.c: Changed this to look for
	"addressbook.db" in the given directory if it doesn't find the
	file "uri".

	* gui/minicard/e-minicard.c, gui/minicard/e-minicard.h: Changed
	this to use ECardSimple.

2000-05-06  Chris Toshok  <toshok@helixcode.com>
	
	* gui/component/.cvsignore: ignore evolution-addressbook.pure

	* gui/component/Makefile.am: add support for generating 
	evolution-addressbook.pure.

2000-05-06  Chris Toshok  <toshok@helixcode.com>

	* backend/pas/pas-backend-ldap.c (pas_backend_ldap_load_uri): if a
	port isn't specified in the uri default to 389.

2000-05-06  Christopher James Lahey  <clahey@helixcode.com>

	* gui/component/addressbook.c: Made this take a uri through its
	property bag.

2000-05-05  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/Makefile.am: Added e-card-simple.c and
	e-card-simple.h.

	* backend/ebook/e-card-simple.c, backend/ebook/e-card-simple.h:
	New card wrapper class to simplify things.

	* contact-editor/e-contact-editor.c,
	contact-editor/e-contact-editor.h: Changed e-contact-editor to use
	ECardSimple a bit.

2000-05-03  Chris Toshok  <toshok@helixcode.com>

	* gui/component/addressbook.c (control_deactivate): #ifdef
	HAVE_LDAP the ldap specific stuff.
	(null_cb): same.
	(control_activate): same.

2000-05-02  Ettore Perazzoli  <ettore@helixcode.com>

	* backend/ebook/Makefile.am (INCLUDES): Add
	`-I$(top_srcdir)/addressbook/ename'.

2000-05-02  Matt Loper  <matt@helixcode.com>

	* demo/Makefile.am: set G_LOG_DOMAIN.
	* printing/Makefile.am: same.

2000-05-01  Christopher James Lahey  <clahey@helixcode.com>

	* backend/pas/pas-book-factory.c: Add back in the
	CORBA_Object_release.

	* backend/pas/pas-book.c: Properly duplicate and release the
	listener passed to us.

2000-05-01  Christopher James Lahey  <clahey@helixcode.com>

	* backend/pas/pas-backend-file.c, backend/pas/pas-backend-ldap.c:
	Made uri slightly better managed.
	
	* backend/pas/pas-book-factory.c
	(pas_book_factory_process_request): Remove this
	CORBA_Object_release that causes things not to work.  This is just
	a temporary fix until we figure out what's actually wrong.

	* backend/pas/pas-book.c: Fixed a copy and paste error in a warning.
	
2000-05-01  Christopher James Lahey  <clahey@helixcode.com>

	* Makefile.am: Switched the subdirs order since backend depends on
	ename.

2000-05-01  Larry Ewing  <lewing@helixcode.com>

	* backend/pas/pas-backend-ldap.c (pas_backend_ldap_remove_client):
	fix a typo in the for loop.

2000-05-01  Michael Meeks  <michael@helixcode.com>

	* backend/pas/pas-book-factory.c: include gtk.

2000-04-30  Federico Mena Quintero  <federico@helixcode.com>

	* backend/ebook/e-book-types.h (EBookStatus): Added new status
	values for the IDL stuff.

	* backend/pas/pas-book-factory.h (PASBookFactoryClass): New
	"last_book_gone" signal.

	* backend/pas/pas-book-factory.c
	(pas_book_factory_launch_backend): Better error handling.
	(pas_book_factory_process_queue): Let
	pas_book_factory_process_request() free the request.
	(pas_book_factory_process_request): Free the request here.
	Perform better error handling.
	(free_active_server_map_entry): Free an active server map entry;
	free the URI key and unref the backend value.  This function was
	renamed; the old one was trying to CORBA_Object_unref() a GTK+
	object!
	(remove_backends_entry): Free a backend table entry; free the URI
	key.
	(backend_last_client_gone_cb): Remove the backend from the active
	server map and emit the "last_book_gone" signal if appropriate.
	(pas_book_factory_get_n_backends): New function to query the
	number of running backends in an addressbook factory.

	* backend/idl/addressbook.idl (BookListener::CallStatus): Added a
	ProtocolNotSupported code.  This is for when the addressbook
	factory cannot find a provider for the requested URI.

	* backend/pas/pas-backend.h (PASBackendClass): New
	"last_client_gone" signal.
	(PASBackendClass): New get_uri virtual method.

	* backend/pas/pas-backend.c (pas_backend_load_uri): Return a
	gboolean success code.
	(pas_backend_add_client): Return a gboolean success code.
	(pas_backend_last_client_gone): New function used by backend
	implementations to notify upwards when the backend's last client
	is destroyed.
	(pas_backend_get_uri): New function to get the URI of a backend.

	* backend/pas/pas-backend-file.c (pas_backend_file_add_client):
	Pass the backend as the closure data to the "destroy" handler of
	the book.  We cannot call pas_book_get_backend() in the callback
	since the book's private data has already been destroyed when the
	callback is invoked.  Alternatively, we could move the private
	data destruction step to the book's ::finalize() method.
	(pas_backend_file_book_destroy_cb): Get the backend from the
	callback's data, not from the book.
	(pas_backend_file_remove_client): Remove the book from the list of
	clients.  When all clients go away, call
	pas_backend_last_client_gone().
	(PASBackendFilePrivate): Added an uri field.
	(pas_backend_file_get_uri): Implement the get_uri method.
	(pas_backend_file_load_uri): Return a gboolean success code.
	Also, store the URI in the private structure.
	(pas_backend_file_add_client): Return a gboolean success code.
	Also, call pas_backend_last_client_gone() if appropriate.
	(pas_backend_file_destroy): Free the bf->priv->uri.

	* backend/pas/pas-backend-ldap.c (pas_backend_ldap_add_client):
	Pass the backend as the closure data to the "destroy" handler of
	the book.  See above for rationale.
	(pas_backend_ldap_book_destroy_cb): Get the backend from the
	callback's data.
	(pas_backend_ldap_remove_client): Remove the book from the list of
	clients.  When all clients go away, call
	pas_backend_last_client_gone().
	(pas_backend_ldap_load_uri): Return a gboolean success code.
	(pas_backend_ldap_add_client): Return a gboolean success code.
	Also, call pas_backend_last_client_gone() if appropriate.
	(PASBackendLDAPPrivate): New uri field.
	(pas_backend_ldap_get_uri): Implement the get_uri method.
	(pas_backend_ldap_load_uri): Store the uri in the private
	structure.
	(pas_backend_ldap_destroy): Free the bl->priv->uri.

2000-04-30  Chris Toshok  <toshok@helixcode.com>

	* gui/component/Makefile.am (evolution_addressbook_SOURCES): added
	e-ldap-server-dialog.c
	(glade_DATA): added ldap-server-dialog.glade

	* gui/component/ldap-server-dialog.glade: new file.

	* gui/component/e-ldap-server-dialog.h: new file.

	* gui/component/e-ldap-server-dialog.c: new file, contains logic
	associated with ldap server dialog.

	* gui/component/addressbook.c (control_deactivate): remove the
	directory server menu item.
	(null_cb): do nothing callback for e_book_load_uri call.  should
	change to (at the very least) pop up a dialog if there was an
	error.
	(new_server_cb): new function - really just switches to a
	particular ldap server, since the information isn't saved
	anywhere.
	(control_activate): add directory server menu item.

2000-04-30  Chris Toshok  <toshok@helixcode.com>

	* backend/ebook/e-book.c (e_book_load_uri): create the book
	listener here, since it's destroyed in unload_uri.
	(e_book_construct): remove the book listener construction here.

2000-04-30  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/.cvsignore: Added load-pine-addressbook.

2000-04-30  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/contact-editor.glade,
	contact-editor/e-contact-editor.c, gui/minicard/e-minicard.c: Made
	some fields invisible that were visible before.

2000-04-30  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card.c: Make file as not have the : after it if
	it's empty.  If there's no name, or file_as, fill in these fields
	with defaults based on full_name or name respectively.

	* backend/ebook/load-pine-addressbook.c: New file to do import of
	pine .addressbook files.

	* backend/pas/pas-backend-file.c: Made empty fields act as the
	empty string for searches.

	* contact-editor/e-contact-editor.c,
	contact-editor/e-contact-editor.h: Made the File As field update
	properly as you edit the name and company fields.  Added the pull
	down list of File As choices.  Made sure that all fields will
	be set to NULL if they are deleted to the empty string.

	* gui/minicard/e-minicard.c: Use the File As field instead of the
	Full Name field for the header.  Make identical compares on the
	File As field do a compare on the uid.

2000-04-30  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor-fullname.c,
	contact-editor/fullname.glade: Fixed a string mismatch.

2000-04-30  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/Makefile.am: Added ename includes and libs.

	* backend/ebook/e-card.c, backend/ebook/e-card.h: Added
	e_card_name_from_string.  Added header for
	e_card_delivery_address_from_string, even though it's not
	implemented yet.

	* contact-editor/Makefile.am: Removed the ename includes since we
	no longer use ename directly here.

	* contact-editor/e-contact-editor.c: Fixed this to properly save
	the address labels displayed.  Updated this to use the function
	e_card_name_from_string instead of doing it by hand.

	* contact-editor/fullname-strings.h,
	contact-editor/fullname.glade: Deleted an unused field.  Changed
	the set of prefixes and suffixes.

2000-04-30  Chris Toshok  <toshok@helixcode.com>

	* backend/pas/pas-backend-ldap.c
	(pas_backend_ldap_ensure_connected): add support for a rootdn in
	the uri.
	(pas_backend_ldap_build_all_cards_list): make use of the rootdn in
	the call to ldap_search_s.
	(pas_backend_ldap_search): same.
	(pas_backend_ldap_load_uri): get the rootdn out of the passed in uri.

2000-04-29  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card.c, backend/ebook/e-card.h: Added
	e_card_phone_new e_card_delivery_address_new,
	e_card_delivery_address_to_string, e_card_name_copy,
	e_card_name_new, e_card_name_to_string, and made e_card_name_free
	public.  Removed some unused code.

	* backend/pas/pas-backend-file.c: Fixed a warning.

	* contact-editor/Makefile.am: Added e-contact-editor-fullname.[ch]
	and fullname.glade.  Added e-name libs and includes.

	* contact-editor/e-contact-editor-fullname.c,
	contact-editor/e-contact-editor-fullname.h,
	contact-editor/fullname-strings.h, contact-editor/fullname.glade:
	New dialog for editing the fields of a name separately.

	* contact-editor/e-contact-editor.c,
	contact-editor/e-contact-editor.h: Create an
	EContactEditorFullname when you click on the Full Name button.
	Maintain a parsed name at all times.

	* gui/component/Makefile.am, gui/minicard/Makefile.am: Added
	e-name libs.

2000-04-28  Larry Ewing  <lewing@helixcode.com>

	* backend/pas/pas-book-factory.c (register_factory): fix the
	`USING_OAF' changes so that they work for when we are not using
	oaf.

2000-04-27  Ettore Perazzoli  <ettore@helixcode.com>

	* ename/Makefile.am
	(gnome_libs): Use `BONOBO_GNOME_LIBS'.
	(INCLUDES): Add `-I$(srcdir)/..'.

	* backend/pas/pas-book-factory.c
	(register_factory): New function to register the factory.
	Implementation different according to `USING_OAF'.
	(pas_book_factory_activate): Use `register_factory()'.

	* gui/component/addressbook.c: New #define `CONTROL_FACTORY_ID',
	varying depending on whether we are `USING_OAF'.
	(addressbook_factory_init): Use `CONTROL_FACTORY_ID'.

	* backend/ebook/test-client.c (init_corba): New function,
	implemented differently according to the `USING_OAF' #define.

	* backend/ebook/e-book.c: New #define `CARDSERVER_OAF_ID'.
	(e_book_construct): Work with OAF #if `USING_OAF'.

	* backend/ebook/Makefile.am (gnome_libs): Removed.
	(corbadir): Removed.
	(ebook_libs): Removed.
	(test_client_LDADD): Just add `libebook.la'.
	(test_card_LDADD): Likewise.
	(test_client_list_LDADD): Likewise.

	* gui/component/addressbook-factory.c
	(init_corba): New helper function, implemented differently
	according to `USING_OAF'.
	(main): Call `init_corba()'.

2000-04-27  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card.c, backend/ebook/e-card.h: Added file as,
	office, manager, assistant, spouse, and anniversary fields.  These
	all use "X-EVOLUTION-" fields in the VCards.

	* backend/pas/pas-backend-file.c: Added all the new fields (except
	anniversary) to the list of fields.

	* contact-editor/contact-editor.glade,
	contact-editor/e-contact-editor-strings.h: Fixed some misnamed
	fields and fixed the placement of the comments field.

	* contact-editor/e-contact-editor.c: Made the newly added fields
	display properly.

	* Makefile.am: Added ename.

	* ename/e-name-western.h, ename/test-ename-western-gtk.c,
	ename/test-ename-western.c: Fixed up some #includes.

	* ename/.cvsignore: Added .cvsignore.

2000-04-26  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-types.h, backend/ebook/e-card.c,
	backend/ebook/e-card.h: Added an address label field.

	* contact-editor/contact-editor.glade,
	contact-editor/e-contact-editor-strings.h: Got rid of some unused
	fields.

	* contact-editor/e-contact-editor.c,
	contact-editor/e-contact-editor.h: Added the address label field.
	Load only.  Editing these fields seems to mess things up.

2000-04-26  Christopher James Lahey  <clahey@helixcode.com>

	* contact-editor/e-contact-editor.c: Added proper handling of the
	email field.

2000-04-26  Christopher James Lahey  <clahey@helixcode.com>

	* backend/ebook/e-card-types.h, backend/ebook/e-card.c,
	gui/minicard/e-minicard.c: Prefixed the ADDR_ flags.

	* contact-editor/contact-editor.glade,
	contact-editor/e-contact-editor-strings.h: Edited the glade file.
	Removed all the fields that we don't use.

	* contact-editor/e-contact-editor.c,
	contact-editor/e-contact-editor.h: Made the phone fields work
	properly.  The address and email fields are temporarily turned off
	until they can be made to work as the phone fields do.

2000-04-25  Ettore Perazzoli  <ettore@helixcode.com>

	* gui/minicard/Makefile.am (INCLUDES): Use
	`$(BONOBO_GNOME_CFLAGS)'.

	* backend/pas/Makefile.am (idl_flags): Add `-I $(datadir)/idl' to
	pick up IDL files in the installation prefix as well.
	(INCLUDES): Use `$(BONOBO_GNOME_CFLAGS)'.

	* backend/ebook/Makefile.am (ORBIT_IDL): Use `-I $(datadir)/idl'
	to get the IDLs from the installation prefix as well.
	(INCLUDES): Add `$(BONOBO_GNOME_CFLAGS)'.
	(test_client_LDADD): Use `$(BONOBO_GNOME_LIBS)' instead of
	hardcoding `-lbonobo'!  Also get rid of some other useless flags,
	as `$(BONOBO_GNOME_LIBS)' really has all what we need.
	(test_client_list_LDADD): Likewise.
	(test_card_LDADD): Likewise.

2000-04-18  Federico Mena Quintero  <federico@helixcode.com>

	* gui/minicard/Makefile.am (INCLUDES): Use "e-minicard" as the log
	domain.

	* gui/component/Makefile.am (INCLUDES): Use
	"evolution-addressbook" as the log domain.

	* backend/pas/Makefile.am: Build libpas.a, not a shared library.
	Do not install any header files.
	(INCLUDES): Remove spurious include paths.

	* backend/pas/*.[ch]: Fix includes.

	* backend/ebook/Makefile.am: Do not install the test programs.
	Fixed some include weirdness.

	* backend/ebook/*.[ch]: Fix includes.

	* contact-editor/Makefile.am (INCLUDES): Set the log domain to
	"contact-editor".
	(INCLUDES): Fix.

	* contact-editor/*.[ch]: Fix includes.

	* gui/minicard/*.[ch]: Fix includes.

	* ChangeLog: Started a ChangeLog here.
