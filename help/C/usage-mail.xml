<chapter id="usage-mail">
  <title>Using Evolution for Email</title>
  <para>
    This chapter, and <xref linkend="usage-mail-organize"/>, will
      provide you with an in-depth guide to the capabilities of
      Evolution as a mail client.  For information about how to set up
      your mail account, see <xref linkend="config-prefs-mail"/>.
  </para>
  
  <note>
    <title>If you use IMAP Mail</title>
    <para>
      If you chose IMAP mail during the setup process, you must
      subscribe to your mail folders before you can read mail in
      them. Read <xref linkend="usage-mail-subscriptions"/> to find out
      how.
    </para>
  </note>
  
  
  <sect1 id="usage-mail-getnsend-read">
    <title>Reading Mail</title>    
    <para>
      If you are not already viewing mail, switch to the mail tool by clicking the
      <guilabel>Email</guilabel> button in the shortcut bar.  To read a message,
      select it in the message list; if you'd like to see it in its
      own window, double-click on it, or press <keycap>Return</keycap> or 
      <keycombo action="simul">
	<keycap>Ctrl</keycap>
	<keycap>O</keycap>
      </keycombo>.
    </para>


      <tip id="spaceandbs">
	<title>Reading Mail with the Keyboard</title>
	<para>
	  You can click the space bar to page down while you're reading
	  an email, and press backspace to page up in an email. 
	</para>
    
        <para>
          Navigate the message list by pressing the arrow keys up
          and down. To go to the next and previous
          <emphasis>unread</emphasis> messages, press the
          <keycap>.</keycap> (period) or <keycap>,</keycap> (comma)
          keys. On most keyboards, these  keys are also marked
          with the &gt; and &lt; symbols, which makes a convenient way
          to remember that they move you forward and backward in your
          message list. You can also use <keycap>]</keycap> (close
          bracket) for the next unread message, and <keycap>[</keycap>
          (open bracket) for the previous unread message.
        </para>
      </tip>

    <sect2 id="usage-mail-listorder">
      <title>Sorting the message list</title>
      <para>
	Evolution helps you work by letting you sort
	your email.  To sort by sender, subject, or date, click
	on the bars with those labels at the top of the message
	list. The direction of the arrow next to the label indicates
	the direction of the sort, and if you click again, you'll
	sort them in reverse order. For example, click once on
	<guilabel>Date</guilabel> to sort messages by date from
	oldest to newest.  Click again, and
	Evolution sorts the list from
	newest to oldest. You can also right-click on the message
	header bars to get a set of sorting options, and add or
	remove columns from the message list.  You can find detailed
	instructions on how to customize your message display
	columns in <xref linkend="usage-mail-organize-columns"/>.
      </para>

      <tip id="view-headers">
	<title>Email Headers</title>
	<para>
	  To look at the complete headers for email messages, select
          <menuchoice><guimenu>View</guimenu><guisubmenu>Message
	  Display</guisubmenu><guimenuitem>Show Full
	  Headers</guimenuitem></menuchoice>. To see absolutely every
	  bit, choose
	  <menuchoice><guimenu>View</guimenu><guisubmenu>Message
	  Display</guisubmenu><guimenuitem>Show Email Source
	  </guimenuitem></menuchoice>.
       </para>
      </tip>

      <para>
	You can also choose a threaded message view. Select
	<menuchoice> 
	  <guimenu>View</guimenu>
          <guimenuitem>Threaded</guimenuitem> 
	</menuchoice> 
	to turn the threaded view on or off.  When you select this option,
	Evolution groups the replies to a
	message with the original, so you can follow the thread of a
	conversation from one message to the next.
      </para>
      <figure>
        <title>Message Threading In Action</title>
	<screenshot>
	  <screeninfo>Message Threading In Action</screeninfo>
	  <mediaobject><imageobject>
	      <imagedata  format="PNG" fileref="figures/mail-threaded" srccredit="Aaron Weber"/>
	    </imageobject></mediaobject>
	</screenshot>
      </figure>

    </sect2>
    
    <sect2 id="usage-mail-getnsend-delete">
        <title>Deleting Mail</title>
        <para>
          Once you've read your mail, you may want to get rid of
          it. 
	To delete a message:
	<orderedlist numeration="arabic">
	  <listitem>
	    <para>
	      Click the message to select it
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Press delete button or right click on the message and
	      choose <guilabel>Delete</guilabel>.
	    </para>
	    <note>
	      <title>Why do I still see deleted mail?</title>
	      <para>
		When you press <guilabel>Delete</guilabel> or click
		the trash button, your mail isn't actually deleted,
		but is marked for deletion.  Your email is not gone
		until you have expunged it. When you "Expunge" a
		folder, you remove all the mail that you have marked
		for deletion.
	      </para>
              <para>
                 If you don't like this behavior, select
                 <menuchoice><guimenu>View</guimenu><guimenuitem>Hide
                 Deleted Messages</guimenuitem></menuchoice>. Then,
                 you will only see deleted messages when you look in
                 your <guilabel>Trash</guilabel> folder.
              </para>
	    </note>
	  </listitem>
	  <listitem>
	    <para>
	      Click
	      <menuchoice>
		<guimenu>Actions</guimenu>
		<guimenuitem>Expunge</guimenuitem>
	      </menuchoice>
	      or press
	      <keycombo action="simul">
		<keycap>Ctrl</keycap>
		<keycap>E</keycap>
	      </keycombo>
	    </para>
	  </listitem>
	</orderedlist>
      </para>
      <note>
	<title>Trash is Actually a vFolder?</title>
	<para>
	  Both local and IMAP Trash folders are actually vFolders that
          display all messages you have marked for later deletion.
          For more information about vFolders, see <xref
          linkend="usage-mail-organize-vfolders"/>.  Since emptying
          your trash expunges the messages in your Trash folder,
          choosing <menuchoice> <guimenu>Actions</guimenu>
          <guimenuitem>Empty Trash</guimenuitem> </menuchoice> is the
          same as expunging deleted mail from <emphasis>all</emphasis>
          your folders.
	</para>
        <para>
           This is not, however, true for the Trash folder on Exchange
           servers, which behaves just the same as it would in
           Outlook. That is to say, the Trash folder on an Exchange
           server is a normal folder with actual messages in it.
        </para>
      </note>
    </sect2>
    <sect2 id="usage-mail-getnsend-undelete">
      <title>Undeleting Messages</title>
      <para>
	To undelete a message:
	<orderedlist numeration="arabic">
	  <listitem>
	    <para>
	      Select a message you have marked for deletion.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Press <keycombo
	      action="simul"><keycap>Ctrl</keycap><keycap>U</keycap>
	      </keycombo>
	      or choose
	      <menuchoice>
		<guimenu>Edit</guimenu>
		<guimenuitem>Undelete</guimenuitem>
	      </menuchoice>

	    </para>
	    <note>
	      <title>What does Undelete actually do?</title>
	      <para>
                If you have marked a message for deletion, undeleting
		it will unmark it, and the message will be removed
		from the Trash folder. However, it can't bring back
		messages that have been expunged.
	      </para>
	    </note>
	  </listitem>
	</orderedlist>
      </para>
    </sect2>
  </sect1>

  <sect1 id="usage-mail-getnsend-get">
    <title>Checking for New Mail</title>
    <para>
      Now that you've had a look around the
      <interface>Inbox</interface>, it's time to check for new mail.
      Click <guilabel>Send/Receive</guilabel> in the toolbar to check
      your mail.  If you haven't entered any mail settings yet, the
      <interface>setup assistant</interface> will ask you for the
      information it needs to check your email.
    </para>
    <para>
      The assistant will give you several dialog boxes where you configure:
      <itemizedlist>
	<listitem>
	  <para>
	    your personal information
	  </para>
	</listitem>
	<listitem>
	  <para>
	    your outgoing email server information
	  </para>
	</listitem>
	<listitem>
	  <para>
	    your mail account identity name
	  </para>
	</listitem>
      </itemizedlist>
    </para>


   <figure id="usage-mail-druid-pic">
	<title>Mail Setup Assistant</title>
	<screenshot>
	  <screeninfo>Mail Setup Assistant</screeninfo>
	    <mediaobject>
	      <imageobject>
		<imagedata fileref="figures/mail-druid-pic" format="PNG"
			   srccredit="Aaron Weber"/>
	      </imageobject>
	    </mediaobject>
	  </screenshot>
	</figure>


    <para>
      To check your email, press the <guilabel>Send/Receive</guilabel>
      button.  If this is your first time checking mail, or you
      haven't asked Evolution to store your
      password, you'll be prompted for the password.  Enter your
      password and your email will be downloaded.
    </para>
    <note id="badmailsettings">
      <title>Can't Check Mail?</title>
      <para>
	If you get an error message instead of mail, you probably need
	to check your network settings.  To learn how to do that, have
	a look at <xref linkend="config-prefs-mail"/>, or ask your
	system administrator.
       </para>
     </note>



          <tip>
            <title>Sharing Mailboxes with Other Mail Programs</title>
            <para>
              If you want to use Evolution
              and another email client, such as
              Mutt, at the same time,
              here's how:
              <orderedlist numeration="arabic">
                <listitem>
                   <para>
                      Download your mail in the other application as
                      you would normally.
                   </para>
                  </listitem>
                <listitem>
                   <para>
                      In Evolution, select
                      <menuchoice><guimenu>Tools</guimenu><guimenuitem>
                      Settings</guimenuitem></menuchoice>, go to the
                      Mail Accounts configuration tool, and pick the account
                      you'd like to use to share mail. You may want to
                      create a new account just for this source of
                      mail.
                   </para>
               </listitem>                     
               <listitem>
                   <para>
                      Under the <guilabel>Receiving Mail</guilabel>
                      tab, select the type of mail file that your
                      other mail application uses, and then enter the
                      full path to that location. A typical choice
                   would be mbox files, with the path /home/username/Mail/.
                 </para>
                  </listitem>
                <listitem>
                   <para>
                      Click the <guilabel>OK</guilabel> button.
                   </para>
                  </listitem>
                </orderedlist>
               </para>
            </tip>


       <sect2 id="usage-mail-getnsend-get-news">
	  <title>Using Evolution for News</title>
	<para>
	  Newsgroups are so similar to email that there's no reason not
	  to read them side by side.  If you want to do that, add a
	  news source to your configuration the same way you would add a mail
	account, selecting <guilabel>NNTP</guilabel> as the source type. 
	The news server will appear as a remote mail server, and each news
	group works like an IMAP folder.  When you click 
	<guilabel>Send/Receive</guilabel>, Evolution will 
	also check for news messages.
	</para>

        <para>
	  To subscribe to a news group, select <menuchoice>
	  <guimenu>Tools</guimenu> <guimenuitem>Subscribe To
	    Folders</guimenuitem></menuchoice> and select your NNTP account. Then, select
	  the groups you want to subscribe to.
	</para>
      


    </sect2>

     <sect2 id="usage-mail-getnsend-get-attach">
	 <title>Working with Attachments and HTML Mail</title>
	 <para>
	   If someone sends you an <glossterm linkend="attachment">attachment</glossterm>,
	   a file attached to an email,
	   Evolution will display the file
	   at the bottom of the message to which it's attached.  Text,
	   including HTML formatting and embedded images, will appear
	   as part of the message, rather than at the end of the
	   message as an attachment.
     </para>

     <sect3 id="usage-mail-getnsend-get-attach-actions">
     <title>Saving or Opening Attachments</title>
     <para>
        If you get an attachment with an email message,
        Ximian Evolution can help you save
        it or open it with the appropriate applications.
     </para>
     <para>
       To save an attachment to disk:
       <orderedlist numeration="arabic">
	 <listitem>
	   <para>
	     Click the downward pointing arrow on the attachment icon
	     and select <guimenuitem>Save As...</guimenuitem>.
	   </para>
	 </listitem>
	 <listitem>
	   <para>
	     Choose a location and name for the file.
	   </para>
	 </listitem>
	 <listitem>
	   <para>
	     Click <guilabel>OK</guilabel>.
	   </para>
	 </listitem>
       </orderedlist>
      </para>

      <para>
	To Open an Attachment in a Program:
	<orderedlist numeration="arabic">
	  <listitem>
	    <para>
	      Open the mail message with the attachment you want to read.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Click the arrow next the attachment icon.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Select the program you'd like to use. It will start up
	      and open the document.
	    </para>
	  </listitem>
	</orderedlist>
      </para>
      <para>
          The options available for an attachment will vary depending
        on the type of attachment. For example, attached email
        messages can be replied to or forwarded, while attached
        compressed archive files can be opened in the File Roller
        application.
      </para>
      </sect3>

      <sect3 id="usage-mail-getnsend-get-attach-html">
      <title>Inline Images in HTML Mail</title>
      <para>
         When someone sends you HTML mail that includes an image in
         the body of the message (for example, the welcome message in your
         Inbox) Evolution
         will display the image inside the message.  You can create
         messages like this by using the
         <menuchoice><guimenu>Insert</guimenu><guimenuitem>Image</guimenuitem></menuchoice>
         tool in the message composer (you must have HTML mail enabled
         to do this-- select
         <menuchoice><guimenu>Format</guimenu><guimenuitem>HTML</guimenuitem></menuchoice>
         to turn HTML composition on and off). Alternately, just drag
         an image into the message composition area.
      </para>

      <para>
         If the image isn't included in the message, but is, instead,
         a link to an image, Evolution can 
         download the image from the Internet for you.  However,
         Evolution will not display the
         image unless you ask it to. This is because remotely hosted
         images can be slow to load and display, and can even be used
         by spammers to track who reads their email.  Having images
         not load automatically helps protect your privacy.
      </para>
      <para>
	 If you want the images to load for one message, select 
	 <menuchoice>
	   <guimenu>View</guimenu>
	   <guisubmenu>Message Display</guisubmenu>
	   <guimenuitem>Load Images</guimenuitem>
         </menuchoice>.  

         If you want Ximian Evolution to
         load remotely hosted images more often, select
         <menuchoice>
	   <guimenu>Tools</guimenu>
           <guimenuitem>Settings</guimenuitem> </menuchoice> and click the <guilabel>Mail Preferences</guilabel>
	   button. There, click the <guilabel>HTML
           Mail</guilabel> tab and select one of the items there:
           <guilabel>Never load images off the net</guilabel>,
           <guilabel>Load images in mail from contacts</guilabel>, or <guilabel>Always load images off the
           net.</guilabel>
      </para>
      <note id="http-proxy">
	<title>Loading Images from the Net through an HTTP Proxy</title>
        <para>
           If you use an HTTP proxy (as in many large organizations),
          Evolution must be able to find
           it through the <systemitem>gnome-vfs</systemitem> subsystem
           before it can load images from the Internet.  This is also
           the case if you wish to access weather and news information
           through the Summary tool. 
         </para>
         <para>
           If you are using GNOME 1.4, you will need to configure this
           in the Nautilus <guilabel>Preferences</guilabel>
         dialog. However, in GNOME 2.0 and later, you can use the
         GNOME Control Center. Select
         <menuchoice><guimenu>System</guimenu><guimenuitem>Settings</guimenuitem></menuchoice>
         from your menu panel or from the GNOME menu, and then click
         the <guilabel>Network Proxies</guilabel> button in the
         <guilabel>System Settings</guilabel> category. Select the
         <guilabel>Use an HTTP network proxy</guilabel> check box and
         then enter information about your proxy. If you are not sure,
         check with your ISP or system administrator.
       </para>
      </note>
     </sect3>
    </sect2>
  </sect1>

    <sect1 id="usage-mail-getnsend-send">
      <title>Composing New Email Messages</title>
      <para>
         You can start writing a new email message by selecting
         <menuchoice> <guimenu>File</guimenu>
         <guisubmenu>New</guisubmenu> <guimenuitem>
         Mail Message</guimenuitem></menuchoice>, or by pressing the
         <guilabel>New</guilabel> button in the Inbox toolbar.
         When you do so, the <interface>New Message</interface> window
         will open, as shown in <xref
         linkend="usage-mail-newmsg-fig"/>.
      </para>

<!--   ==============Figure=================================== -->
      <figure id="usage-mail-newmsg-fig">
        <title>New Message Window</title>
        <screenshot>
          <screeninfo>Evolution Main Window</screeninfo>
          <mediaobject><imageobject><imagedata fileref="figures/newmsg" format="PNG" srccredit="Aaron Weber"/>
        </imageobject></mediaobject>
        </screenshot>
      </figure>
<!-- ==============End of Figure=================================== -->

      <para>
      Enter an address in the <guilabel>To:</guilabel> field.  If you
      wish, enter a subject in the <guilabel>Subject:</guilabel>, and
      a message in the box at the bottom of the window.
      Once you have written your message, press
      <guilabel>Send</guilabel>.
    </para>


    <sect2 id="usage-mail-getnsend-send-charsets">
      <title>Unicode, ASCII, and Non-Latin Alphabets</title>

      <para>
        If you want to write in a non-Latin alphabet while using a
        Latin keyboard, try selecting a different an input method in
        the message composer. Right-click on the message composition
        area and select from the <guimenu>Input Methods</guimenu>
      menu, then begin typing. The actual keys vary by language and
      input style. For example, the Cyrillic input method uses
      transliterated Latin keyboard combinations to get the Cyrillic
      alphabet, combining letters where necessary. "Zh" and "ya"
      produce the appropriate single Cyrillic letters, and the
      single-quote ' produces a soft-sign character.
    </para>

      <para>
        For greater language display capabilities, check your
        character settings. In both the mail composer and mail reader
        settings dialogs, you can select from dozens of character
        sets. If you aren't sure which one to choose, go ahead and
        choose UTF-8, which offers the greatest range of character
        displays for the greatest range of languages.
      </para>

      <para>
        To delve a little deeper into the issue, a character set is a
        computer's version of an alphabet. One of the most popular
        early character sets was called ASCII. It consisted of 128
        numbers, letters, and assorted symbols used by computers for
        almost everything. It was convenient, and didn't take up much
        space, but it didn't handle Cyrillic, Kanjii, or other
        non-Latin alphabets. Programmers developed a
        variety of mostly incompatible ways to work around their
        language display problems, and today, many human languages
        have their own specific character sets, and items written in
        other character sets will display incorrectly.  Eventually,
        standards organizations developed the Unicode character sets
        (UTF-7 and UTF-8) to provide a single compatible set of codes
        for everyone.
      </para>

      <para>
        Most email messages state in advance which character set they
        use, so Evolution usually knows what to display for a given
        binary number. However, if you find that messages are
        displayed as rows of incomprehensible characters, try
        selecting a different character set in the mail settings
        screen. If your recipients can't read your messages, try
        selecting a different character set in the composer options
        dialog.  For some languages, such as Turkish or Korean, it may
        work best for you to select the language-specific character
        set. However, the best choice for most users is UTF-8, which
        offers the widest range of characters for the widest range of
        languages.
      </para>

    </sect2>

  
     <sect2 id="usage-mail-getnsend-send-delay">
        <title>Sending Composed Messages Later</title>
        <para>
           Evolution will normally send
           mail as soon as you click the <guilabel>Send</guilabel>
           button. However, there are a few ways you can save a
           message to be sent later:

       <itemizedlist>
          <listitem>
             <para>
                If you are offline,
                Evolution will add your
                messages to the <guilabel>Outbox</guilabel> queue. The
                next time you connect to the Internet and send or
                receive mail, that message will be sent.
            </para>
           </listitem>

        <listitem><para>
          Choose
	  <menuchoice>
	   <guimenu>File</guimenu>
	    <guimenuitem>Save Draft</guimenuitem>
          </menuchoice>
          to store your messages in the drafts folder for later
          revision.
       </para></listitem>

        <listitem><para> 
         If you prefer to save your message as a text file,
         choose <guimenuitem>Save As</guimenuitem> and then choose a
         file name.
           </para>
	  </listitem>
	</itemizedlist>
      </para>
    </sect2>

    <sect2 id="usage-mail-getnsend-offline">
      <title>Working Offline</title>
    
      <para>
        Offline mode is a tool designed for use with remote mail
        storage systems like GroupWise, IMAP or Exchange,
        in situations where you will not be connected to
        the network at all times. It will keep a local copy of one or
        more folders, and allow you to compose messages, storing them
        in your Outbox to be sent the next time you connect.
      </para>
     
      <para>
        While POP mail downloads all messages to your local system,
        other connections usually download just the headers, and fetch
        the rest only when you want to read the message.  Before you
        go offline, Evolution will download the unread messages from
        the folders you have chosen to store.
      </para>

      <para>
        To mark a folder for offline use, select <menuchoice>
        <guimenu>Tools</guimenu>
        <guimenuitem>Settings</guimenuitem> </menuchoice> and then
        click the <guilabel>Folder Settings</guilabel> icon. In the
        <guilabel>Offline Folders</guilabel> tab, click the check-box
        next to the folders that you would like to use while you are
        offline. 
      </para>

      <para>
        Your connection status is shown by the small icon in the lower
        left border of the Evolution main window. When you are online,
        it will display two connected cables. When you go offline, the
        cables will separate. 
      </para>

      <para>
        To cache your selected folders and disconnect from the
        network, select <menuchoice><guimenu>File</guimenu><guimenuitem>Work
        Offline</guimenuitem></menuchoice> or click the
        connection status icon in the lower left of the screen. When you
        want to reconnect, choose
        <menuchoice><guimenu>File</guimenu><guimenuitem>Work
        Online</guimenuitem></menuchoice> or click the connection
        status icon again.
      </para>
           
       </sect2>
    <sect2 id="usage-mail-getnsend-send-compose">
      <title>More About Mail Composition</title>
      <para>
        In the next few sections, you'll see how
	Evolution handles advanced email
	features, including large recipient lists, attachments, and
	forwarding.
      </para>
      <sect3 id="usage-mail-getnsend-send-attach">
        <title>Attachments</title>
        <para>
	  To attach a file to your email:
	  <orderedlist numeration="arabic">
	    <listitem>
	      <para>
		Push the attach button in the composer toolbar
	      </para>
	    </listitem>
	    <listitem>
	      <para>
		Select the file you want to attach
	      </para>
	    </listitem>
	    <listitem>
	      <para>
		Press <guilabel>OK</guilabel>
	      </para>
	    </listitem>
	  </orderedlist>
	</para>
	<para>
          You can drag a file into the address area or to the
          attachment portion of the composer
          window. If you are attaching an image and wish to send it
          inline rather than attached, drag the image into the text
          composition area of the composer window. Non-image files
          cannot be dragged into the text composition area.
        </para>
        <para>
           The attachment display area is at the bottom of the
          composer window; you can expand or shrink it by clicking the
          small triangle in its upper right corner.
        </para>
        <para>
            When you send the message, a copy of the attached file
            will go with it.  Be aware that big attachments may take a
          long time to send and receive.
        </para>
       </sect3>

      <sect3 id="usage-mail-getnsend-send-to-types">
	<title>Specifying Recipients for Email</title>
        <para>
	  Evolution, like most email
	   programs, recognizes three types of addressee: primary
	   recipients, secondary recipients, and hidden ("blind")
	   recipients.
         </para>
         <para>
            The simplest way to direct a message is to put the email
            address or addresses in the <guilabel>To:</guilabel>
            field, which denotes primary recipients.  To send mail to
            more than one or two people, you can use the
            <guilabel>Cc:</guilabel> field.
          </para>
          <para>
            Hearkening back to the dark ages when people used
            typewriters and there were no copy machines, "Cc" stands
            for "Carbon Copy."  Use it whenever you want to share a
            message you've written to someone else.
          </para>
          <para>
            <guilabel>Bcc:</guilabel> is a little more complex.  You
            use it like <guilabel>Cc:</guilabel>, but people on the
            <guilabel>Bcc:</guilabel> list are hidden from the other
            recipients of the message. Use it to send mail to large
            groups of people, especially if they don't know each other
            or if privacy is a concern.  If your <guilabel>Bcc:</guilabel> field is absent, click
	    <menuchoice>
	      <guimenu>View</guimenu>
	      <guimenuitem>Bcc Field</guimenuitem>
	    </menuchoice>.
		
          </para>

         <para>
           If you frequently write email to the same groups of people,
           you can create address lists in the contacts tool, and
           then send them mail as though they had a single address.
           To learn how to do that, read <xref
           linkend="usage-contact-organize-group-list"/>.
        </para>

	<tip id="reply-to-per-mail">
	  <title>Setting Reply-to On a Per-Mail Basis</title>
	  <para>
	    Evolution has the ability to
	    let you specify the Reply-To in an email. Using this, you
	    can setup a special Reply-To for an email.  To do this:
	    <orderedlist numeration="arabic">
	      <listitem>
                <para>
		  Open a composer window
			 </para>
			 </listitem>
			 <listitem>
			 <para>
			 Open the Reply-To field by selecting
			 <menuchoice>
			 <guimenu>View</guimenu>
			 <guimenuitem>Reply To</guimenuitem>
			 </menuchoice>
			 </para>
			 </listitem>
			 <listitem>
			 <para>
			 Enter the address you wish to have be the
			 Reply-To address in the new Reply-To field.
			 </para>
			 </listitem>
			 </orderedlist>			 
	  </para>
	</tip>
        </sect3>
			 
        <sect3 id="usage-mail-getnsend-send-to">
	      <title>Choosing Recipients Quickly</title>
	      <para>
		If you have created address cards in the contacts tool,
          you can also enter nicknames or other portions of address
          data, and Evolution will offer a
          drop down list of possible address completions from your
          contacts.  If you enter a name or nickname that can go
          with more than one card, Evolution will open a dialog box to
          ask you which person you meant. 

          </para>

	<para>
	 If Evolution does not complete addresses automatically, select
	  <menuchoice><guimenu>Tools</guimenu><guimenuitem>Settings</guimenuitem></menuchoice>
          and click the <guilabel>Autocompletion</guilabel>
          button. There, select the groups of contacts you want to use
          for address autocompletion in the mailer.
       </para>

          <para>
            Alternately, you can click on the
            <guilabel>To:</guilabel>, <guilabel>Cc:</guilabel>, or
            <guilabel>Bcc:</guilabel> buttons to get a list 
	    of the email addresses
            in your contacts.  Select addresses and click on
            the arrows to move them into the appropriate address
            columns.
          </para>
          <para>
            For more information about using email together with the
            contact manager and the calendar, see <xref
            linkend="contact-automation-basic"/> and <xref
            linkend="usage-calendar-apts"/>.
          </para>
        </sect3>
      </sect2>

      <sect2 id="usage-mail-getnsend-send-reply">
        <title>Replying to Email Messages</title>
        <para>
           To reply to a message, press the
           <guilabel>Reply</guilabel> button while it is selected,
           or choose <guimenuitem>Reply to Sender</guimenuitem> from
           the message's right-click menu.  That will open the
           <interface>message composer</interface>.  The
           <guilabel>To:</guilabel> and <guilabel>Subject:</guilabel>
           fields will already be filled, although you can alter them
           if you wish.  In addition, the full text of the old message
           is inserted into the new message, either in grey with a
           blue line to one side (for HTML display) or with the &gt;
           character before each line (in plain text mode), to
           indicate that it's part of the previous message.  People
           often intersperse their message with the quoted material as
           shown in <xref linkend="usage-mail-getnsend-reply-fig"/>.

 <!-- ==============Figure=================================== -->
       <figure id="usage-mail-getnsend-reply-fig">
         <title>Reply Message Window</title>
         <screenshot>
          <screeninfo>Evolution Main Window</screeninfo>
          <mediaobject><imageobject><imagedata fileref="figures/replymsg" format="PNG" srccredit="Aaron Weber"/>
        </imageobject></mediaobject>
        </screenshot>
      </figure>
<!-- ==============End of Figure=================================== -->
        </para>
        <para>
          If you're reading a message with several recipients, you may
           wish to use <guilabel>Reply to All</guilabel> instead of
           <guilabel>Reply</guilabel>.  If there are large numbers
           of people in the <guilabel>Cc:</guilabel> or
           <guilabel>To:</guilabel> fields, this can save substantial
           amounts of time.
          <example>
            <title>Using the Reply to All feature</title>
            <para>
              Susan sends an email to a client and sends copies to Tim
              and to an internal company mailing list of co-workers.
              If Tim wants to make a comment for all of them to read,
              he uses <guilabel>Reply to All</guilabel>, but if he
              just wants to tell Susan that he agrees with her, he
              uses <guilabel>Reply</guilabel>.  Note that his reply
              will not reach anyone that Susan put on her
              <guilabel>Bcc</guilabel> list, since that list is not
              shared with anyone.
            </para>
          </example>
        </para>
        <para>
          If you're subscribed to a mailing list, and want your reply
          to go just to the list, rather than to the sender, choose
          <guilabel>Reply to List</guilabel> instead of
          <guilabel>Reply</guilabel> or <guilabel>Reply to
          All</guilabel>.
          <note>
            <title>What is a Mailing List?</title>
            <para>
              Mailing Lists are one of the most popular tools for
              group collaboration on the Internet. Here's how they work: 
              <simplelist>
                <member>
                  Someone sends a message to a single address, like
                  <email>evolution@ximian.com</email>.
                </member>
                <member>
                  That address belongs to a program that distributes
                  the message to a list of recipients.
                </member>
             </simplelist>
               The mail management program lets individuals subscribe
               to or unsubscribe from the list at will, without
               requiring the message writers to remember the addresses
               of every recipient.
            </para>
            <para>
              Mailing list servers can also let network administrators
              control mail flow, list membership, and even moderate
              the content of mailing lists.
            </para>
          </note>
        </para>
      </sect2>

      <sect2 id="usage-mail-getnsend-send-find">
        <title>Searching and Replacing with the Composer</title>
        <para>
           You are probably familiar with search and replace features
           in any sort of text-editing software, and if you come from
           a Linux or Unix background, you may know what
           <guimenuitem>Find Regex</guimenuitem> does.  If you aren't
           among the lucky who already know, here's a quick rundown of
           the automated text searching features that the message
           composer makes available to you.
        </para>
        <para>
           <variablelist>
            <varlistentry>
              <term><guimenuitem>Find</guimenuitem></term>
              <listitem><para> Enter a word or phrase, and
              Evolution will find it
              in your message.
              </para></listitem>
            </varlistentry>

            <varlistentry>
              <term><guimenuitem>Find Regex</guimenuitem></term>
              <listitem>
                <para>
                  Find a regex, also called a
                  <glossterm linkend="regular-expression">regular
                  expression</glossterm>, in your composer window.
               </para>
             </listitem>
            </varlistentry>

            <varlistentry>
              <term><guimenuitem>Find Again</guimenuitem></term>
              <listitem><para>
                   Select this item to repeat the last search you performed.
              </para></listitem>
            </varlistentry>

            <varlistentry>
               <term><guimenuitem>Replace</guimenuitem></term>
               <listitem><para>
                 Find a word or phrase, and replace it with
                 something else.
               </para></listitem>
            </varlistentry>

          </variablelist>
        </para>

        <para>
            For all of these menu items, you can choose whether or not
            to <guilabel>Search Backwards</guilabel> in the document
            from the point where your cursor is.  For all but the
            regular expression search (which doesn't need it), you are
            offered a check box to determine whether the search is to
            be <guilabel>Case Sensitive</guilabel> when it determines
            a match.
        </para>
      </sect2>

      <sect2 id="usage-mail-getnsend-send-html">
        <title>Enhance your email with HTML</title>
        <para>
            Normally, you can't set text styles or insert pictures in
            emails, which is why email is often regarded as
            uncommunicative and cold, and why people often resort to
            using far too many exclamation points to convey their
            feelings.  However, most newer email programs can display
            images and text styles as well as basic alignment and
            paragraph formatting. They do this with <glossterm
            linkend="html">HTML</glossterm>, just like web pages do.
        </para>
        <note>
          <title>HTML Mail is not a Default Setting</title>
          <para>
            Some people do not have HTML-capable mail clients, or
            prefer not to receive HTML-enhanced mail because it is
            slower to download and display. Because some people may
            prefer not to get HTML mail,
            Evolution sends plain text
            unless you explicitly ask for HTML.  
           </para>
	 </note>

	 <para> You can change the format of an email message between
            plain text and HTML by choosing <menuchoice>
            <guimenu>Format</guimenu> <guimenuitem>
            HTML</guimenuitem></menuchoice>.
	  </para>
	  <para>
            To send all your mail as HTML by default, set your mail
            format preferences in the mail configuration dialog.  See
            <xref linkend="config-prefs-mail-composer"/> for more
            information.
      </para>
      <para>
	HTML formatting tools are located in the toolbar just above
	the space where you'll actually compose the message, and
	they also appear in the <guimenu>Insert</guimenu> and
	<guimenu>Format</guimenu> menus.
      </para>
      <para>
	The icons in the toolbar are explained in <glossterm
            linkend="tooltip">tool-tips</glossterm>, which appear when
            you hold your mouse over the buttons.  The buttons fall
            into four categories:
            <variablelist>
             <varlistentry>
             <term>Headers and lists</term>
              <listitem>
                <para>
                  At the left edge of the toolbar, you can choose
                  <guilabel>Normal</guilabel> for a default text style
                  or <guilabel>Header 1</guilabel> through
                  <guilabel>Header 6</guilabel> for varying sizes of
                  header from large (1) to tiny (6). Other styles
                  include <guilabel>preformat</guilabel>, to use the HTML
                  tag for preformatted blocks of text, and three types
                  of bullet points for the highly
                  organized.
                </para>
	      <tip>
		<title>Using Bullets to Make Your Email More
		Attractive</title>
		<para>
		  Instead of using asterisks to mark a bulleted list,
		  try the Bulleted List style from the style dropdown
		  list.  Evolution uses
		  more attractive bullets and handles word wrap and
		  multiple levels of indentation.
		</para>
	      </tip>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term>Text style</term>
	    <listitem>
	      <para>
		Use these buttons to determine the way your letters
		look.  If you have text selected, the style will
		apply to the selected text.  If you do not have text
		selected, the style will apply to whatever you type
		next.  The buttons are:
		<itemizedlist mark="none">
		  <listitem><para>Push <guiicon>bold A</guiicon> for bold text</para></listitem>
		  <listitem><para>Push <guiicon>italic A</guiicon> for italics</para></listitem>
		  <listitem><para>Push <guiicon>underlined A</guiicon> to underline</para></listitem>
		  <listitem><para>Push <guiicon>strikethrough A</guiicon> for a strikethrough.</para></listitem>
		</itemizedlist>
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
              <term>Alignment</term>
	    <listitem>
	      <para>
		Located next to the text style buttons, these three
		paragraph icons should be familiar to users of most
		word processing software.  The leftmost button will
		make your text aligned to the left, the center
		button, centered, and the right hand button,
		aligned on the right side.
	      </para>
	    </listitem>
	  </varlistentry>

            <varlistentry>
              <term>Indentation rules</term>
              <listitem>
                <para>
                  The button with the arrow pointing left will reduce
                  a paragraph's indentation, and the right arrow will
                  increase its indentation.
               </para>
            </listitem>
          </varlistentry>

            <varlistentry>
              <term>Color Selection</term>
              <listitem>
                <para>
                  At the far right is the color section tool.  The
                  colored box displays the current text color; to
                  choose a new one, click the arrow button just to the
                  right. If you have text selected, the color will
                  apply to the selected text.  If you do not have text
                  selected, the color will apply to whatever you type
                  next.  You can select a background color or image by
                  right-clicking on the message background and
                  selecting <menuchoice> <guimenu>Style</guimenu> 
                  <guimenuitem>Page Style</guimenuitem>
                   </menuchoice>.
               </para>
            </listitem>
          </varlistentry>
          </variablelist>
        </para>
        <para>
	The <guimenu>Insert</guimenu> gives you opinions which let you
           spruce up your email to make it more interesting:
	<variablelist>
	  <varlistentry>
	    <term><guimenuitem>Insert Link</guimenuitem></term>
	    <listitem>
	      <para>
		Lets you link some text to a website.  Use this tool to put hyperlinks in your HTML
                  messages.  If you don't want special link text, you can just enter the address
                  directly, and Evolution
                  will recognize it as a link.  To add a link, first make sure you have enabled
                  HTML mode by selecting <menuchoice> <guimenu>Format</guimenu> <guimenuitem>
                    HTML</guimenuitem></menuchoice>.
		<orderedlist numeration="arabic">
		  <listitem>
		    <para>
		      Select the text you wish to link from.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      Right click on the text and click on <guilabel>Link</guilabel>.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      Put the URL you want to use in the <guilabel>URL</guilabel> field.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      Click <guilabel>OK</guilabel>.
		    </para>
		  </listitem>
		</orderedlist>
	      </para>
	      <note>
		<para>
		  If you're typing a web page address to be automatically formatted, keep in mind that a space terminates the link.
		</para>
	      </note>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><guimenuitem>Insert Image</guimenuitem></term>
	    <listitem>
	      <para>
		Lets you put an image alongside text.
	      </para>
	      <para>
		To insert an image into your email:
		<orderedlist numeration="arabic">
		  <listitem>
		    <para>
		      Make sure that you have the
		      <menuchoice>
			<guimenu>Format</guimenu>
			<guimenuitem>HTML</guimenuitem>
		      </menuchoice>
                      selector checked.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      Click the <guilabel>Insert Image</guilabel> button in the toolbar, or select		   
		         <menuchoice>
			<guimenu>Insert</guimenu>
			<guimenuitem>Image</guimenuitem>
		      </menuchoice>.
		      </para>
		  </listitem>
		  <listitem>
		    <para>
		      Choose your image by clicking the <guilabel>Browse</guilabel> button.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      Press <guilabel>Insert</guilabel> to insert the image.
		    </para>
		  </listitem>
		</orderedlist>
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><guimenuitem>Insert Rule</guimenuitem></term>
	    <listitem>
	      <para>
		Inserts a horizontal line into the text to help divide two
		sections.
	      </para>
	      <para>
		To insert a rule:
		<orderedlist numeration="arabic">
       		  <listitem>
		    <para>
		      Make sure that you have the
		      <menuchoice>
			<guimenu>Format</guimenu>
			<guimenuitem>HTML</guimenuitem>
		      </menuchoice>
                      selector checked.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      Click the <guilabel>Rule</guilabel> button in the <guilabel>Toolbar</guilabel>.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      Select the type of rule. You can use a plain
		      line, a 3D line, or a yellow line with flowers.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      Choose the size of the line, as a percentage of the width of the email window.
		    </para>
		  </listitem>

		  <listitem>
		    <para>
		      Choose the alignment and style.  For the plain
		      line, you can choose the thickness of the line,
		      and whether it will be shaded, or solid.  For the
		      other types, you can only choose alignment.
		    </para>
		  </listitem>

		  <listitem>
		    <para>
		      Click <guilabel>Insert</guilabel> to insert the rule.
		    </para>
		  </listitem>
		</orderedlist>
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
            <term><guimenuitem>Insert Table</guimenuitem></term>
	    <listitem>
	      <para>
		Inserts a table into the text to help divide two
		sections.
	      </para>
	      <para>
		To insert a table:
		<orderedlist numeration="arabic">
		  <listitem>
		    <para>
		      Make sure that you have the
		      <menuchoice>
			<guimenu>Format</guimenu>
			<guimenuitem>HTML</guimenuitem>
		      </menuchoice>
                      selector checked.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      Click the <guilabel>Table</guilabel> button in the <guilabel>Toolbar</guilabel>.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      Select the table <guilabel>Template</guilabel>
                    you wish to use.  Each has a slightly different feel and
                    layout.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
                      If you so desire, you may change the number of
                      rows, columns, spacing of each cell, and so forth.
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      Click the <guilabel>Insert</guilabel> button.
		    </para>
		  </listitem>
		</orderedlist>
	      </para>

                <para>
                  Once the table is in place, you can right-click on
                  it and get a list of ways to alter it, such as
                  changing its background color, expanding it, or
                  deleting a row or cell.
                </para>
	    </listitem>
	  </varlistentry>
          <varlistentry>
            <term><guimenuitem>Templates</guimenuitem></term>
            <listitem>
              <para>
                Evolution not only allows you to
                decorate your email with HTML text and graphics, but
                provides you with prebuilt templates for you to use when
                making these improvements.  You can use these to emphasize a
                point or frame an image in an attractive manner.
              </para>
              <para>
                To include a template into your HTML based email:
                <orderedlist numeration="arabic">
                  <listitem>
                    <para>
                      Make sure that the
		<menuchoice>
		  <guimenu>
		    Format
		  </guimenu>
		  <guimenuitem>
		    HTML
		  </guimenuitem>
		</menuchoice>
		selector is checked.
	      </para>
	    </listitem>
	    <listitem>
	      <para>
		Click the <guilabel>HTML Template</guilabel> button in the 
		<guilabel>Toolbar</guilabel> or select 		
		<menuchoice>
		  <guimenu>
		  Insert
		  </guimenu>
		  <guimenuitem>
		    Template
		  </guimenuitem>
		</menuchoice>
	      </para>
	    </listitem>
	    <listitem>
	      <para>
		Select the template type in the
		<guilabel>Template</guilabel> selection box. Your
		options are <guilabel>Note</guilabel> and
		<guilabel>Image Frame</guilabel>.  
	      </para>
	    </listitem>
	    <listitem>
	      <para>
		Set the size and alignment of the HTML template.
	      </para>
	    </listitem>

	    <listitem>
	      <para>
		Click <guilabel>Insert</guilabel> to insert it where the 
		cursor is.
	      </para>
	    </listitem>
	    <listitem>
	      <para>
		Click on the text in the template, and enter the text
		you want to use.
              </para>
	      <para>
		If you have selected an image frame template,
		right-click on the image and select
		<guimenuitem>Image</guimenuitem> to select the image
		you want to place in the frame.
	      </para>
	    </listitem>
	  </orderedlist>
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
</para>
</sect2>
    
    <sect2 id="usage-mail-getnsend-fwd">
        <title>Forwarding Mail</title>
        <para>
          The post office forwards your mail for you when you change
          addresses, and you can forward a letter if it comes to you by mistake.
          The email <guilabel>Forward</guilabel> button
          works in much the same way.  It's particularly useful if you
          have received a message and you think someone else would
          like to see it.  You can forward a message as an attachment
          to a new message (this is the default) or
          you can send it <glossterm linkend="inline">inline</glossterm> as a quoted
          portion of the message you are sending.  Attachment
          forwarding is best if you want to send the full, unaltered
          message on to someone else.  Inline forwarding is best if
          you want to send portions of a message, or if you have a
          large number of comments on different sections of the
          message you are forwarding.  Remember to note from whom the
          message came, and where, if at all, you have removed or
          altered content.
        </para>
        <para>
          To forward a message you are reading, press
          <guilabel>Forward</guilabel> on the toolbar, select
          <menuchoice> <guimenu>Actions</guimenu>
          <guimenuitem>Forward</guimenuitem> </menuchoice>, or press
          <keycombo
action="simul"><keycap>Ctrl</keycap><keycap>J</keycap></keycombo>.  If
          you prefer to forward the message <glossterm
          linkend="inline">inline</glossterm>
          instead of attached, select <menuchoice>
          <guimenu>Actions</guimenu><guisubmenu>Forward</guisubmenu><guimenuitem>
          Inline</guimenuitem> </menuchoice> from the menu.  Choose an
          addressee as you would when sending a new message; the
          subject will already be entered, although you can alter it
          if you wish.  Enter your comments on the message in the
          <interface>composition frame</interface>, and press
          <guilabel>Send</guilabel>.
        </para>
      </sect2>

      <sect2 id="usage-mail-getnsend-ettiquette">
        <title>Seven Tips for Email Courtesy</title>
        <para>

          <itemizedlist>
            <listitem>
              <para>
                 Don't forward chain letters.  If you must, watch out for
                hoaxes and urban legends, and make sure the message
                doesn't have multiple layers of greater-than signs,
                (&gt;) indicating multiple layers of careless in-line
                forwarding.
              </para>
            </listitem>

            <listitem>
              <para>
                Always begin and close with a salutation. Say "please"
                and "thank you," just like you do in real life. You
                can keep your pleasantries short, but be pleasant!
              </para>
            </listitem>

            <listitem>
              <para>
                WRITING IN CAPITAL LETTERS MEANS YOU'RE SHOUTING!
                Don't write a whole message in capital letters.  It
                hurts people's ears.
              </para>
            </listitem>

            <listitem>
              <para>
               Check your spelling and use complete sentences. By
               default, Evolution will put
               a red line beneath words it doesn't recognize, as you
               type them.
              </para>
            </listitem>

            <listitem>
              <para>
                Don't send nasty emails (flames).  If you get one,
                don't write back.
              </para>
            </listitem>
	  
	  <listitem>
	    <para>
	      When you reply or forward, include just enough of
	      the previous message to provide context: not too
	      much, not too little.
	    </para>
	  </listitem>

	  <listitem>
	    <para>
	      Don't send spam.
	    </para>
	  </listitem>
	</itemizedlist>
      </para>
    </sect2>
  </sect1>
  <sect1 id="rsvp-stuff">
    <title>RSVPs in Mail</title>
    <para>
      If you create an event in the calendar component, you can then
      send invitations to the attendee list through the
      Ximian Evolution email tool.  The
      invitation card is sent as an attachment in iCal format.
    </para>
    <para>
      If you click on the attachment button and click the
      <guimenuitem>View Inline</guimenuitem>, Ximian
      Evolution will show you information about the
      meeting, and let you respond to the meeting in several ways.
      Select the response that you would like, and then click the
      <guilabel>OK</guilabel> button.
   </para>
   <para>
  Your options are:
      <variablelist>
	<varlistentry>
	  <term>Accept</term>
	  <listitem>
	    <para>
	  Select this entry if you will attend the meeting.  When you
	  click the <guilabel>OK</guilabel> button, the meeting will
	  be entered into your calendar.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Tentatively Accept</term>
	  <listitem>
	    <para>
	  Select this entry if you will probably attend the meeting.
	  When you click the <guilabel>OK</guilabel> button, the
	  meeting will be entered into your calendar, but marked as
	  tentative.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Decline</term>
	  <listitem>
	    <para>
	  Select this item if you will be unable to attend the
	  meeting. The meeting will not be entered into your calendar
	  when you click the <guilabel>OK</guilabel>, although your
	  response will be sent to the meeting host if you have
	  checked the <guilabel>RSVP</guilabel> box.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>RSVP</term>
	  <listitem>
	    <para>
	     Check this box if you would like your response sent to
	     the meeting organizers.
	    </para>
	  </listitem>
	</varlistentry>
     </variablelist>
    </para>
  </sect1>

  <sect1 id="usage-mail-subscriptions">
    <title>Subscription Management</title>
    <para>
      Since IMAP folders exist on the server, and opening them or
      checking them takes time, you need fine-grained control over the
      way that you use IMAP folders.  That's why
      Evolution has an IMAP subscriptions
      manager.  If you prefer to have every mail folder displayed, you
      can select that option as well. However, if you'd like to choose
      specific items in your mailbox, and exclude others, you can use
      the subscription management tool to do that.
    </para>
    <para>
    Here's how:
      <orderedlist numeration="arabic">
	
	<listitem>
	  <para>
	   Select
	   <menuchoice><guimenu>Tools</guimenu><guimenuitem>Subscribe
	   to Folders</guimenuitem></menuchoice>.
	  </para>
	</listitem>

	<listitem>
	  <para>
	    If you have accounts on multiple IMAP servers, select the
	    server where you'd like to manage your
	    subscriptions. Evolution will
	    display a list of available files and folders.
	  </para>
	</listitem>

	<listitem>
	  <para>
            Select a file or folder by clicking on it.  You will want
            to select at least the <guilabel>INBOX</guilabel>
            folder. Depending upon the way your IMAP server is
            configured, the list of available files may include
            non-mail folders. If it does, you can ignore them.
	  </para>
	</listitem>

	<listitem>
	  <para>
	    Click the <guilabel>Subscribe</guilabel> to add it to
	    the subscribed list.
	  </para>
	</listitem>
	<listitem>
	  <para>
	    When you have subscribed to the folders you want, close
	    the window.
	  </para>
	</listitem>
      </orderedlist>
    </para>
  </sect1>

  <sect1 id="encryption">
    <title>Encryption</title>
    <sect2 id="encryption-whatis">
      <title>What is Encryption?</title>
      <para>
	Encryption is an ancient method of keeping information safe
	from prying eyes. Evolution helps
	you you protect your privacy by using
	gpg, an implementation of strong
	<glossterm linkend="public-key-encryption">Public Key
	Encryption.</glossterm>
      </para>

	<note id="pub-priv">
	  <title>Public Key?  Private Key?  What is the difference?</title>
	  <para>
	    GPG uses two keys: public and private.  You can give your
	    public key to anyone you want to receive
	    encrypted messages, or put it on a public key server so
	    that people can look it up before contacting you.
	    <emphasis>Never give your private key to anyone,
	    ever</emphasis>.  Your private key lets you decrypt any
	    message encrypted with your public key.
	  </para>
 	</note>

      <para>
        Using encryption takes a bit of forethought.  When you send a
        message that is encrypted, you must encrypt it using your
        intended recipient's public key.  To <emphasis>get</emphasis>
        an encrypted message, you must make sure that the sender has
        your public key in advance. For signing messages, it's
        reversed: you encrypt the signature with your private key, so
        only your public key can unlock it. When you send it, the
        recipient gets your public key and unlocks the signature,
        verifying your identity.
      </para>

      <para>
	You can use encryption in two different ways:
        <itemizedlist>
          <listitem>
            <para>

             Encrypt the entire message, so that nobody but the recipient can read it.
            </para>
          </listitem>
          <listitem>
            <para>
            Attach an encrypted signature to a plain text message, so
            that the recipient can read the message without decrypting
            it, and only needs decryption to verify the sender's
            identity.
            </para>
          </listitem> 
        </itemizedlist>
      </para>

	<example> 
         <title>Sending an Encrypted Message</title>
	  <para>
	    Kevin wants to send an encrypted message to his friend
	    Rachel.  He looks up her public key on a general key
	    server, and then tells
	    Evolution to encrypt the
	    message.  The message now reads "@#$23ui7yr87#@!48970fsd."
	    When the information gets to Rachel, she decrypts it using
	    her private key, and it appears as plain text for her to
	    read.
	  </para>
	</example>
      <tip id="always-sign">
	<title>Always Sign</title>
	<para>
	  You can set Evolution to always sign your email messages:
	  <orderedlist numeration="arabic">
	    <listitem>
	      <para>
                Select
                <menuchoice>
                  <guimenu>Tools</guimenu>
                  <guimenuitem>Settings</guimenuitem>
                </menuchoice>, go to the Mail Account settings, and
                select the account with which you want to use encryption.
	      </para>
	    </listitem>
	    <listitem>
	      <para>
		Open the <guilabel>Security</guilabel> tab.
	      </para>
	    </listitem>
	    <listitem>
	      <para>
		Click the <guilabel>Always sign outgoing messages when using this account</guilabel> button.
	      </para>
	    </listitem>
	  </orderedlist>
	</para>
      </tip>
    </sect2>



    <sect2 id="encryption-keygen">
      <title>Making Encryption Keys</title>
      <para>
        Before you can get or send encrypted mail, you need to
	generate your public and private keys with GPG. Here's how:
      </para>
      <tip>
	<title>GPG Versions</title>
	<para>
	  This manual covers version 1.0.6 of GPG.  If your version is
	  different, this may not be entirely accurate.  You may find
	  out your version number by typing in the command: <command>gpg
	  --version</command>.
	</para>
      </tip>
      <para>
        <orderedlist numeration="arabic">
	  <listitem>
      	   <para>
            Open a terminal and type <command>gpg --gen-key</command>.
	  </para>
         </listitem>

	  <listitem>
      	   <para> 
             Choose the default algorithm, "DSA and ElGamal."
	  </para>
         </listitem>

	  <listitem>
      	   <para>
            Choose a key length. The default, 1024 bits, should be
            long enough.
	  </para>
         </listitem>

	  <listitem>
      	   <para>
             Decide if you want your key to expire automatically, and
             if so, when.
	  </para>
         </listitem>

	  <listitem>
      	   <para>
            Enter your name, email address, and any additional
            personal information you think is appropriate. Do not
            falsify this information, because it will be needed to
            verify your identity later on.
	  </para>
         </listitem>

	  <listitem>
      	   <para>
             Next, enter your passphrase. It does not have to be the
             same as your email password or your login password. In
             fact, it probably shouldn't. Don't forget it. If you lose
             it, your keys will be useless and you will be unable to
             decrypt messages sent to you with those keys.
	  </para>
         </listitem>

	  <listitem>
      	   <para>
             Now, GPG will generate your keys.  This may take awhile,
             so feel free to do something else while it's
             happening. In fact, using your computer for something
             else actually helps to generate better keys, because it
             increases the randomness in the key generation seeds.
	  </para>
         </listitem>
	</orderedlist>
      </para>
      <para>
	Once the keys are generated, you can view your key information
        by typing <command>gpg --list-keys</command>.  You should see
        something similar to this:
        <programlisting>
        /home/you/.gnupg/pubring.gpg
        ----------------------------
        pub 1024D/32j38dk2 2001-06-20 you &lt;you@your-address.com&gt;
        sub 1024g/289sklj3 2001-06-20 [expires: 2002-11-14]
	</programlisting>
      </para>
      <para>
         GPG will create one list, or keyring, for your public keys
         and one for your private keys. All the public keys you know
         are stored in the file
         <filename>~/.gnupg/pubring.gpg</filename>. If you want to
         give other people your key, send them that file.
      </para>
      <para>
          If you wish, you can upload your keys to a key server. Here's
          how:
        <orderedlist>
	  <listitem>
	    <para>
              Check your public key ID with <command>gpg
--list-keys</command>. It will be the string after 1024D on the line
beginning with "pub." In this example, it's 32j38dk2.
            </para>
	  </listitem>
	  <listitem>
	    <para>
	     Enter the command <command>gpg --send-keys --keyserver
wwwkeys.pgp.net 32j38dk2</command>.  Substitute your key ID for
32j38dk2. You will need your password to do this.
             </para>
           </listitem>
    </orderedlist>

	<note id="why-keyserver">
	  <title>Why Use a Key Server?</title>
	  <para>
	    Key servers store your public keys for you so that your
	    friends can decrypt your messages.  If you choose not to
	    use a key server, you can manually send your people public
	    key, include it in your signature file, or put it on your
	    own web page. However, it's easier to publish them once,
	    and then let people download them from a central place when
	    they want.
	  </para>
          <para>
             If you don't have a key you need to unlock or encrypt a
             message, you can have your encryption tool set to look it
             up automatically. If it can't find the key, then you'll
             get an error message.
          </para>
	</note>

      </para>
    </sect2>

    <sect2 id="encrypt-getting-key">
      <title>Getting and Using Public Keys</title>
      <para>
	To encrypt a message to your someone else you'll need to use
	their public key in combination with your private key.
	Evolution does that for you, but
	you still need to get their key and add it to your keyring.
     </para>
     <para>
        To get public keys from a public key server, enter the
        command:
	<command>
	  gpg --recv-keys --keyserver wwwkeys.pgp.net keyid
	</command>, substituting "keyid" for your recipient's ID.  You
	will need to type in your password, and then their ID will
	automatically be added to your keyring. When you send mail to
	them, Evolution will allow you to
	encrypt your messages.
      </para>
      <para>
        If someone sends you their public key directly, save it as a
        plain text file and enter the command <command>gpg
        filename</command>. This will add it to your keyring.
      </para>
    </sect2>

    <sect2 id="encrypt-evo-integ">
      <title>Setting up Evolution's Encryption</title>
      <para>
	You'll need to open
	<menuchoice>
	  <guimenu>Tools</guimenu>
	  <guimenuitem>Settings</guimenuitem>
	</menuchoice>
	and select the <guilabel>Mail Accounts</guilabel> button, then
	select the account you want to use securely, and click the
	<guilabel>Edit</guilabel> button. Then, select the
	<guilabel>Security</guilabel> tab in the account dialog.   In the
	<guilabel>Security</guilabel> tab is a section labeled
	<guilabel>Pretty Good Privacy</guilabel>.  Enter your key ID
	and click <guilabel>OK</guilabel>.  Your key is now
	integrated into your identity in
	Evolution.
      </para>
      <note>
	<title>What is my Key ID again?</title>
	<para>
	  Evolution requires that you know your key ID.  If you don't remember it, you can find it by typing <command>gpg --list-keys</command> in a console window.  Your key ID will be an eight character string with random numbers and letters.
	</para>
      </note>
    </sect2>

    <sect2 id="encrypt-sending">
      <title>Sending Encrypted Messages</title>
      <para>
	As you know, you can use encryption to hide the entire
	message, or just to verify your signature. Once you've
	generated your public and private keys, and have the public
	keys of the people to whom you want to send mail, here's what
	to do:
      </para>
    </sect2>
    
    <sect2 id="sign-msg">
      <title>Signing a Message</title>
      <para>
	To sign a message, choose:
	<menuchoice>
	  <guimenu>Security</guimenu>
	  <guimenuitem>PGP Sign</guimenuitem>
	</menuchoice>.
        You will be prompted for your encryption password.  Once
	you enter it, click <guilabel>OK</guilabel> and your message
	will be signed.
      </para>
    </sect2>
      
      <sect2 id="encrypt-msg">
	<title>Encrypting a Message</title>
	<para>
	  Encrypting a message is very similar to signing a message.
	  Just choose the menu item
	  <menuchoice>
	    <guimenu>Security</guimenu>
	    <guimenuitem>PGP Encrypt</guimenuitem>
	  </menuchoice>.
	</para>
      </sect2>
      <sect2 id="unencrypting">
	<title>Unencrypting a Received Message</title>
	<para>
	  If you get an encrypted message, you will need to decrypt it
	  before you read it. Remember, the sender has to have your
	  public key before they can send you an encrypted message.
	</para>
	<para>
	  When you view the message,
	  Evolution will ask you for your
	  PGP password.  Enter it, and the message will be displayed
	  properly.  
       </para>
    </sect2>
  </sect1>
</chapter>
