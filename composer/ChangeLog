2000-04-20  Dan Winship  <danw@helixcode.com>

	* e-msg-composer.c (get_editor_text, set_editor_text): new
	functions to get and set the contents of the HTML editor via
	Bonobo::PersistStream.
	(build_message): use get_editor_text. This works again.

2000-04-17  Dan Winship  <danw@helixcode.com>

	* e-msg-composer.c (build_message): Change
	camel_mime_message_new_with_session to camel_mime_message_new

2000-03-17  bertrand  <bertrand@helixcode.com>

	* e-msg-composer.c (create_menubar): Pass the composer as the data
	for the menubar callbacks.

2000-03-12  Matt Loper  <matt@helixcode.com>

	* Makefile.am: Modified to make the composer into a library, to be
	used by the mail component.

2000-03-07  Ettore Perazzoli  <ettore@helixcode.com>

	* e-msg-composer.c (create_toolbar): Pass the composer as the data
	for the toolbar callbacks.
	(e_msg_composer_construct): Connect the "changed" signal of the
	attachment bar to `attachment_bar_changed()'.
	(attachment_bar_changed): Renamed to `attachment_bar_changed_cb'.

2000-03-02  Ettore Perazzoli  <ettore@helixcode.com>

	* e-msg-composer.c (e_msg_composer_new): Precondition:
	gtk_main_level() greater than zero.
	(e_msg_composer_construct): Likewise.
	(create_menus): New function.  Set up menus through
	BonoboUIHandler.
	(e_msg_composer_construct): Use it.

	* main.c (main): Initialize Bonobo.

	* e-msg-composer.c (init): Initialize `uih' and `editor' to NULL.
	Do not init `text' and `text_scrolled_window' anymore.
	(destroy): Unref `uih'.
	(e_msg_composer_construct): Create a new BonoboUIHandler and put
	it into `uih'.
	(create_editor): New helper function.
	(e_msg_composer_construct): Use it to set up the editor.

	* e-msg-composer.h: New member `uih' in `EMsgComposer'.  Removed
	members `text', `text_scrolled_window'.  New member `editor'.

	* Makefile.am (INCLUDES): Add `$(BONOBO_GNOME_CFLAGS)'.
	(evolution_msg_composer_LDADD): Add `$(BONOBO_GNOME_LIBS)'.

	* e-msg-composer.c (glade_connect): Removed.
	(setup_signals): Removed.
	(e_msg_composer_construct): Do not use libglade to set the toolbar
	and menubar up.
	(destroy): Removed libglade stuff.
	(init): Likewise.

	* e-msg-composer.h: Removed `menubar_gui', `toolbar_gui',
	`appbar_gui'.

	* e-msg-composer.glade: Removed.

2000-01-12  bertrand  <bertrand@helixcode.com>

	* Makefile.am (evolution_msg_composer_LDADD): 
	use $(EXTRA_GNOME_LIBS_THREADS) to link with gthread

1999-11-17  Ettore Perazzoli  <ettore@gnu.org>

	* Makefile.am: New Makefile to compile the message composer
	executable.

	* main.c: New file.

	* e-msg-composer-hdrs.c (e_msg_composer_hdrs_to_message): Use
	`CAMEL_RECIPIENT*' macros instead of the old `RECIPIENT*' ones
	that do not exist anymore.

	* e-msg-composer-address-dialog.c
	(e_msg_composer_address_dialog_construct): Use `E_GLADEDIR'
	instead of `E_GUIDIR'.
	* e-msg-composer-attachment.c (e_msg_composer_attachment_edit):
	Likewise.
	* e-msg-composer.c (e_msg_composer_construct): Likewise.

(See `$(top_srcdir)/widgets/ChangeLog' for previous changes to the
message composer.)
