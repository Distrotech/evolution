2000-05-07  Dan Winship  <danw@helixcode.com>

	* e-msg-composer.c (build_message): unref content, etc. after
	attaching it to message.

	* e-msg-composer-attachment-bar.c (attach_to_multipart): unref
	part after attaching it.

2000-05-06  Christopher James Lahey  <clahey@helixcode.com>

	* e-msg-composer-hdrs.c: Turned off focus in the To, Cc, and Bcc
	buttons.

2000-05-02  Matt Loper  <matt@helixcode.com>

	* Makefile.am: set G_LOG_DOMAIN.

2000-04-28  Dan Winship  <danw@helixcode.com>

	* e-msg-composer-hdrs.c (set_recipients): Update (minimally) for
	Camel recipient changes.

2000-04-27  Dan Winship  <danw@helixcode.com>

	* e-msg-composer.c (e_msg_composer_new_from_url): New routine, to
	process mailto URLs.

2000-04-26  Dan Winship  <danw@helixcode.com>

	* e-msg-composer.c (build_message): Only generate a multipart
	message if there are attachments. Otherwise generate a single
	part.

	* Update for CamelMimeBodyPart -> CamelMimePart

2000-04-26  Dan Winship  <danw@helixcode.com>

	* e-msg-composer-attachment-bar.c (attach_to_multipart): add a
	s/SIMPLE_// that notzed missed. Update to use
	camel_mime_part_set_content.
	* e-msg-composer.c (build_message): remove a now-unused variable.
	Update for camel_mime_part_set_content.

2000-04-26  NotZed  <NotZed@HelixCode.com>

	* e-msg-composer.c (build_message): Use camel_mime_part_set_text()
	to set the text rather than messing with data wrappers.

	* e-msg-composer-attachment-bar.c (attach_to_multipart): Change
	for new camel-stream interfaces.
	(attach_to_multipart): Also set base64 encoding by default.

2000-04-25  Radek Doulik  <rodo@helixcode.com>

	* e-msg-composer.c (create_editor): use uih here
	(e_msg_composer_construct): create menubar/toolbar before creating
	editor control

2000-04-23  Dan Winship  <danw@helixcode.com>

	* Makefile.am: build libcomposer static and don't install it.

	* e-msg-composer-attachment-bar.c (attach_to_multipart): This was
	only half-implemented. Finish it, mostly.

2000-04-22  Dan Winship  <danw@helixcode.com>

	* e-msg-composer.c (e_msg_composer_add_header): new function to
	make the composer record additional headers it should output.
	(In-Reply-To), etc.
	(build_message): output them

2000-04-21  Dan Winship  <danw@helixcode.com>

	* e-msg-composer.c (e_msg_composer_set_headers): 
	(e_msg_composer_set_body_text): new functions
	(exit_cb): Connect "Exit" menu item finally.

	* e-msg-composer-hdrs.c: const poisoning
	(e_msg_composer_hdrs_set_subject): 
	(e_msg_composer_hdrs_get_subject): new functions

	* e-msg-composer-address-entry.c: const poisoning

2000-04-20  Dan Winship  <danw@helixcode.com>

	* e-msg-composer.c (get_editor_text, set_editor_text): new
	functions to get and set the contents of the HTML editor via
	Bonobo::PersistStream.
	(build_message): use get_editor_text. This works again.

2000-04-17  Dan Winship  <danw@helixcode.com>

	* e-msg-composer.c (build_message): Change
	camel_mime_message_new_with_session to camel_mime_message_new

2000-03-17  bertrand  <bertrand@helixcode.com>

	* e-msg-composer.c (create_menubar): Pass the composer as the data
	for the menubar callbacks.

2000-03-12  Matt Loper  <matt@helixcode.com>

	* Makefile.am: Modified to make the composer into a library, to be
	used by the mail component.

2000-03-07  Ettore Perazzoli  <ettore@helixcode.com>

	* e-msg-composer.c (create_toolbar): Pass the composer as the data
	for the toolbar callbacks.
	(e_msg_composer_construct): Connect the "changed" signal of the
	attachment bar to `attachment_bar_changed()'.
	(attachment_bar_changed): Renamed to `attachment_bar_changed_cb'.

2000-03-02  Ettore Perazzoli  <ettore@helixcode.com>

	* e-msg-composer.c (e_msg_composer_new): Precondition:
	gtk_main_level() greater than zero.
	(e_msg_composer_construct): Likewise.
	(create_menus): New function.  Set up menus through
	BonoboUIHandler.
	(e_msg_composer_construct): Use it.

	* main.c (main): Initialize Bonobo.

	* e-msg-composer.c (init): Initialize `uih' and `editor' to NULL.
	Do not init `text' and `text_scrolled_window' anymore.
	(destroy): Unref `uih'.
	(e_msg_composer_construct): Create a new BonoboUIHandler and put
	it into `uih'.
	(create_editor): New helper function.
	(e_msg_composer_construct): Use it to set up the editor.

	* e-msg-composer.h: New member `uih' in `EMsgComposer'.  Removed
	members `text', `text_scrolled_window'.  New member `editor'.

	* Makefile.am (INCLUDES): Add `$(BONOBO_GNOME_CFLAGS)'.
	(evolution_msg_composer_LDADD): Add `$(BONOBO_GNOME_LIBS)'.

	* e-msg-composer.c (glade_connect): Removed.
	(setup_signals): Removed.
	(e_msg_composer_construct): Do not use libglade to set the toolbar
	and menubar up.
	(destroy): Removed libglade stuff.
	(init): Likewise.

	* e-msg-composer.h: Removed `menubar_gui', `toolbar_gui',
	`appbar_gui'.

	* e-msg-composer.glade: Removed.

2000-01-12  bertrand  <bertrand@helixcode.com>

	* Makefile.am (evolution_msg_composer_LDADD): 
	use $(EXTRA_GNOME_LIBS_THREADS) to link with gthread

1999-11-17  Ettore Perazzoli  <ettore@gnu.org>

	* Makefile.am: New Makefile to compile the message composer
	executable.

	* main.c: New file.

	* e-msg-composer-hdrs.c (e_msg_composer_hdrs_to_message): Use
	`CAMEL_RECIPIENT*' macros instead of the old `RECIPIENT*' ones
	that do not exist anymore.

	* e-msg-composer-address-dialog.c
	(e_msg_composer_address_dialog_construct): Use `E_GLADEDIR'
	instead of `E_GUIDIR'.
	* e-msg-composer-attachment.c (e_msg_composer_attachment_edit):
	Likewise.
	* e-msg-composer.c (e_msg_composer_construct): Likewise.

(See `$(top_srcdir)/widgets/ChangeLog' for previous changes to the
message composer.)
