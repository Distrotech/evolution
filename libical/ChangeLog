2001-02-09  JP Rosevear  <jpr@ximian.com>

	* src/libical/icalparameter.c.in (icalparameter_new_from_string):
	its NEEDS-ACTION rather than NEEDSACTION
	(icalparameter_as_ical_string): ditto

2001-02-06  Christopher James Lahey  <clahey@ximian.com>

	* src/libical/icallangbind.c: Added a missing #include here.

	* src/libical/icalrecur.c (icalrecur_add_bydayrules): Copy the
	passed in const vals since we change it.

2001-02-05  JP Rosevear  <jpr@ximian.com>

	* src/libical/icallangbind.c (icallangbind_get_property): Use the
	renamed api call

2001-02-05  Ettore Perazzoli  <ettore@ximian.com>

	* src/libical/Makefile.am (COMBINEDHEADERS): `icalvalue.h',
	`icalparameter.h', `icalproperty.h' and `icalrestriction.h' are
	created in the builddir so they shouldn't be prefixed with
	`$(top_builddir)/src/libical'.

2001-01-26  Eric Busboom  <eric@softwarestudio.org>

	* icalproperty.c.in Improved icalproperty_as_ical_string() to
 	eliminate the possibility of having a VALUE parameter that does
 	not match the actual kind of value.

	* icalvalue.c.in made icalvalue_*_trigger() and
 	icalvalue_*_datetimeperiod non-autogenerated. These routines were
 	for combined value type -- non standard values that can have more
 	than on standard value type. These non-standard types now delegate
 	to stadard types.
	

2001-01-24  Dan Winship  <danw@helixcode.com>

	* src/libical/icaltime.c: Remove unused "extern long timezone".

2001-01-24  Damon Chaplin  <damon@helixcode.com>

	* src/libical/icaltime.c (set_tz): 
	(unset_tz): rewrote to fix problems with freeing the environment
	string after calling putenv() and to fix memory leaks. (We save a
	pointer to the last TZ env var we set, so we free it after the next
	time we set TZ.)

2001-01-23  JP Rosevear  <jpr@ximian.com>

	* configure.in: Don't AC_INIT on an autogenerated file that does not
	exist beforehand

2001-01-24  Eric Busboom  <eric@softwarestudio.org>

	* icalfileset.c fixed icalfileset_read-from_file so it will handle
 	lines longer than 80 char properly.

2001-01-23  Eric Busboom  <eric@softwarestudio.org>

	* icltime.c Removed all of the _local_ routines and simplified
 	icaltime_utc_offset and icaltime_as_timet

	* regression.c Added tests for triggers and improvements to icaltime.c

	* icaltypes.c Addedd icaltriggertype_from_string and changed
 	icaltriggertype to be a struct

2001-01-22  Eric Busboom  <eric@softwarestudio.org>

	* icaltime.c implemented icaldurationtype_from_string to parse the
 	string it self, rather than use lex/yacc

2001-01-15  Eric Busboom  <eric@softwarestudio.org>

	* icalfileset.c Many improvements. File locking now works, and so
 	does searching with icalfileset_select()

2001-01-08  Eric Busboom  <eric@softwarestudio.org>

	* Makefile.am Remove spaces after -I in several 
	Makefile.am routines. 

	* icalset.c removed return statements from some void functions.

	* icalparameter.c.in Added break to default: case that had no
 	body. Compilers on Solaris and Tru64 UNIX complained.

2001-01-02  Eric Busboom  <eric@softwarestudio.org>

	* icaltime.c Changed icaldurationtype_from_time and _as_timet to
 	_from_int and _as_int. This is a change interface that may break
 	some code.

	* icalgauge.c icalgaugeimpl.h, icalgauge.h., Rewrote gauge code to
 	use pvl-lists directly, instead of trying to reuse icalcomponent.

2000-12-15  Ettore Perazzoli  <ettore@helixcode.com>

	* src/libical/Makefile.am: Build `libical-static.la'.

2000-12-14  Ettore Perazzoli  <ettore@helixcode.com>

	* src/libical/Makefile.am (ical.h): 

2000-12-13  Federico Mena Quintero  <federico@helixcode.com>

	* src/libical/icaltime.c (icaltime_from_timet): Use gmtime()
	unconditionally, since we want an UTC broken-down representation.
	(icaltime_as_timet): Add the offset only if the time was supposed
	to be in UTC; that way mktime() will get a proper localtime as
	source data.

2000-12-13  Federico Mena Quintero  <federico@helixcode.com>

	* src/libical/icaltime.c (icaltime_from_timet): time_t values
	*are* in UTC by definition, so the is_utc argument is useless.
	Removed the conversion to UTC and made the icaltimetype.is_utc be
	TRUE always.  This breaks libical's owne internal use of this
	function, but since we do not use any of the functions that use it
	that way, we can ignore this.  This is basically a temporary
	measure until libical does the right thing.

2000-12-12  Eric Busboom  <eric@softwarestudio.org>

	* icalparser.c Addedd support for x-parameters. 

	* icalenum.c Fixed icalenum_parameter_type_to_string and
 	icalenum_property_type_to_string to property identify X- parameers
 	and properties.

	* icalparameter.c Fixed icalparameter_as_ical_string to property
 	write out X-Parameters.

	
2000-12-13  Christopher James Lahey  <clahey@helixcode.com>

	* src/libical/icalerror.h: Added a name to the parameter to
	icalerror_set_errno.

2000-12-12  Eric Busboom  <eric@softwarestudio.org>

	* icalparser.c Addedd support for x-parameters. 

	* icalenum.c Fixed icalenum_parameter_type_to_string and
 	icalenum_property_type_to_string to property identify X- parameers
 	and properties.

	* icalparameter.c Fixed icalparameter_as_ical_string to property
 	write out X-Parameters.

	
2000-12-11  Eric Busboom  <eric@softwarestudio.org>

	* icalcstp.c added empty bodies to prep_* routines so that shared
 	libraries would build.

2000-12-13  Federico Mena Quintero  <federico@helixcode.com>

	* src/libical/Makefile.am (COMBINEDHEADERS): Removed the explicit
	paths.  Why it did *not* work on my original try when they were
	not there, well, now I don't know.

2000-12-13  Ettore Perazzoli  <ettore@helixcode.com>

	* src/libicalvcal/Makefile.am (INCLUDES): Add
	`$(top_builddir)/src/libical' to the include directory list.

	* src/libical/Makefile.am (icalparameter.h): Use `$(srcdir)'.
	(icalparameter.c): Likewise.
	(icalproperty.h): Likewise.
	(icalproperty.c): Likewise.
	(icalvalue.h): Likewise.
	(icalvalue.c): Likewise.
	(icalrestriction.c): Likewise.
	(CLEANFILES): Add `icalparameter.h', `icalparameter.c',
	`icalproperty.h', `icalproperty.c', `icalrestriction.c',
	`icalvalue.h', `icalvalue.c'.
	(COMBINEDHEADERS): `icalvalue.h', `icalparameter.h' and
	`icalproperty.h' are in builddir, not srcdir, so fix the list to
	use `$(top_builddir)' instead of `$(top_srcdir)'.
	(all): Removed.
	(BUILT_SOURCES): Move `ical.h' here instead.
	(ical.h): Don't depend on `(BUILT_SOURCES)'; this a built source
	itself.

2000-12-12  Joe Shaw  <joe@helixcode.com>

	* src/libical/icalrecur.c: #if 0ed out some #if 1ed test code that
	was breaking my build by #including ical.h. No cookie!

2000-12-12  Dan Winship  <danw@helixcode.com>

	* configure.in: Add a check for "extern int timezone;" vs struct
	tm tm_gmtoff, stolen from Evolution's configure.in.

	* src/libical/icaltime.c (icaltime_utc_offset,
	icaltime_local_utc_offset): Use HAVE_TIMEZONE, add tm_gmtoff
	support.

	* src/libical/icallexer.l: Remove ical_yy_scan_buffer, ..._string,
	and ..._bytes prototypes, since it compiles fine without them on
	Linux, and bombs out due to prototype mismatch on my NetBSD box.

2000-12-11  Federico Mena Quintero  <federico@helixcode.com>

	* Makefile.am:
	* configure.in: Disable compilation of the examples directory
	until libicalss is fixed.

	* configure.in: Make AC_INIT() check for a file that is not
	autogenerated!

	* configure.in: Added check for Perl.

2000-12-11  Federico Mena Quintero  <federico@helixcode.com>

	* configure.in (AC_OUTPUT): Fixed order of generated files to make
	"make distcheck" work.  Turn on AM_MAINTAINER_MODE.

	* src/libical/Makefile.am (EXTRA_DIST): Add icalversion.h.in.
	(COMBINEDHEADERS): Added paths to make "make distcheck" work.
	(libical_la_SOURCES): Added headers for distribution in our weird
	setup.

2000-12-11  JP Rosevear  <jpr@helixcode.com>

	* src/libical/icaltime.c (icaltime_compare_date_only): New
	function that compares only the dates, not the times as well.

	* src/libical/icaltime.h: Add prototype for the function above.

	* src/libical/icalrecur.h (struct icalrecurrencetype): Correct
	header documentation.

	* src/libical/icaltypes.c: No longer include <limits.h>.

	* src/libical/icalrecur.c: Likewise.

	* src/libical/icalvalue.c.in: Likewise.

	* src/libical/icalyacc.y: Likewise.

2000-12-06  Eric Busboom  <eric@softwarestudio.org>

	* icaltime.c added icaltime_as_local to convert a UTC time to a
 	local time

	* icaltime.h icaltime.c Removed is_utc argument from
 	icaltime_from_timet

	
2000-11-29  Eric Busboom  <eric@softwarestudio.org>

	* icalrecur.c More testing and bug fixes. Many more of the rules
 	in recur.txt work correctly.

2000-11-28  Eric Busboom  <eric@softwarestudio.org>

	* icalrecur.c Several changes to extract icalrecur.c from
 	libical. I'd like to make it into a reference impl for recurrence
 	rules. CHanges include moving all of the recurrence type and
 	recurrence enums from icalenum and icaltypes into icalrecur, and
 	adding code to parse recurrence rule strings.

	* icaltime.c Changed icaltime_from_string to parse the string
 	directly. Now icaltime.c has no dependency on icalvalue.c

2000-11-21  Eric Busboom  <eric@softwarestudio.org>

	* icalrecur.c Fixed a bug in the increment_* routines that made
 	incrementing by more then 1 insensible. Thanks to Martin Neimeier

2000-11-20  Eric Busboom  <eric@softwarestudio.org>

	* icalmessage.c Many routines to create new ical messages.

	* icalspanlist.c Code to generate a list of the busy time f the
 	VEVENTS in a set. Also includes routiens to generate free and busy
 	lists from the spanlist, and to find the next free time after a
 	given time.

	* icalvalue.c The STATUS property now has its own value type,
 	STATUS, which holds the enumeration icalproperty_status.

	* icalrestriction.c Added more restrictions. Now handles mutual
 	and exclusive consitions, and checks for the reight values in
 	STATUS properties


2000-11-10  Eric Busboom  <eric@softwarestudio.org>

	* icaltypes.c Added routine to create durationtype from string:
 	icaldurationtype_from_string

2000-11-09  Eric Busboom  <eric@softwarestudio.org>

	* icalcomponet.c Add sever get/set convienience routines to access
 	and manipulate common component propoerties from the component
 	interface. This eliminates the need to create a lot of temporary
 	variables if you just want to change the start time of and event.

2000-11-06 Eric Busboom    <eric@softwarestudio.org>

	* icalcomponent.c Added new routines to icalcomponent:
	_get_span -- returns the start and end times of the event in UTC
	_get_first_real_component -- return ref to VTODO, VEVENT or VJOURNAL

	* icalspanlist.c Added new class, icalspanlist, that generates a
 	list of alternating busy and free times from an icalset. The class
 	includes routines to gnerate rfc2445 busy and free lists, and to
 	get the next avaliable busy or free time after a given time.

2000-11-06  Federico Mena Quintero  <federico@helixcode.com>

	* src/libical/icalvalue.c (icalvalue_recur_as_ical_string): Handle
        both the position and weekday in the by_day field.

2000-10-20  Jesse Pavel	  	<jpavel@helixcode.com>

	* src/libical/icalproperty.c: added support for the
	icalproperty_remove_parameter() function.

2000-10-20  Eric Busboom  <eric@agony.busboom.org>

	* Const correctness. Added 'const' all over everywhere.

2000-10-19  Eric Busboom  <eric@agony.busboom.org>

	* icalproperty, icalparameter, icalvalue .c, .h Changed most
	instances of char* to const char*

	* icalclassify.h Added multiple include protection

	* icalset.h and others, got rid of parameter named "new"

2000-10-15 Eric Busboom   <eric@softwarestudio.org>

	* icalcomponent Added convienience functions for constructing
 	components: icalcomponent_new_vcalendar(), etc.

	* Makefile.am Incorporated build system patch from Federico
 	Quintero. Misc small fixes and cleanup

	* scripts Incorporated auto-gen patch from Frederico. Generated
 	code in libical now uses icalproperty.c.in (etc) instead of
 	editing file icalparoperty.c in place.

	* libical. Changed flex/bison to use the -P/-p options to set
 	ical_yy as a prefix. Removed prefix redefinition from icalyacc.y

2000-10-12 Eric Busboom    <eric@softwarestudio.org>

	* icalproperty.c Fixed icalproperty_get_{first,next}_parameter to
 	honor the parameter kind argument

	* icalparameter.c Added, but did not complete, a new version of
 	icalparameters_from_string that does not use the hairy nested
 	case/switch statements of the previous version

2000-10-11  Damon Chaplin  <damon@helixcode.com>

	* src/libical/icalparameter.c (icalparameter_as_ical_string):
	(icalparameter_new_from_string):
	* src/libical/icalparser.c (icalparser_add_line): add support for
	'X-' parameters.

2000-10-07  Dan Winship  <danw@helixcode.com>

	* src/libical/icalyacc.y (weekday_list): Fix the semicolons in
	this rule. Noticed by x-virge.

	* src/test/Makefile.in: While I'm here, remove this from CVS, as
	it's a generated file.

2000-10-02 Eric Busboom  <eric@softwarestudio.org>

	* ical.h ical.h and icalss.h now are concatenations of all of the
 	public headers for their respective libraries. Thus, only ical.h,
 	icalss.h and icalvcal.h need to be installed.

2000-09-12  Ettore Perazzoli  <ettore@helixcode.com>

	* configure.in: AC_OUTPUT the Makefile in `src' before the stuff
	in its subdirs.

2000-09-12  JP Rosevear  <jpr@helixcode.com>

	* test-data/stresstest.ics: Merge missing file for distcheck

	* src/libicalss/icalcstp.h: ditto

	* src/libicalss/icalcsdb.h: ditto

2000-09-11  Eric Busboom  <eric@softwarestudio.org>

	* icalvcal.c Added more comments

2000-09-01  JP Rosevear  <jpr@helixcode.com>

	* configure.in: We don't need AC_PROG_RANLIB and
	AM_PROG_LIBTOOL

	* src/libical/icalyacc.y (clear_recur): Explicitly
	set the week_start to the Monday default in case the
	recurrence rule does not.

2000-08-31  JP Rosevear  <jpr@helixcode.com>

	* Kill off more old, dead files

2000-08-31  JP Rosevear  <jpr@helixcode.com>

	* MacOS: This dir is not in 0.19

2000-08-31  JP Rosevear  <jpr@helixcode.com>

	* src/libical/CHANGES: This file is not in 0.19

2000-08-31  JP Rosevear  <jpr@helixcode.com>

	* src/libical/.gdb_history: Kill file

	* src/libical/.gdb_history: Kill file

2000-08-31  JP Rosevear  <jpr@helixcode.com>

	* src/pvl/Makefile: Kill old file

	* src/test/usecases.c: Kill old file

	* src/test/.cvsignore: Update

	* src/libicalvcal/.cvsignore: Update

	* examples/.cvsignore: Shut up

2000-08-31  JP Rosevear  <jpr@helixcode.com>

	* configure.in: Don't list config.h in AC_OUTPUT

2000-08-26  Ettore Perazzoli  <ettore@helixcode.com>

	* examples/Makefile.am (INCLUDES): More `$(srcdir)' loving.

	* src/libicalvcal/Makefile.am (INCLUDES): Add `-I
	$(srcdir)/../libical' for builddir != srcdir loving.

2000-08-25  Christopher James Lahey  <clahey@helixcode.com>

	* examples/access_properties_and_parameters.c,
	src/libicalvcal/vcc.y: Got rid of some warnings.

	* src/libicalvcal/vcc.c: Checking in generated C file.

2000-08-25  Christopher James Lahey  <clahey@helixcode.com>

	* src/libical/icalcomponent.c: Fixed an incorrect struct name.

2000-08-25  Peter Williams  <peterw@helixcode.com>

	* src/libical/icalcomponent.c (icalcomponent_end_component): Compile fix;
	use icalerror_check_arg_re so we can return an valid icalcompiter.
	(icalcomponent_begin_component): Same.

2000-08-24  JP Rosevear  <jpr@helixcode.com>

	* src/libical/icalvcal.h: Remove this duplicate file to fix build

2000-08-24  Federico Mena Quintero  <federico@helixcode.com>

	* src/test/Makefile.am: Make it work.

2000-08-04  Eric Busboom  <eric@softwarestudio.org>

	* stow.c Changed stow to write data to a file ( icalfileset) not a
 	calendar. Also added MIME parsing capability

	* sspm.c Core of the mime processor. Now handles quoted-printable
 	and base64 encodings

	* icalmime.h New file that parses mime data and returns an
 	icalcomponent that includes all of the parts.


2000-07-26   Eric Busboom   <eric@softwarestudio.org>

	* icaldirset.h misc bug fixes to get deleting components to work

	* icalcomponent.h Eliminated internal use of _get_first_component
 	and _get_next_component, since these will reset the interal
 	iterators.

2000-07-23   Eric Busboom   <eric@softwarestudio.org>

	* icalcomponent.h Added external iterators to icalcomponent for
 	subcomponents: icalcompiter. These are still experimental, but they
 	seem to work OK and have a nice syntax

2000-07-18   Eric Busboom   <eric@softwarestudio.org>

	* icalset This is a new "superclass" for icalstore, icalcluster,
 	and others. It merges the interfaces of the old icalstore and
 	icalcluster

	* icalstore.{c,h} CHanged name to icaldirset

	* icalcluster.{c,h} Changed name to icalfileset


2000-06-12  Eric Busboom  <eric@softwarestudio.org>

	* icalstow.c misc improvements and bug fixes to make it useful.

2000-06-09  Eric Busboom  <eric@softwarestudio.org>

	* icalrecur.c More extensive code changes for recurrence rule.

	* icalyacc.y Added support for integers in by day lists

2000-06-08  Ettore Perazzoli  <ettore@helixcode.com>

	* src/test/Makefile.am (INCLUDES): Likewise.

	* src/libicalss/Makefile.am (INCLUDES): Use $(srcdir) to allow
	builddir != srcdir.

2000-06-01  Eric Busboom  <eric@softwarestudio.org>

	* icalrecur.c moved recur code into new files

2000-05-30  Eric Busboom  <eric@softwarestudio.org>

	* icaltypes.c Extensive work on code to expand recurences

	* icaltypes.h Changed signature icaltimetype_from_timet to include
 	is_utc flag.


2000-03-17  Eric Busboom  <eric@softwarestudio.org>

	* icalstore.c Vastly improved icalstore_test.

2000-03-16  Eric Busboom  <eric@softwarestudio.org>

	* icalcluster.c Added compile flag (ICAL_SAFESAVES) to switch how
 	icalcluster saves files during commits. When the flag is define,
 	it will write the data to a temorar file and rename the file to
 	the target file.

	* storage.c Added seterate test suite for sotage components

	* icalparser.c Created parser object, implemented line-oriented
 	parsering, and made message oriented parsing work in terms f line
 	oriented parsing.

	* icalparser.c Fixed icalparser_get_line to remove \r in input.


