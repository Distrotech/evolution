<!--
<!DOCTYPE Chapter PUBLIC "-//GNOME//DTD DocBook PNG Variant V1.1//EN">
-->
<chapter id="config-prefs">

      <title>Advanced Configuration</title>
      <para>
        Perhaps your mail server has changed names.  Perhaps you've
        grown tired of a certain layout for your appointments.
        Whatever the reason, you want to change your
        <application>Evolution</application> settings.  This chapter
        will tell you how to do just that.
      </para>

       <sect1 id="config-prefs-mail">
         <title>Mail Settings</title>
        <para>
        To change your mail settings, select <menuchoice>
        <guimenu>Tools</guimenu> <guimenuitem>Mail
        Settings</guimenuitem></menuchoice> in the Inbox.  This
        will open the <interface>mail preferences window</interface>,
        illustrated in <xref linkend="config-prefs-mail-fig">.  Mail
        preferences are separated into several categories:
        <variablelist>
	  <varlistentry>
	    <term><guilabel>Accounts</guilabel></term>
	    <listitem>
	      <para>
		This allows you to create and alter one or more identities for your
		email.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><guilabel>Display</guilabel></term>
	    <listitem>
	      <para>
		Allows you to edit how email is handled and displayed.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><guilabel>Composer</guilabel></term>
	    <listitem>
	      <para>
		Customizes the composer's behavior.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><guilabel>Other</guilabel></term>
	    <listitem>
	      <para>
		Configures miscellanious aspects of <application>Evolution</application>
		such as character sets.
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
	
    </para>

      <!-- ==============Figure===================== -->
      <figure id="config-prefs-mail-fig">
	<title>Mail Preferences Dialog</title>
	<screenshot>
	  <screeninfo>Setting mail preferences</screeninfo>
	  <graphic fileref="figures/config-mail" format="png" srccredit="Aaron Weber">
	    </graphic>
	</screenshot>
      </figure>
      <!-- ==============End of Figure================-->


      <sect2 id="config-prefs-mail-identity">
      <title>Identity Settings</title> 
      <para>
         If you have only one email account, or send email from only
         one address, you will only need to configure one identity. If
         you want, however, you can have multiple identities.  This
         can be useful if you want to keep personal and professional
         email separate, or if you wear several hats at work.
         
       </para>
       <para>
         To add a new identity, simply click
         <guibutton>Add</guibutton>. To alter an existing identity,
         click on it in the <guilabel>Identity</guilabel> tab of the
         <interface>Preferences</interface> window, and then click
         <guibutton>Edit</guibutton>.
      </para>

      <para>
         <application>Evolution</application> will then present you
         with a dialog box containing four fields:
          <itemizedlist>
           <listitem>
	    <para>
              <guilabel>Full Name:</guilabel> by default, this is the
              same name as the full name described in your user
              account on your computer.  You can select another if you
              wish.
            </para>
	  </listitem>
           <listitem>
	    <para>
              <guilabel>Email address:</guilabel> Enter your email
              address in this space.
            </para>
	  </listitem>
           <listitem>
	    <para>
              <guilabel>Organization:</guilabel> If you send email as
              a representative of a company or other organization,
              enter its name here.
            </para>
	  </listitem>
           <listitem>
	    <para>
              <guilabel>Signature file:</guilabel> You may choose a
              small text file to be appended to every message that you
              send.  Typically, signature files include address or
              other contact information, or a favorite quotation.
              It's good form to keep it to four lines at the maximum.
            </para>
	  </listitem>
	</itemizedlist>
      </para>
    </sect2>

    <sect2 id="config-prefs-mail-network">
      <title>Network Settings</title> 
      <para>
        In order to send mail with
        <application>Evolution</application>, you need to connect to
        your network.  To do that, you'll need to know your user name
        and password, what sort of mail sending and receiving
        protocols your network uses, and the names of the servers
        you'll be using.  If you're switching from another groupware
        or email program, you can almost certainly use the same
        settings as you did with that program. Network-related
        settings are in the <guilabel>Mail Sources</guilabel> and
        <guilabel>Mail Transport</guilabel> tabs.
      </para>
 
      <sect3 id="config-prefs-network-sources">
	<title>Mail Sources</title>
	<para>
          The <interface>Mail Sources</interface> tab allows you to
          add, edit, or delete methods of retrieving mail from
          servers.  Clicking on <guibutton>Add</guibutton> or
          <guibutton>Edit</guibutton> will bring up a dialog box to
          offer you the following options:
           <variablelist>
	    <varlistentry>
	      <term><guilabel>Mail source type:</guilabel></term>
	      <listitem>
		<para>
                  Select from <glossterm
                  linkend="imap">IMAP</glossterm> or <glossterm
                  linkend="pop">POP</glossterm> servers, or Unix-style
                  <systemitem><filename>mbox</filename></systemitem>
                  or <systemitem><filename>mh</filename></systemitem>
                  files.
                </para>
	      </listitem>
	    </varlistentry>
	    <varlistentry>
	      <term> <guilabel>Server:</guilabel></term>
	      <listitem>
		<para>
                  Enter the name of the mail source server in this
                  field. Your POP server may or may not be the same as your
                  <glossterm linkend="smtp">SMTP</glossterm> server.
                </para>
	      </listitem>
	    </varlistentry>
	    <varlistentry>
	      <term><guilabel>Username:</guilabel></term>
	      <listitem>
		<para>
                  Enter the user name for the account you have on the
                  server - this should the part of your email address
                  before the @.  If you use
                  <systemitem><filename>mbox</filename></systemitem>
                  or <systemitem><filename>mh</filename></systemitem>
                  files as your mail source, you do not need to enter
                  a username.
                </para>
	      </listitem>
	    </varlistentry>
	    <varlistentry>
	      <term><guilabel>Authentication:</guilabel></term>
	      <listitem>
		<para>
                  Tell <application>Evolution</application> how to
                  verify your identity with the server.  Your options
                  vary depending upon the type of server you are
                  using, and the ways it is configured.  Given the
                  name of a server,
                  <application>Evolution</application> can detect what
                  sorts of authentication it offers.
               </para>
	      </listitem>
	    </varlistentry>
	    <varlistentry>
	      <term><guilabel>Test Settings</guilabel></term>
	      <listitem>
		<para>
                  Click this button to have
                  <application>Evolution</application> check to see if
                  mail sources are configured correctly.
                </para>
	      </listitem>
	    </varlistentry>
	  </variablelist>
          </para>
          <para>
            If you have several mail sources, clicking <guibutton>Get
            Mail</guibutton> will refresh any IMAP,
            <systemitem><filename>mh</filename></systemitem>, or
            <systemitem><filename>mbox</filename></systemitem>
            listings and check and download mail from all POP servers.
            In other words, <guibutton>Get Mail</guibutton> gets your
            mail, no matter how many sources you have, or what types
            they are.  You can disable checking mail on accounts in their
            properties.
          </para>
          <tip>
            <title>Sharing Mailboxes with Other Mail Programs</title>
            <para>
              If you want to use <application>Evolution</application>
              and another email client, such as
              <application>Mutt</application>, at the same time,
              here's how:
              <orderedlist numeration="arabic">
                <listitem>
                   <para>
                      Download your mail in the other application as
                      you would normally.
                   </para>
                  </listitem>
                <listitem>
                   <para>
                      In <application>Evolution</application>
                      <menuchoice><guimenu>Tools</guimenu><guimenuitem>Mail
                      Settings</guimenuitem></menuchoice>, and pick the account
                      you'd like to use to share mail. You may want to
                      create a new account just for this source of
                      mail.
                   </para>
               </listitem>                     
               <listitem>
                   <para>
                      Under the <guilabel>Receiving Mail</guilabel>
                      tab, select the type of mail file that your
                      other mail application uses, and then enter the
                      full path to that file.
                   </para>
                  </listitem>
                <listitem>
                   <para>
                      Click the <guibutton>OK</guibutton> button.
                   </para>
                  </listitem>
                </orderedlist>
               </para>
            </tip>
        </sect3>

      <sect3 id="config-prefs-mail-network-transports">
	<title>Mail Transports</title>
	<para>
           The <interface>Mail Transports</interface> tab lets you choose
           how you will send mail.  <application>Evolution</application> currently supports two
           mail transport options: <glossterm linkend="smtp">SMTP</glossterm>, which
           uses a remote mail server, and
           <glossterm linkend="sendmail">sendmail</glossterm>, which uses the
           <application>sendmail</application> program on your local
           system.  <application>Sendmail</application> is more
           difficult to configure, but offers more flexibility than
           <glossterm>SMTP</glossterm>.
        </para>
	<para>
            To use <guilabel>SMTP</guilabel>, you'll need to enter the
            name of your SMTP server.  It may have the same name as
            your mail source server.
         </para>
         <para>
            <application>Evolution</application> can attempt to
            determine if you have entered a valid server name.  To
            have it do so, click the <guilabel>Test
            Settings</guilabel> button.
         </para>
	</sect3>
      </sect2>
      <sect2 id="config-prefs-network-news">          
          <title>News Servers</title>
          <para>
            Newsgroups are so much like mailing lists that there's no
            reason not to keep them right next to your mail.  When you
            first select the <guilabel>News Servers</guilabel> tab,
            you will see a blank box with the three familiar buttons
            on the right: <guibutton>Add</guibutton>,
            <guibutton>Edit</guibutton>, and
            <guibutton>Delete</guibutton>.
          </para>
          <para>
            Click <guibutton>Add</guibutton> to add a news server; you
            will be prompted for its name.  Enter the name, click
            <guibutton>OK</guibutton>, and you're done.  You can have
            as many news servers as you like, of course.  News servers
            will appear next to your IMAP servers in the
            <interface>folder bar</interface>.
          </para>
     </sect2>

     <sect2 id="config-prefs-mail-other">
	<title>Other Mail Preferences</title>
	<para>
          Not everything fits neatly into categories.  This tab
          contains some miscellaneous configurations that don't have
          too much to do with each other.
          <variablelist>

             <varlistentry>
	    <term> 
	      <guilabel>Send messages in HTML format</guilabel>
	    </term>
	    <listitem><para>
		If you check this box, you will send
		messages as HTML by default.  If you leave it unchecked, your
		messages will be sent without HTML formatting unless you select 
		<menuchoice> <guimenu>Format</guimenu> <guimenuitem>HTML</guimenuitem>
		</menuchoice> in the message composer.
		See <xref linkend="usage-mail-getnsend-send-html">
		  for more information about HTML mail.
	      </para></listitem>
	  </varlistentry>
	  <varlistentry>
                <term> 
                   <guilabel>Mark Messages as Read After</guilabel>
                </term>
                <listitem><para> 
                    When you click on a message,
                    <application>Evolution</application> will wait a
                    moment before marking it as read. You can set the
                    delay, in milliseconds, here.
                 </para></listitem>
              </varlistentry>
              <varlistentry>
                <term>
                   <guilabel>Folder Format</guilabel>
                </term>
                <listitem> <para> By default,
                   <application>Evolution</application> saves its mail
                   in the
                   <systemitem><filename>mbox</filename></systemitem>
                   format. You can switch to the
                   <systemitem><filename>mh</filename></systemitem>
                   format if you like.  Note that this is an advanced
                   feature and may cause you to lose some messages, so
                   you should probably make a backup of your
                   <systemitem><filename>evolution</filename></systemitem>
                   directory first. In addition, it will take quite
                   some time if you have a large mailbox.
               </para></listitem>
             </varlistentry>
           </variablelist>
        </para>
      </sect2>
    </sect1>

    <sect1 id="config-prefs-cal">
       <title>Configuring the Calendar</title>
       <para>
          To set your calendar preferences, select
          <menuchoice><guimenu>Settings</guimenu>
          <guimenuitem>Calendar
          Configuration</guimenuitem></menuchoice> from the Calendar
          view.  This will open up the
          <interface>Preferences</interface> window.  It contains three
          tabs: <guilabel>Calendar</guilabel>, <guilabel>TaskPad</guilabel>, <guilabel>Reminders</guilabel>.  The <interface>calendar
          preferences window</interface> is illustrated in <xref
          linkend="config-prefs-cal-fig">.

      <!-- ==============Figure===================== -->
      <figure id="config-prefs-cal-fig">
	<title>Calendar Preferences Dialog</title>
	<screenshot>
	  <screeninfo>If this worked on my job as well as my calendar...</screeninfo>
	  <graphic fileref="figures/config-cal" format="png" srccredit="Aaron Weber">
	    </graphic>
	</screenshot>
      </figure>
      <!-- ==============End of Figure================-->
        </para>

    <sect2 id="config-prefs-cal-time">
      <title>Time Display Settings</title>
      <para>
        The <guilabel>Time display</guilabel> tab lets you set the
        following:
        <variablelist>
	  <varlistentry>
	    <term>Time format</term>
	    <listitem>
	      <para>You may choose between twelve-hour (AM/PM) and
	      twenty-four hour time formats here by clicking the
	      appropriate radio button.
              </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term>Weeks start on</term>
	    <listitem>
	      <para>You can set weeks to start on Sunday or on Monday.</para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term>Day range</term>
	    <listitem>
               <para>
                 When does your work day start, and when does it end?
                 In the day and week views,
                 <application>Evolution</application> displays all the
                 hours in the range you select here, even if there are
                 no appointments for those times.  Of course, you can
                 still schedule an appointment outside of these hours,
                 and if you do, the display will be extended to show
                 it.
               </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
       </para>
    </sect2>
    <sect2 id="config-prefs-cal-color">
      <title>Calendar Colors</title>
      <para>
        The <interface>colors tab</interface> allows you to decide
        what color your calendar will be.  The tab consists of a
        sample calendar on the right and a list of ten items that can
        be colored in different ways.  If you click on the color
        button to the right of each item, you will bring up a
        color-selector window where you can alter that
        color.  By clicking <guibutton>OK</guibutton> in the color
        selection dialog, you can see the results of the color on the
        sample calendar.
     </para>
     <para>The display elements colors you can set are:

          <itemizedlist>
           <listitem>
              <para>
                <guilabel>Outline:</guilabel> The lines between days
                and at the top of the display.
              </para>
            </listitem>

           <listitem>
              <para> <guilabel>Headings:</guilabel> Text color for day
                and month names and other headings.
              </para>
            </listitem>

           <listitem>
              <para> <guilabel>Empty days:</guilabel> This is the
                background color for any time slots in which you have no appointments.
               </para>
            </listitem>  

         <listitem>
              <para>         
             <guilabel>Appointments:</guilabel> This is the
                background color for any time slots in which you have appointments.
               </para>
            </listitem>
     
	  <listitem>
	    <para> <guilabel>Highlighted day:</guilabel> The
              background color for a selected time slot.
             </para>
	  </listitem>

          
	  <listitem>
	    <para>         
              <guilabel>Day numbers:</guilabel> Text color for date numbers.
            </para>
	  </listitem>

              
	  <listitem>
	    <para>
              <guilabel>Current day's number:</guilabel> Text color for today's date.
             </para>
	  </listitem>

	  <listitem>
	    <para> <guilabel>To-Do item that is not yet
             due:</guilabel> Text color for To-Do list items that are
             not yet due. 
               </para>
	  </listitem>


	  <listitem>
	    <para> <guilabel>To-Do item that is due today:</guilabel>
             Text color for today's tasks.
               </para>
	  </listitem>

	  <listitem>
	    <para> <guilabel>To-Do item that is overdue:</guilabel>
             Text color for overdue tasks.
               </para>
	  </listitem>

          </itemizedlist>
        </para>
    </sect2>

    <sect2 id="config-prefs-cal-todo">
      <title>To Do List Settings</title>
     <para>
       You can choose what information the To Do list displays and the
       way it is displayed.  The two areas of the <interface>To Do
       List</interface> tab offer several options each:
       <variablelist>
	 <varlistentry>
	   <term>Show on To Do List</term>
	    <listitem>
	      <para>
                This box contains three items.  If you select the
                check boxes next to them, that information will appear
                in the To Do list for each task it contains:
                <itemizedlist>
                  <listitem>
		    <para><guilabel>Due Date</guilabel></para>
                   </listitem>
                  <listitem>
		    <para><guilabel>Time Until Due</guilabel></para>
                   </listitem>
                  <listitem>
		    <para><guilabel>Priority</guilabel></para>
                   </listitem>
               </itemizedlist>
               </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term>Style Options</term>
	    <listitem>
               <para>
                 Select among the following checkboxes to determine
                 how your To Do list will look:
                <itemizedlist>
                  <listitem>
		    <para><guilabel>Highlight overdue items</guilabel></para>
                   </listitem>
                  <listitem>
		    <para><guilabel>Highlight items due today</guilabel></para>
                   </listitem>
                  <listitem>
		    <para><guilabel>Highlight not yet due items</guilabel></para>
                   </listitem>
               </itemizedlist>                 
               </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </para>
    </sect2>

    <sect2 id="config-prefs-cal-alarms">
      <title>Alarms Settings</title>
      <para>  
        The <interface>alarms tab</interface> enables you to select from three boxes:
        <itemizedlist>
	  <listitem>
	    <para><guilabel>Beep on display alarms</guilabel>: select
	    this box to have <application>Evolution</application> beep
	    at you for any alarms you have set. These beeps
	    are distinct from full-fledged audio alarms. If you leave this box
	    unchecked, <application>Evolution</application> will only
	    alert you to events by opening a dialog box. 
           </para>
	  </listitem>
	  <listitem>
	    <para><guilabel>Audio alarms timeout after: </guilabel>
	    Select this button to have your audio alarms stop
	    automatically after a certain number of seconds.  </para>
	  </listitem>
	  <listitem>
	    <para><guilabel>Enable snoozing for:</guilabel> If you
	    would like to have the option to tell
	    <application>Evolution</application> to repeat an alarm in
	    a few minutes, select this button and decide how long
	    you'd like it to wait.
           </para>
	  </listitem>
	</itemizedlist>   
      </para>
    </sect2>

   </sect1>

   <sect1 id="config-prefs-contact">
      <title>Managing the Contact Manager</title>
	<para>
          To set the behavior of your Contact Manager, click on the
          <guibutton>Contact Manager</guibutton> tab in the
          <interface>Preferences</interface> window.
        </para>
	<para>
          You can set the following options: <!--insert variable list
          here-->
        </para>
      
        <sect2 id="config-prefs-contact-ldap-add">
           <title>Adding Directory Servers</title>
           <para>
              To add a new LDAP server to your available contact
              folders, select <menuchoice> <guimenu>Actions</guimenu>
              <guimenuitem>New Directory Server</guimenuitem>
              </menuchoice>.  This brings up a small dialog box which
              will let you enter the following options:
              <itemizedlist>
	         <listitem><para>
                    <guilabel>Name</guilabel> &mdash; any name you choose for the server.
                 </para></listitem>

                <listitem><para>
                    <guilabel>Description</guilabel> &mdash; a longer description of the server.
                 </para></listitem>

                    <listitem><para>
                    <guilabel>LDAP Server</guilabel> &mdash; the network address of the server.
                 </para></listitem> 
               
                   <listitem><para>
                    <guilabel>Port Number</guilabel> &mdash; by default, the port number is 389.
                 </para></listitem>

                   <listitem><para>
                    <guilabel>Root DN</guilabel> &mdash; enter the root DN here.
                 </para></listitem>
             </itemizedlist>
         </para>
       </sect2>
      </sect1>
    


  <sect1 id="config-prefs-general">
    <title>General Preferences</title> 
    <para>
          Additional configuration options will be covered here, as
          they become available.
        </para>
  </sect1>
</chapter>
    





